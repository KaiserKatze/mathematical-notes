\section{马尔可夫链}
\begin{definition}
%@see: 《应用随机过程：概率模型导论（第11版）》（Sheldon M. Ross，龚光鲁译） P150
设\(\{X_n\}_{n \in T}\)是一个随机过程，
\(\{X_n\}_{n \in T}\)的指标集与值域是\(\mathbb{N}\)中的某两个区间，
记\begin{equation*}
	P_{ij}
	\defeq
	P(
		X_{n+1} = j
		\vert
		X_n = i,
		X_{n-1} = k_{n-1},
		X_{n-2} = k_{n-2},
		\dotsc,
		X_1 = k_1,
		X_0 = k_0
	).
\end{equation*}
如果\begin{equation*}
	P_{ij}
	= P(
		X_{n+1} = j
		\vert
		X_n = i
	),
\end{equation*}
那么称“\(\{X_n\}_{n \in T}\)是一个\DefineConcept{马尔可夫链}（Markov chain）”.
%@see: https://mathworld.wolfram.com/MarkovChain.html
\end{definition}

显然\(P_{ij}\)表示“过程处于状态\(i\)时，下一次转移到状态\(j\)”的概率.
由于概率都是非负的，
又由于过程必须转移到某个状态，
所以有\begin{equation*}
	P_{ij} \geq 0\ (i,j=0,1,2,\dotsc),
	\qquad
	\sum_j P_{ij} = 1\ (i=0,1,2,\dotsc).
\end{equation*}

我们把矩阵\begin{equation*}
	\vb{P}
	\defeq \begin{bmatrix}
		P_{00} & P_{01} & \dots \\
		P_{10} & P_{11} & \dots \\
		\vdots & \vdots & \\
	\end{bmatrix}
\end{equation*}
称为“马尔可夫链\(\{X_n\}_{n \in T}\)的\DefineConcept{转移概率矩阵}（probability transition matrix，stochastic matrix）”
或“马尔可夫链\(\{X_n\}_{n \in T}\)的\DefineConcept{马尔可夫矩阵}（Markov matrix）”.
%@see: https://mathworld.wolfram.com/StochasticMatrix.html

\begin{example}[天气预报]
%@see: 《应用随机过程：概率模型导论（第11版）》（Sheldon M. Ross，龚光鲁译） P151 例4.1
假设明天下雨的概率只依赖于前一天的天气条件.
用\(X_n\)表示是否下雨，
下雨时，我们假定过程在状态\(0\)；
不下雨时，我们假定过程在状态\(1\)，
那么\(\{X_n\}_{n\geq0}\)是一个以\(\{0,1\}\)为状态的马尔可夫链，
它的转移矩阵为\begin{equation*}
	\vb{P} \defeq \begin{bmatrix}
		\alpha & 1-\alpha \\
		\beta & 1-\beta
	\end{bmatrix},
\end{equation*}
其中\(\alpha\)表示“如果今天下雨，那么明天下雨”的概率，
\(\beta\)表示“如果今天没有下雨，那么明天下雨”的概率.
\end{example}

\begin{example}[通信系统]
%@see: 《应用随机过程：概率模型导论（第11版）》（Sheldon M. Ross，龚光鲁译） P151 例4.2
考察一个传送数字0和1的通信系统.
每个数字的传送必须经过几个阶段，
在每个阶段有一个概率\(p\)使进入的数字在离开时不变.
以\(X_n\)表示第\(n\)个阶段进入的数字，
那么\(\{X_n\}_{n\geq0}\)是一个以\(\{0,1\}\)为状态的马尔可夫链，
它的转移矩阵为\begin{equation*}
	\vb{P} \defeq \begin{bmatrix}
		p & 1-p \\
		1-p & p
	\end{bmatrix}.
\end{equation*}
\end{example}

\begin{example}[将一个过程转变为马尔可夫链]
%@see: 《应用随机过程：概率模型导论（第11版）》（Sheldon M. Ross，龚光鲁译） P151 例4.4
假设今天是否下雨依赖于前两天的天气条件.
具体地，假设“如果过去两天都下雨，那么明天下雨”的概率为\(\alpha\)，
“如果今天下雨，但昨天没下雨，那么明天下雨”的概率为\(\beta\)，
“如果昨天下雨，但今天没下雨，那么明天下雨”的概率为\(\gamma\)，
“如果过去两天都没下雨，那么明天下雨”的概率为\(\delta\).

如果假设在时间\(n\)的状态只依赖于在时间\(n\)是否下雨，
那么上述模型就不是一个马尔可夫链.
然而，我们可以通过假定在任意时间的状态是由这一天与前一天的天气条件共同确定，
即用状态0表示“今天和昨天都下雨”，
用状态1表示“今天下雨，但昨天没有”，
用状态2表示“昨天下雨，但今天没有”，
用状态3表示“今天和昨天都没下雨”，
将上述模型转变为一个以\(\{0,1,2,3\}\)为状态的马尔可夫链，
它的转移矩阵为\begin{equation*}
	\vb{P} \defeq \begin{bmatrix}
		\alpha & 0 & 1-\alpha & 0 \\
		\beta & 0 & 1-\beta & 0 \\
		0 & \gamma & 0 & 1-\gamma \\
		0 & \delta & 0 & 1-\delta
	\end{bmatrix}.
\end{equation*}
\end{example}
