\section{反函数与复合函数}
\subsection{反函数}
根据\cref{theorem:集合论.关系及其逆是映射的充分必要条件}，
当函数\(f\colon X \to Y\)是单射时，
它有逆映射\(f^{-1}\).
\(f^{-1}\)的定义域和值域分别为\(Z=\ran f\)和\(\dom f=X\).
我们把这个逆映射称为“函数\(f\)的\DefineConcept{反函数}（inverse function）”.

%@see: 《数学分析（第二版 上册）》（陈纪修） P94 定理3.2.1（反函数存在性定理）
若函数\(f\)是定义在\(D\)上的严格单调函数，
则\(f\)一定是单射，
于是\(f\)的反函数\(f^{-1}\)必定存在，
容易证明，\(f^{-1}\)也是定义在\(f\ImageOfSetUnderRelation{D}\)上的严格单调函数.

相对于反函数\(f^{-1}\)来说，
原来的函数\(f\)就称为“\(f^{-1}\)的\DefineConcept{直接函数}”.
把直接函数\(y=f(x)\)和它的反函数\(y=f^{-1}(x)\)的图形画在同一坐标平面上，
如\cref{figure:函数.直接函数与反函数的图形的对称性} 所示，
可以看出这两个图形关于直线\(y=x\)是对称的.
这是因为如果\(P(a,b)\)是\(y=f(x)\)图形上的点，
则有\(b=f(a)\).
按反函数的定义，有\(a=f^{-1}(b)\)，
故\(Q(b,a)\)是\(y=f^{-1}(x)\)图形上的点；
反之，若\(Q(b,a)\)是\(y=f^{-1}(x)\)图形上的点，
则\(P(a,b)\)是\(y=f(x)\)图形上的点.
而\(P(a,b)\)与\(Q(b,a)\)是关于直线\(y=x\)对称的.

\begin{figure}[htb]
	\centering
	\begin{tikzpicture}
		\begin{axis}[
			xmin=0,xmax=5,
			ymin=0,ymax=5,
			restrict y to domain=0:10,
			grid=both,
			axis equal=true,
			axis lines=middle,
			xlabel=$x$,
			ylabel=$y$,
		]
			\begin{scope}[color=blue,samples=50,smooth]
				\addplot[domain=0:10]{exp(x)};
				\addplot[domain=1:10]{ln(x)};
			\end{scope}
			\addplot[color=black,dashed,domain=.5:8]{x};
			\filldraw(2.2,{ln(2.2)})circle(2pt)node[below]{$P$}
				--({ln(2.2)},2.2)circle(2pt)node[left]{$Q$};
			\draw(4.5,{ln(4.5)})node[above left]{$y=f(x)$}
				({ln(4.5)},4.5)node[below right]{$y=f^{-1}(x)$};
		\end{axis}
	\end{tikzpicture}
	\caption{}\label{figure:函数.直接函数与反函数的图形的对称性}
\end{figure}

\subsection{复合函数}
\begin{definition}
设函数\(y=f(u)\)的定义域为\(D_f\)，
函数\(u=g(x)\)的定义域为\(D_g\)，
且其值域\(R_g \subseteq D_f\)，
则函数\[
	y = f[g(x)],
	\quad x \in D_g
\]
称为由函数\(u=g(x)\)与函数\(y=f(u)\)构成的\DefineConcept{复合函数}，
它的定义域为\(D_g\)，变量\(u\)称为\DefineConcept{中间变量}.

函数\(g\)与函数\(f\)构成的复合函数，
即按“先\(g\)后\(f\)”的次序复合的函数，
通常记为\(f \circ g\)，即\[
	(f \circ g)(x) = f[g(x)].
\]
\end{definition}

\begin{proposition}
设\(f\)和\(g\)都是奇函数，
则\(f \circ g\)也是奇函数.
\begin{proof}
这是因为\(f[g(-x)]
= f[-g(x)]
= -f[g(x)]\).
\end{proof}
\end{proposition}

\begin{proposition}
设\(f\)和\(g\)都是偶函数，
则\(f \circ g\)也是偶函数.
\begin{proof}
这是因为\(f[g(-x)]
= f[g(x)]\).
\end{proof}
\end{proposition}

\begin{proposition}
设\(f\)是奇函数，\(g\)是偶函数，
则\(f \circ g\)和\(g \circ f\)都是偶函数.
\begin{proof}
这是因为\(f[g(-x)]
= f[g(x)]\)，
\(g[f(-x)]
= g[-f(x)]
= g[f(x)]\).
\end{proof}
\end{proposition}

\begin{proposition}
设\(f\)和\(g\)是严格单调增加函数，
则\(f \circ g\)是严格单调增加函数.
\begin{proof}
对于\(\forall x_1,x_2 \in \dom(f \circ g)\)，
当\(x_1 < x_2\)时，
有\(g(x_1) < g(x_2)\)，
从而有\(f[g(x_1)] < f[g(x_2)]\)，
这就说明\(f \circ g\)是严格单调增加函数.
\end{proof}
\end{proposition}

\begin{proposition}\label{theorem:函数.两个严格单调减少函数的复合严格单调增加}
设\(f\)和\(g\)是严格单调减少函数，
则\(f \circ g\)是严格单调增加函数.
\begin{proof}
对于\(\forall x_1,x_2 \in \dom(f \circ g)\)，
当\(x_1 < x_2\)时，
有\(g(x_1) > g(x_2)\)，
从而有\(f[g(x_1)] < f[g(x_2)]\)，
这就说明\(f \circ g\)是严格单调增加函数.
\end{proof}
\end{proposition}

\begin{proposition}
设\(f\)是严格单调增加函数，
\(g\)是严格单调减少函数，
则\(f \circ g\)和\(g \circ f\)都是严格单调减少函数.
\begin{proof}
对于\(\forall x_1,x_2 \in \dom(f \circ g)\)，
当\(x_1 < x_2\)时，
有\(g(x_1) > g(x_2)\)，
从而有\(f[g(x_1)] > f[g(x_2)]\)，
这就说明\(f \circ g\)是严格单调减少函数.
同理可证\(g \circ f\)也是严格单调减少函数.
\end{proof}
\end{proposition}
