\chapter{初等代数}
\section{二项式定理}
利用乘法分配律，我们能够很轻松地得到\DefineConcept{完全平方和公式}%
\begin{equation}
	(a + b)^2 = a^2 + 2ab + b^2,
\end{equation}
和\DefineConcept{完全立方和公式}%
\begin{equation}
	(a + b)^3 = a^3 + 3 a^2 b + 3 a b^2 + b^3.
\end{equation}

我们不禁想要知道一般的二项式\((a+b)^n\)应该如何展开.

\subsection{正整指数}
我们注意到，利用乘法分配律可以得到\begin{align*}
	(x+a_1)(x+a_2)
	&= x(x+a_2) + a_1(x+a_2) \\
	&= x^2 + a_2x + a_1x + a_1a_2 \\
	&= x^2 + (a_1+a_2)x + a_1a_2;
\end{align*}
类似地，有\begin{equation*}
	(x+a_1)(x+a_2)(x+a_3)
	= x^3 + (a_1+a_2+a_3)x^2 + (a_1a_2+a_1a_3+a_2a_3)x + a_1a_2a_3;
\end{equation*}\begin{align*}
	(x+a_1)(x+a_2)(x+a_3)(x+a_4)
	&= x^4 + (a_1+a_2+a_3+a_4)x^3 \\
		&\hspace{20pt}+ (a_1a_2+a_1a_3+a_1a_4+a_2a_3+a_2a_4+a_3a_4)x^2 \\
		&\hspace{20pt}+ (a_1a_2a_3+a_1a_2a_4+a_1a_3a_4+a_2a_3a_4)x^3 + a_1a_2a_3a_4.
\end{align*}
从这些结果里，我们可以总结出如下经验规律：
\begin{itemize}
	\item 等号右边的项数比左边二项因子的个数多1.
	\item 第一项的\(x\)的指数等于二项因子的个数，
	以后各项\(x\)的指数依次比前面一项小1.
	\item 第一项的系数为1；第二项的系数是数\(a,b,c,\dotsc\)的和；
	第三项的系数是从这\(n\)个数里一次取2个相乘的积的和；
	第四项的系数是从这\(n\)个数里一次取3个相乘的积的和；
	以此类推；最后一项是所有这\(n\)个数的乘积.
\end{itemize}

利用数学归纳法.
假设这些规律在左边有\(n-1\)个二项因子的情况下适用，
即设\begin{equation*}
	(x+a_1)(x+a_2)\dotsm(x+a_{n-1})
	= x^{n-1}+p_1 x^{n-2}+p_2 x^{n-3}+\dotsb+p_{n-1},
\end{equation*}
其中\begin{equation*}
	p_1 = a_1+a_2+\dotsb+a_{n-1},
	p_2 = a_1a_2+\dotsb+a_2a_3+\dotsb,
	\dotsc,
	p_{n-1} = a_1 a_2 \dotsm a_{n-1}.
\end{equation*}
在等式两边再乘以一个因子\(x+a_n\)，则有\begin{equation}\label{equation:二项式定理.更一般的二项式的展开式}
	\begin{split}
	(x+a_1)(x+a_2)\dotsm(x+a_{n-1})(x+a_n)
	&= x^n + (p_1+a_n)x^{n-1}
		+ (p_2+p_1a_n)x^{n-2} \\
		&\hspace{20pt}+ (p_3+p_2a_n)x^{n-3}
		+ \dotsb + p_{n-1} a_n.
	\end{split}
\end{equation}
由于\(p_1+a_n = (a_1+a_2+\dotsb+a_{n-1})+a_n\)
是\(n\)个数\(\AutoTuple{a}{n}\)的和，
\(p_2+p_1a_n = p_2+(a_1+a_2+\dotsb+a_{n-1})a_n\)
是\(n\)个数\(\AutoTuple{a}{n}\)一次选两个的乘积的和，
\(p_3+p_2a_n = p_3+(a_1a_2+\dotsb+a_2a_3+\dotsb)a_n\)
是\(n\)个数\(\AutoTuple{a}{n}\)一次选三个的乘积的和；
以此类推；\(p_{n-1} a_n = (a_1 a_2 \dotsm a_{n-1})a_n\)
是所有\(n\)个数\(\AutoTuple{a}{n}\)的乘积.
因此，上述规律对任意多个二项因子的乘积都成立.

在\cref{equation:二项式定理.更一般的二项式的展开式} 中，
它的第一项的系数是\(1 = C_n^0\)；
它的第二项系数\(p_1+a_n\)的项数等于\(n\)，即从\(n\)个元素中取出一个的取法\(C_n^1\)；
它的第三项系数\(p_2+p_1a_n\)的项数等于从\(n\)个元素中取出两个的取法\(C_n^2\)；
它的第四项系数\(p_3+p_2a_n\)的项数等于从\(n\)个元素中取出三个的取法\(C_n^3\)；
以此类推；最后一项的系数\(p_{n-1} a_n\)只有一项，等于从\(n\)个元素中取出全部\(n\)个的取法\(C_n^n\).
因此，如果我们令\begin{equation*}
	a_1 = a_2 = a_3 = \dotsb = a_{n-1} = a_n = a,
\end{equation*}
那么有
\begin{equation}\label{equation:二项式定理.二项式的展开式}
	(x+a)^n
	= C_n^0 a^0 x^n + C_n^1 a x^{n-1} + C_n^2 a^2 x^{n-2}
	+ \dotsb + C_n^{n-1} a^{n-1} x + C_n^n a^n.
\end{equation}
这就是\DefineConcept{二项式定理}.
我们把\cref{equation:二项式定理.二项式的展开式} 等号右边的部分\begin{equation*}
	\sum_{k=0}^n C_n^k a^k x^{n-k}
\end{equation*}称为“\((x+a)^n\)的展开式”；
把第\(k+1\)项\begin{equation*}
	C_n^k a^k x^{n-k}
\end{equation*}称为“\((x+a)^n\)的\DefineConcept{通项}或\DefineConcept{一般项}”.
可以注意到，在展开式的任意一项\begin{equation*}
	C_n^k a^k x^{n-k}
	\quad(k=0,1,2,\dotsc,n)
\end{equation*}中，\(a\)的指数都等于组合符号\(C_n^k\)的右上标\(k\)，
而\(x\)与\(a\)的指数之和等于组合符号\(C_n^k\)的右下标\(n\).

如果我们用\((-a)\)代替\(a\)，那么\cref{equation:二项式定理.二项式的展开式} 会变为\begin{equation*}
	(x-a)^n = C_n^0 (-a)^0 x^n + C_n^1 (-a) x^{n-1} + C_n^2 (-a)^2 x^{n-2}
	+ \dotsb + C_n^{n-1} (-a)^{n-1} x + C_n^n (-a)^n.
\end{equation*}
可以看出，\((x+a)^n\)与\((x-a)^n\)的展开式各项在绝对值上是相等的，即\begin{equation*}
	\abs{C_n^k (-a)^k x^{n-k}}
	= \abs{C_n^k a^k x^{n-k}}.
\end{equation*}
但是在\((x-a)^n\)的展开式里，各项依次地正负交错，
最后一项的正负号则依\(n\)为奇数还是偶数确定.

\begin{example}
求\((1+x)^n\)展开式的各项系数之和.
\begin{solution}
由\cref{equation:二项式定理.二项式的展开式} 有，\begin{equation*}
	(1+x)^n = 1+C_n^1 x+C_n^2 x^2+\dotsb+C_n^n x^n.
\end{equation*}
令\(x=1\)，上式就变为\begin{equation*}
	1+C_n^1+C_n^2+\dotsb+C_n^n = 2^n.
\end{equation*}
\end{solution}
这也算是对\cref{theorem:组合数性质3} 的另一种证明方法.
\end{example}

\begin{example}
证明：在\((1+x)^n\)的展开式中，奇位项系数之和等于偶位项系数之和.
\begin{proof}
在恒等式\begin{equation*}
	(1+x)^n = 1+C_n^1 x+C_n^2 x^2+C_n^3 x^3+C_n^4 x^4+C_n^5 x^5+\dotsb+C_n^n x^n
\end{equation*}中，取\(x=-1\)得\begin{equation*}
	0 = 1-C_n^1+C_n^2-C_n^3+C_n^4-C_n^5\dotsb+(-1)^n C_n^n;
	\eqno(1)
\end{equation*}
取\(x=1\)得\begin{equation*}
	2^n = 1+C_n^1+C_n^2+C_n^3+C_n^4+C_n^5+\dotsb+C_n^n.
	\eqno(2)
\end{equation*}

将(1)式与(2)式相加，得\begin{equation*}
	2^n = 2(1+C_n^2+C_n^4+\dotsb)
	= 2 \sum_{\substack{
		0 \leq 2k \leq n \\
		k=0,1,2\dotsc
	}} C_n^{2k},
\end{equation*}
于是偶位项系数之和为\begin{equation*}
	1+C_n^2+C_n^4+\dotsb = 2^{n-1}.
\end{equation*}

将(2)式与(1)式相减，得\begin{equation*}
	2^n = 2(C_n^1+C_n^3+C_n^5+\dotsb)
	= 2 \sum_{\substack{
		1 \leq 2k+1 \leq n \\
		k=0,1,2,\dotsc
	}} C_n^{2k+1},
\end{equation*}
于是奇位项系数之和为\begin{equation*}
	C_n^1+C_n^3+C_n^5+\dotsb = 2^{n-1}.
\end{equation*}

综上所述，我们有\begin{equation*}
	1+C_n^2+C_n^4+\dotsb
	= C_n^1+C_n^3+C_n^5+\dotsb
	= 2^{n-1},
\end{equation*}
也就是说，偶位项系数之和、奇位项系数之和两者都等于\(2^{n-1}\).
\end{proof}
\end{example}

\subsection{有理指数}
在上一小节，我们研究了指数为正整数的二项式定理.
现在我们来考虑当指数为负数或分数时，二项式定理是否仍然成立.

设\begin{equation*}
	(1+x)^m
	= 1 + mx + \frac{m(m-1)}{1\cdot2}x^2
	+ \frac{m(m-1)(m-2)}{1\cdot2\cdot3}x^3
	+ \dotsb
\end{equation*}与\begin{equation*}
	(1+x)^n
	= 1 + nx + \frac{n(n-1)}{1\cdot2}x^2
	+ \frac{n(n-1)(n-2)}{1\cdot2\cdot3}x^3
	+ \dotsb
\end{equation*}的乘积为\begin{equation*}
	1 + A_1 x + A_2 x^2 + A_3 x^3 + \dotsb.
\end{equation*}
显然，\(A_1,A_2,A_3,\dotsc\)是\(m\)与\(n\)的函数，
所以，在任何特定的情况下，
\(A_1,A_2,A_3,\dotsc\)的实际取值依赖于\(m\)与\(n\)的值.
但是，在上述两个乘数中，\(x\)的幂的系数结合成\(A_1,A_2,A_3,\dotsc\)的方式，是与\(m,n\)无关的.
换句话说，无论\(m\)与\(n\)取什么值，\(A_1,A_2,A_3,\dotsc\)总保持同样的形式.
所以，如果对任意一组\(m,n\)的值我们能决定\(A_1,A_2,A_3,\dotsc\)的形式，
那么就能做出结论，对于\(m,n\)的所有值，\(A_1,A_2,A_3,\dotsc\)都有同样的形式.

上面阐述的这个原则，作为一个“等价形式的不变性”的例子，经常会被提到.
目前，我们只要承认这样的事实：
在任何代数乘积里，无论所牵涉的量是整数还是分数，是正数还是负数，其结果的形式总不变.
我们将运用这一原理，为有理指数的二项式定理给出一般性的证明.
这一证明是欧拉给出的.

我们先来证明指数为正分数的二项式定理.
%TODO

\section{常见代数公式}

\begin{theorem}[平方差、立方差公式]
\begin{equation*}
a^2 - b^2 = (a-b)(a+b),
\end{equation*}\begin{equation*}
a^3 - b^3 = (a-b)(a^2+ab+b^2),
\end{equation*}

推广一下可得，当\(n \in \mathbb{N}^+\)时，有\begin{equation*}
a^n - b^n = (a-b) \sum_{k=0}^{n-1}{a^{n-1-k} b^k}
= (a-b)(a^{n-1} + a^{n-2} b + \dotsb + b^{n-1}).
\end{equation*}
\end{theorem}

设\(n\)是正整数，则\(x^n-1\)总可被\(x-1\)整除，且\begin{equation*}
	\frac{x^n-1}{x-1}
	= x^{n-1} + \frac{x^{n-1}-1}{x-1}.
\end{equation*}

\section{初等代数方程}
我们在生活中，经常会遇到这样的问题：
一些量的取值已知，而另一些量的取值未知，
这些已知量和未知量的数量关系已知，
求解未知量的取值范围.
例如，已知一个正常人总有两条腿，
假设一群人站在操场上，
你数出他们的腿共有20条，
要求这群人的人数.
那么你可以用字母\(x\)表示这群人的人数，
因为一个正常人有两条腿，所以这群人的腿一共有\(2x\)条，
也就是说\(2x=20\).
于是我们可以计算得出\(x=\frac{20}{2}=10\)，
那么操场上有10个人.
像这样，我们就可以把很多问题归结为求解未知量的取值范围的问题.

下面，我们给出“方程”的定义.

我们知道，对于任意一条合式公式\(\phi\)，
我们总是可以用受限变元\(x\)代替\(\phi\)中的某个自由变元\(a\)，
得到一个新的公式\(\phi(x)\).
我们把\(\phi(x)\)称为“关于未知量\(x\)的\DefineConcept{方程}（algebraic equation）”，
%@see: https://mathworld.wolfram.com/AlgebraicEquation.html
%@see: https://mathworld.wolfram.com/Unknown.html
把类\begin{equation*}
	\Set{ x \given \phi(x) }
\end{equation*}称为“方程\(\phi(x)\)的\DefineConcept{解}”.

特别地，如果\(X\)是集合，那么我们把集合\begin{equation*}
	\Set{ x \in X \given \phi(x) }
\end{equation*}称为“方程\(\phi(x)\)的\(X\)~\DefineConcept{解}”.

例如，对于给定的方程\begin{equation*}
	x(x-1)(x^2-2)(x^2+1)=0,
\end{equation*}
当\(X=\mathbb{Z}^+\)时，我们可以解出它的\emph{正整数}解\(\{1\}\)；
当\(X=\mathbb{Q}\)时，我们可以解出它的\emph{有理数}解\(\{0,1\}\)；
当\(X=\mathbb{R}\)时，我们可以解出它的\emph{实数}解\(\{0,1,\pm\sqrt2\}\)；
当\(X=\mathbb{C}\)时，我们可以解出它的\emph{复数}解\(\{0,1,\pm\sqrt2,\pm\iu\}\).

如果\begin{equation*}
	\Set{ x \in X \given \phi(x) } = \emptyset,
\end{equation*}
那么称“方程\(\phi(x)\)没有\(X\)~\DefineConcept{解}”.

%@see: https://mathworld.wolfram.com/VietasFormulas.html
%@see: https://davidaltizio.web.illinois.edu/Vietas%20Formulas.pdf
\subsection{一元二次方程}
一元二次方程的一般形式为：
\begin{equation}\label[quadratic-equation]{equation:一元二次方程.一元二次方程的一般形式}
	ax^2 + bx + c = 0, \quad a \neq 0,
\end{equation}
其中，\(ax^2\)称为\DefineConcept{二次项}，
\(bx\)称为\DefineConcept{一次项}，
\(c\)称为\DefineConcept{常数项}，
把\(a\)、\(b\)、\(c\)统称为“\cref{equation:一元二次方程.一元二次方程的一般形式} 的\DefineConcept{系数}”.

\cref{equation:一元二次方程.一元二次方程的一般形式} 两端同除以\(a\)，得\begin{equation*}
	x^2 + \frac{b}{a} x + \frac{c}{a} = 0,
\end{equation*}
配方，得\begin{equation*}
	\left( x + \frac{b}{2a} \right)^2 + \left( \frac{c}{a} - \frac{b^2}{4a^2} \right) = 0,
\end{equation*}
移项，再开方，得\begin{equation*}
	x = -\frac{b}{2a} \pm \sqrt{\frac{b^2}{4a^2} - \frac{c}{a}}
	= -\frac{b}{2a} \pm \sqrt{\frac{b^2-4ac}{4a^2}}
	= \frac{-b \pm \sqrt{b^2-4ac}}{2a}.
\end{equation*}
于是我们得到一元二次方程\(ax^2 + bx + c = 0\ (a\neq0)\)的两个解\begin{equation*}
	x_1 = \frac{-b + \sqrt{b^2-4ac}}{2a},
	\qquad
	x_2 = \frac{-b - \sqrt{b^2-4ac}}{2a}.
\end{equation*}

\begin{theorem}
记\(\Delta \defeq b^2-4ac\)，
称之为\cref{equation:一元二次方程.一元二次方程的一般形式}
的\DefineConcept{判别式}（{\rm discriminant}）.
\begin{itemize}
	\item 当\(\Delta > 0\)时，它有两个不同的实根\begin{equation*}
		x = \frac{-b \pm \sqrt{\Delta}}{2a}.
	\end{equation*}
	\item 当\(\Delta = 0\)时，它有两个相同的实根\begin{equation*}
		x = -\frac{b}{2a}.
	\end{equation*}
	\item 当\(\Delta < 0\)时，它有一对共轭复根\begin{equation*}
		x = \frac{-b \pm \iu \sqrt{-\Delta}}{2a}.
	\end{equation*}
\end{itemize}
\end{theorem}

\begin{theorem}[韦达定理]\label{theorem:一元二次方程.韦达定理}
设\(x_1,x_2\)是\cref{equation:一元二次方程.一元二次方程的一般形式} 的两个根，
则有\begin{equation*}
	x_1 + x_2 = -\frac{b}{a},
	\qquad
	x_1 \cdot x_2 = \frac{c}{a}.
\end{equation*}
\begin{proof}
因为\(x_1,x_2\)是一元二次方程\(ax^2 + bx + c = 0\)的两个根，
所以原方程可化为\begin{equation*}
	a(x - x_1)(x - x_2) = 0
	\quad\text{或}\quad
	a x^2 - a (x_1 + x_2) x + a x_1 x_2 = 0.
\end{equation*}
将上式与\cref{equation:一元二次方程.一元二次方程的一般形式} 比较可得\begin{equation*}
	b = -a (x_1 + x_2),
	\qquad
	c = a x_1 x_2.
\end{equation*}
整理得\(x_1 + x_2 = -\frac{b}{a}, x_1 \cdot x_2 = \frac{c}{a}\).
\end{proof}
\end{theorem}

\subsection{一元三次方程}
对于一般的一元三次方程\begin{equation}\label[cubic-equation]{equation:一元三次方程.一元三次方程的一般形式}
	ax^3+bx^2+cx+d=0 \quad(a\neq0),
\end{equation}
我们总可通过以下步骤将其化为标准形式.

\begin{algorithm}[将一元三次方程的一般形式化为标准形式]
\hfill
\begin{enumerate}
	\item 首先在\cref{equation:一元三次方程.一元三次方程的一般形式} 等号两边同除以\(a\)，
	得\begin{equation*}
		x^3 + \frac{b}{a} x^2 + \frac{c}{a} x + \frac{d}{a} = 0;
	\end{equation*}

	\item 再令\(x \defeq y-\frac{b}{3a}\)，
	得\begin{equation*}
		\left(y-\frac{b}{3a}\right)^3
		+ \frac{b}{a} \left(y-\frac{b}{3a}\right)^2
		+ \frac{c}{a} \left(y-\frac{b}{3a}\right)
		+ \frac{d}{a}
		= 0,
	\end{equation*}
	整理得\begin{equation}
		y^3 + py + q = 0,
	\end{equation}
	其中\begin{equation*}
		p \defeq \frac{3ac-b^2}{3a^2},
		\qquad
		q \defeq \frac{2b^3}{27a^3}-\frac{bc}{3a^2}+\frac{d}{a}.
	\end{equation*}
\end{enumerate}
\end{algorithm}

\begin{theorem}[卡丹公式]
\def\a{-\frac{q}{2}}%
\def\d{\frac{q^2}{4}+\frac{p^3}{27}}
\def\b{\sqrt{\d}}%
\def\c#1{\sqrt[3]{\a#1\b}}%
形如\begin{equation*}
	x^3 + px + q = 0 \quad (p,q \in \mathbb{C})
\end{equation*}的一元三次方程的解为\begin{equation*}
	x = \c{+}+\c{-}.
\end{equation*}

令\begin{equation*}
	\alpha=\c{+}, \qquad \beta=\c{-}.
\end{equation*}
总成立\begin{equation*}
	\alpha \beta = -\frac{p}{3}.
\end{equation*}

当\(p,q\in\mathbb{R}\)时，判别式\begin{equation*}
	\Delta \defeq -108\left(\d\right) = -27q^2-4p^3
\end{equation*}的正负号决定了\(x^3+px+q=0\)的根的性质：\begin{enumerate}
	\item 当\(\Delta>0\)时，方程的三个根是各不相同的实根.
	\item 当\(\Delta=0\)时，\begin{enumerate}
		\item 如果\(p=q=0\)，则方程有三重实根；
		\item 如果\(p\neq0\)且\(q\neq0\)，则方程有一个二重实根和一个与之不同的实根.
		\end{enumerate}
	\item 当\(\Delta<0\)时，方程的三个根各不相同，其中一个是实根，两个是共轭复根.
\end{enumerate}
\end{theorem}

\begin{theorem}[韦达定理]\label{theorem:一元三次方程.韦达定理}
设\(x_1,x_2,x_3\)是\cref{equation:一元三次方程.一元三次方程的一般形式} 的三个根，
则有\begin{equation*}
	x_1 + x_2 + x_3 = -\frac{b}{a},
	\qquad
	x_1 x_2 + x_2 x_3 + x_3 x_1 = \frac{c}{a},
	\qquad
	x_1 x_2 x_3 = -\frac{d}{a}.
\end{equation*}
\end{theorem}
