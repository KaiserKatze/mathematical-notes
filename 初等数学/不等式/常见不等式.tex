\section{常见不等式}
\subsection{三角不等式}
\begin{theorem}[三角不等式I]\label{theorem:不等式.三角不等式1}
设\(a,b\in\mathbb{R}\)，那么\begin{equation}
	\abs{a \pm b}
	\leq
	\abs{a} + \abs{b}.
\end{equation}
当且仅当\(ab\geq0\)时，
有\(\abs{a+b}=\abs{a}+\abs{b}\).
当且仅当\(ab\leq0\)时，
有\(\abs{a-b}=\abs{a}+\abs{b}\).
\begin{proof}
对于任意实数\(a,b\)，总有\[
	-\abs{a} \leq a \leq \abs{a}, \qquad
	-\abs{b} \leq \pm b \leq \abs{b}.
\]
将上述两式相加，得\[
	-(\abs{a}+\abs{b}) \leq a \pm b \leq \abs{a}+\abs{b},
\]
即\(\abs{a \pm b} \leq \abs{a}+\abs{b}\).

下面来研究不等式\(\abs{a \pm b} \leq \abs{a} + \abs{b}\)取等号的充分必要条件.
我们可以按\(a>0,a=0,a<0\)以及\(b>0,b=0,b<0\)来分情况讨论.

当\(b=0\)时，
有\[
	\abs{a \pm b} = \abs{a} = \abs{a} + \abs{b}.
\]
当\(a=0\)时，
有\[
	\abs{a \pm b} = \abs{b} = \abs{a} + \abs{b}.
\]
当\(a>b>0\)时，
有\[
	\abs{a + b} = a + b = \abs{a} + \abs{b}, \qquad
	\abs{a - b} = a - b < a + b = \abs{a} + \abs{b}.
\]
当\(b>a>0\)时，
有\[
	\abs{a + b} = a + b = \abs{a} + \abs{b}, \qquad
	\abs{a - b} = b - a < a + b = \abs{a} + \abs{b}.
\]
当\(a<b<0\)时，
有\[
	\abs{a + b} = -a-b = \abs{a} + \abs{b}, \qquad
	\abs{a - b} = b-a < -a-b = \abs{a} + \abs{b}.
\]
当\(b<a<0\)时，
有\[
	\abs{a + b} = -a-b = \abs{a} + \abs{b}, \qquad
	\abs{a - b} = a-b < -a-b = \abs{a} + \abs{b}.
\]
当\(a>0>b\)时，
有\[
	\abs{a + b} \neq a - b = \abs{a} + \abs{b}, \qquad
	\abs{a - b} = a - b = \abs{a} + \abs{b}.
\]
当\(a<0<b\)时，
有\[
	\abs{a + b} \neq b - a = \abs{a} + \abs{b}, \qquad
	\abs{a - b} = b - a = \abs{a} + \abs{b}.
\]
综上所述，\[
	\abs{a + b} = \abs{a} + \abs{b} \iff ab \geq 0, \qquad
	\abs{a - b} = \abs{a} + \abs{b} \iff ab \leq 0.
	\qedhere
\]
\end{proof}
\end{theorem}

\begin{theorem}[三角不等式II]\label{theorem:不等式.三角不等式2}
设\(a,b\in\mathbb{R}\)，那么\begin{equation}
	\abs{\abs{a}-\abs{b}}
	\leq
	\abs{a \pm b}.
\end{equation}
当且仅当\(ab\leq0\)时，
有\(\abs{\abs{a}-\abs{b}}=\abs{a+b}\).
当且仅当\(ab\geq0\)时，
有\(\abs{\abs{a}-\abs{b}}=\abs{a-b}\).
\begin{proof}
由\cref{theorem:不等式.三角不等式1}，
有\[
	\abs{a}
	=\abs{(a-b)+b}
	\leq\abs{a-b}+\abs{b},
\]
移项得\[
	\abs{a}-\abs{b}\leq\abs{a-b}.
	\eqno(1)
\]
同理，有\[
	\abs{b}
	=\abs{(b-a)+a}
	\leq\abs{b-a}+\abs{a}
	=\abs{a-b}+\abs{a},
\]
移项得\[
	\abs{b}-\abs{a}\leq\abs{a-b},
\]
也即\[
	-\abs{a-b}\leq\abs{a}-\abs{b}.
	\eqno(2)
\]
因此，我们可以将(1)(2)两式合写为\[
	-\abs{a-b}\leq\abs{a}-\abs{b}\leq\abs{a-b},
\]
也即\[
	\abs{\abs{a}-\abs{b}}\leq\abs{a-b}.
	\eqno(3)
\]

由\cref{theorem:不等式.三角不等式1}，
又有\[
	\abs{a}
	=\abs{(a+b)-b}
	\leq\abs{a+b}+\abs{b},
	\qquad
	\abs{b}
	=\abs{(b+a)-a}
	\leq\abs{b+a}+\abs{a},
\]
分别移项得\[
	\abs{a}-\abs{b}\leq\abs{a+b}, \qquad
	\abs{b}-\abs{a}\leq\abs{b+a},
\]
于是\[
	-\abs{a+b}\leq\abs{a}-\abs{b}\leq\abs{a+b},
\]
也即\[
	\abs{\abs{a}-\abs{b}}\leq\abs{a+b}.
	\eqno(4)
\]

最后，我们将(3)(4)两式合写为\[
	\abs{\abs{a}-\abs{b}}\leq\abs{a \pm b}.
	\qedhere
\]

下面来研究不等式\(\abs{\abs{a}-\abs{b}} \leq \abs{a \pm b}\)取等号的充分必要条件.

当\(a=0\)时，有\[
	\abs{\abs{a}-\abs{b}}
	= \abs{b}
	= \abs{a \pm b}.
\]
当\(b=0\)时，有\[
	\abs{\abs{a}-\abs{b}}
	= \abs{a}
	= \abs{a \pm b}.
\]
当\(a>b>0\)时，有\[
	\abs{\abs{a}-\abs{b}}
	= \abs{a-b}
	= a-b
	= \abs{a-b}.
\]
当\(b>a>0\)时，有\[
	\abs{\abs{a}-\abs{b}}
	= \abs{a-b}
	= b-a
	= \abs{a-b}.
\]
当\(a,b<0\)时，有\[
	\abs{\abs{a}-\abs{b}}
	= \abs{-a-(-b)}
	= \abs{b-a}
	= \abs{a-b}
	\neq \abs{a+b}.
\]
当\(a>0>b\)时，有\[
	\abs{\abs{a}-\abs{b}}
	= \abs{a-(-b)}
	= \abs{a+b}.
\]
当\(b>0>a\)时，有\[
	\abs{\abs{a}-\abs{b}}
	= \abs{(-a)-b}
	= \abs{a+b}.
\]
综上所述，\[
	\abs{\abs{a}-\abs{b}}=\abs{a-b} \iff ab \geq 0, \qquad
	\abs{\abs{a}-\abs{b}}=\abs{a+b} \iff ab \leq 0.
	\qedhere
\]
\end{proof}
\end{theorem}

现在我们可以把\cref{theorem:不等式.三角不等式1,theorem:不等式.三角不等式2} 合并写出如下不等式：
\begin{equation}
	\abs{\abs{a}-\abs{b}}\leq\abs{a \pm b}\leq\abs{a}+\abs{b}.
\end{equation}

\begin{corollary}\label{theorem:不等式.三角不等式1.推论1}
设\(\AutoTuple{a}{n}\)是实数，
则\[
	\abs{\sum_{i=1}^n a_i}
	\leq
	\sum_{i=1}^n \abs{a_i}.
\]
当且仅当\(\AutoTuple{a}{n}\)同号时，上式取“=”号.
\begin{proof}
用数学归纳法.
当\(n=1\)时，
\(\abs{\sum_{i=1}^n a_i} = \abs{a_1}\)
而\(\sum_{i=1}^n \abs{a_i} = \abs{a_1}\)，
命题成立.
假设当\(n=k\)时，
命题也成立，
即有\[
	\abs{\sum_{i=1}^k a_i}
	\leq
	\sum_{i=1}^k \abs{a_i}.
\]
那么当\(n=k+1\)时，
易得\begin{align*}
	\abs{\sum_{i=1}^{k+1} a_i}
	&= \abs{\left(\sum_{i=1}^k a_i\right) + a_{k+1}} \\
	&\leq \abs{\sum_{i=1}^k a_i} + \abs{a_{k+1}}
		\tag{\hyperref[theorem:不等式.三角不等式1]{三角不等式}} \\
	&\leq \left(\sum_{i=1}^k \abs{a_i}\right) + \abs{a_{k+1}}
		\tag{归纳假设} \\
	&= \sum_{i=1}^{k+1} \abs{a_i}.
\end{align*}
因此，命题对任意正整数均成立.
\end{proof}
\end{corollary}

\subsection{基本不等式}
\begin{theorem}\label{theorem:不等式.基本不等式1}
如果\(a\in\mathbb{R}\)，
那么\(a^2\geq0\)
（当且仅当\(a=0\)时取“\(=\)”号）.
\begin{proof}
当\(a>0\)时，有\(a^2>0\).
当\(a<0\)时，有\(a^2>0\).
当\(a=0\)时，有\(a^2=0\).
综上所述，有\[
	a\in\mathbb{R}
	\implies
	[
		a^2\geq0
		\land
		[a=0 \iff a^2=0]
	].
	\qedhere
\]
\end{proof}
\end{theorem}

\begin{theorem}\label{theorem:不等式.基本不等式2}
如果\(a,b\in\mathbb{R}\)，
那么\(a^2 + b^2 \geq 2ab\)
（当且仅当\(a=b\)时取“\(=\)”号）.
\begin{proof}
因为\(a,b\in\mathbb{R}\)，
所以\(a-b\in\mathbb{R}\)，
\((a-b)^2 = a^2 - 2ab + b^2 \geq 0\)，
移项得\[
	a^2 + b^2 \geq 2ab.
	\qedhere
\]
\end{proof}
\end{theorem}

\begin{corollary}\label{theorem:不等式.基本不等式2推论1}
如果\(a,b\in\mathbb{R}^+\)，
那么\(\frac{a+b}{2} \geq \sqrt{ab}\)
（当且仅当\(a=b\)时取“\(=\)”号）.
\begin{proof}
在\cref{theorem:不等式.基本不等式2} 中，
分别用\(\sqrt{a}\)和\(\sqrt{b}\)代\(a\)和\(b\)，
立即可得.
\end{proof}
\end{corollary}

\begin{corollary}\label{theorem:不等式.基本不等式2推论2}
如果\(a,b\in\mathbb{R}^+\)，
那么\(\left(\frac{a+b}2\right)^2 \geq ab\)
（当且仅当\(a=b\)时取“\(=\)”号）.
\begin{proof}
在\cref{theorem:不等式.基本不等式2推论1} 中的不等式两边同时取平方，立即可得.
\end{proof}
\end{corollary}

类似地，我们还可以得到如下结论.
\begin{theorem}\label{theorem:不等式.基本不等式3}
如果\(a,b,c\in\mathbb{R}^+\)，
那么\(a^3 + b^3 + c^3 \geq 3abc\)
（当且仅当\(a=b=c\)时取“\(=\)”号）.
\begin{proof}
因为\[
	a^3+b^3+c^3-3abc
	= (a+b+c)(a^2+b^2+c^2-ab-bc-ca),
\]
其中\(a+b+c>0\)，
所以\[
	a^3 + b^3 + c^3 \geq 3abc
	\iff
	a^2+b^2+c^2-ab-bc-ca
	= \frac12 \left[
		(a-b)^2+(b-c)^2+(c-a)^2
	\right]
	\geq 0.
\]
显然成立.
\end{proof}
\end{theorem}

\begin{corollary}\label{theorem:不等式.基本不等式3推论}
如果\(a,b,c\in\mathbb{R}^+\)，
那么\(\frac{a+b+c}{3} \geq \sqrt[3]{abc}\)
（当且仅当\(a=b=c\)时取“\(=\)”号）.
\begin{proof}
在\cref{theorem:不等式.基本不等式3} 中，
我们分别用\(\sqrt[3]{a},\sqrt[3]{b},\sqrt[3]{c}\)代\(a,b,c\)，
立即可得.
\end{proof}
\end{corollary}

现在我们对\cref{theorem:不等式.基本不等式2推论1,theorem:不等式.基本不等式3推论} 作进一步推广.
\begin{proposition}\label{theorem:不等式.基本不等式n几何平均数与算术平均数}
设\(\AutoTuple{x}{n}\geq0\)，
则\[
	\frac{x_1+\dotsb+x_n}{n} \geq \sqrt[n]{x_1 \dotsm x_n}.
\]
该不等式当且仅当\(x_1=\dotsb=x_n\)时取“\(=\)”号.
\begin{proof}
用向前向后数学归纳法.
记\begin{align*}
	A_n &= \frac{x_1+\dotsb+x_n}{n}, \\
	G_n &= \sqrt[n]{x_1 \dotsm x_n}.
\end{align*}
当\(n=2\)时，
由\cref{theorem:不等式.基本不等式2推论1}
有\(G_2 \leq A_2\).
现在假设当\(n=k\)时，有\(G_k \leq A_k\)成立.
那么当\(n=2k\)时，就有\begin{align*}
	G_{2k}
	&= \sqrt[2k]{x_1 \dotsm x_{2k}} \\
	&= \sqrt[k]{
		\sqrt{x_1 x_2} \dotsm \sqrt{x_{2k-1} x_{2k}}
	} \\
	&\leq \frac1k (
		\sqrt{x_1 x_2} + \dotsb + \sqrt{x_{2k-1} x_{2k}}
	) \\
	&\leq \frac1k \left[
		\frac12(x_1 + x_2) + \dotsb + \frac12(x_{2k-1} + x_{2k})
	\right] \\
	&= \frac{1}{2k} (x_1 + \dotsb + x_{2k})
	= A_{2k}.
\end{align*}
这就是说，当\(n\)是\(2\)的幂时，不等式\(G_n \leq A_n\)成立.

下面证明，当\(n=k\)时，若\(G_k \leq A_k\)成立，则\(G_{k-1} \leq A_{k-1}\)成立.
令\[
	\sqrt[k]{x_1 \dotsm x_{k-1} \cdot t}
	= \sqrt[k-1]{x_1 \dotsm x_{k-1}},
\]
得\(t^{\frac1k}
= (x_1 \dotsm x_{k-1})^{\frac{1}{k(k-1)}}\)，
即\(t = \sqrt[k-1]{x_1 \dotsm x_{k-1}}\).
那么根据归纳假设\(G_k \leq A_k\)，
就有\[
	t = \sqrt[k]{x_1 \dotsm x_{k-1} \cdot t}
	\leq \frac1k (x_1 + \dotsb + x_{k-1} + t),
\]
移项得\[
	\frac{k-1}{k} t
	= \left(1-\frac1k\right) t
	\leq \frac1k (x_1 + \dotsb + x_{k-1}),
\]
整理得\(\sqrt[k-1]{x_1 \dotsm x_{k-1}}
= t \leq \frac{1}{k-1} (x_1 + \dotsb + x_{k-1})\)，
\(G_{k-1} \leq A_{k-1}\)成立.
\end{proof}
\end{proposition}

\begin{corollary}\label{theorem:不等式.基本不等式n几何平均数与调和平均数}
设\(x_1,\dotsc,x_n>0\)，
则\[
	\sqrt[n]{x_1 \dotsm x_n}
	\geq n \left(\frac{1}{x_1} + \dotsb + \frac{1}{x_n}\right)^{-1}.
\]
当且仅当\(x_1=\dotsb=x_n\)时，
上式取“\(=\)”号.
\begin{proof}
因为当\(x_1,\dotsc,x_n>0\)时，
有\(x_1^{-1},\dotsc,x_n^{-1}>0\)，
那么由\cref{theorem:不等式.基本不等式n几何平均数与算术平均数} 可得\[
	\frac{1}{\sqrt[n]{x_1 \dotsm x_n}}
	= \sqrt[n]{x_1^{-1} \dotsm x_n^{-1}}
	\leq \frac1n (x_1^{-1} + \dotsb + x_n^{-1}),
\]
取倒数得\[
	\sqrt[n]{x_1 \dotsm x_n}
	\geq n \left(\frac{1}{x_1} + \dotsb + \frac{1}{x_n}\right)^{-1}.
	\qedhere
\]
\end{proof}
\end{corollary}

\begin{proposition}\label{theorem:不等式.基本不等式n算术平均数与平方平均数}
设\(\AutoTuple{x}{n}\geq0\)，
则\[
	\sqrt{\frac{x_1^2+\dotsb+x_n^2}{n}} \geq \frac{x_1+\dotsb+x_n}{n}.
\]
当且仅当\(x_1=\dotsb=x_n\)时，
上式取“\(=\)”号.
\begin{proof}
由\cref{theorem:不等式.基本不等式2}
可知\(2 x_i x_j \leq x_i^2 + x_j^2\ (i,j=1,2,\dotsc,n)\)，
于是\begin{align*}
	\left(\sum_{i=1}^n x_i\right)^2
	&=\sum_{i=1}^n \sum_{j=1}^n x_i x_j
	\leq \sum_{i=1}^n \sum_{j=1}^n \frac{x_i^2+x_j^2}{2} \\
	&= \frac12 \left(
		\sum_{i=1}^n \sum_{j=1}^n x_i^2
		+ \sum_{i=1}^n \sum_{j=1}^n x_j^2
	\right) \\
	&= \frac12 \left(
		\sum_{i=1}^n n x_i^2
		+ \sum_{j=1}^n n x_j^2
	\right)
	= n \sum_{i=1}^n x_i^2,
\end{align*}
在上面的不等式两端同乘\(\frac{1}{n^2}\)，得\[
	\frac{1}{n^2} \left(\sum_{i=1}^n x_i\right)^2
	\leq \frac1n \sum_{i=1}^n x_i^2,
\]
再同时开方，得\[
	\frac1n \sum_{i=1}^n x_i
	\leq \sqrt{\frac1n \sum_{i=1}^n x_i^2}.
	\qedhere
\]
\end{proof}
\end{proposition}

现在我们可以把\cref{theorem:不等式.基本不等式n几何平均数与调和平均数,theorem:不等式.基本不等式n几何平均数与算术平均数,theorem:不等式.基本不等式n算术平均数与平方平均数} 合并写出如下不等式：
\begin{theorem}\label{theorem:不等式.均值不等式}
如果\(\AutoTuple{x}{n}\in\mathbb{R}^+\)，那么
\begin{equation}
	n \left( \frac{1}{x_1} + \dotsb + \frac{1}{x_n} \right)^{-1}
	\leq \sqrt[n]{x_1 \dotsm x_n}
	\leq \frac{x_1 + \dotsb + x_n}{n}
	\leq \sqrt{\frac{x_1^2 + \dotsb + x_n^2}{n}}.
\end{equation}
当且仅当\(x_1=\dotsb=x_n\)时，
上式取“\(=\)”号.
\rm
上述四个式子依次分别称为\DefineConcept{调和平均数}、\DefineConcept{几何平均数}、\DefineConcept{算术平均数}、\DefineConcept{平方平均数}.
\end{theorem}

\begin{corollary}\label{theorem:不等式.均值不等式推论}
如果\(\AutoTuple{x}{n},\AutoTuple{p}{n}\in\mathbb{R}^+\)，那么
\begin{equation}
	x_1^{p_1} \dotsm x_n^{p_n}
	\leq
	\left(
		\frac{p_1 x_1 + \dotsb + p_n x_n}{p_1 + \dotsb + p_n}
	\right)^{p_1 + \dotsb + p_n}.
\end{equation}
\end{corollary}

\subsection{杨格不等式}
\begin{theorem}[杨格不等式]\label{theorem:不等式.杨格不等式}
设\(a,b\geq0\)，
正有理数\(p,q\)满足\(\frac1p+\frac1q=1\)，
则\begin{equation}
	ab \leq \frac{a^p}{p} + \frac{b^q}{q}.
\end{equation}
\begin{proof}
%@see: https://math.stackexchange.com/a/259837/591741
因为\(\frac1p+\frac1q=1\)，
所以不妨设\(p = \frac{m+n}{m},
q = \frac{m+n}{n}\)，
其中\(m,n\in\mathbb{N}\).
又设\(c=a^p,
d=b^q\)，
于是\[
	\frac{a^p}{p} + \frac{b^q}{q}
	= \frac{c}{\frac{m+n}{m}} + \frac{d}{\frac{m+n}{n}}
	= \frac{cm+dn}{m+n}.
\]
由\hyperref[theorem:不等式.基本不等式n几何平均数与算术平均数]{基本不等式}可知\[
	\frac{cm+dn}{m+n}
	\geq \sqrt[m+n]{c^m d^n}
	= c^{\frac{m}{m+n}} d^{\frac{n}{m+n}}
	= a b.
\]
因此\[
	\frac{a^p}{p} + \frac{b^q}{q}
	\geq a b.
	\qedhere
\]
\end{proof}
%@see: https://mathworld.wolfram.com/YoungsInequality.html
\end{theorem}

\subsection{伯努利不等式}
\begin{theorem}[伯努利不等式]\label{theorem:不等式.伯努利不等式}
\begin{equation}
	(1+x_1)(1+x_2)\dotsm(1+x_n) \geq 1+x_1+x_2+\dotsb+x_n,
\end{equation}
式中\(\AutoTuple{x}{n}\)是符号相同且大于\(-1\)的数.
\begin{proof}
用数学归纳法.
当\(n=1\)时两边相等，故结论成立.现假设\(n=k\)时结论成立，
即\((1+x_1)(1+x_2)\dotsm(1+x_k) \geq 1+x_1+x_2+\dotsb+x_k\).
那么当\(n=k+1\)时，\begin{align*}
	&(1+x_1)(1+x_2)\dotsm(1+x_k)(1+x_{k+1}) \\
	&\geq (1+x_1+x_2+\dotsb+x_k)(1+x_{k+1}) \\
	&= (1+x_1+x_2+\dotsb+x_k+x_{k+1}) + x_{k+1}(x_1+x_2+\dotsb+x_k).
\end{align*}

若\(x_1,x_2,\dotsc,x_{k+1}\)都大于零，
则\(x_{k+1}(x_1+x_2+\dotsb+x_k) > 0\)，
\begin{gather}
(1+x_1)(1+x_2)\dotsm(1+x_k)(1+x_{k+1}) \geq 1+x_1+x_2+\dotsb+x_k+x_{k+1}
\tag1
\end{gather}成立.

若\(x_1,x_2,\dotsc,x_{k+1}\)都等于零，
则\(x_{k+1}(x_1+x_2+\dotsb+x_k) = 0\)，同样有(1)式成立.

若\(x_1,x_2,\dotsc,x_{k+1}\in(-1,0)\)，
则\(x_1+x_2+\dotsb+x_k < 0\)，\(x_{k+1}(x_1+x_2+\dotsb+x_k) > 0\)，
仍然有(1)式成立.
\end{proof}
\end{theorem}

\begin{example}
证明：当\(x > -1\)时，不等式\begin{equation}
	(1+x)^n \geq 1+nx \quad (n>1)
\end{equation}成立，
当且仅当\(x=0\)时取“\(=\)”.
\begin{proof}
用数学归纳法.
当\(n=2\)时，\((1+x)^2 = 1+2x+x^2 \geq 1+2x\)成立.
假设当\(n=k\)时有\((1+x)^k \geq 1+kx\)成立.
当\(n=k+1\)时，\begin{align*}
	(1+x)^{k+1}
	&= (1+x)^k (1+x) \\
	&\geq (1+kx)(1+x) \\
	&= 1 + (k+1)x + kx^2 \\
	&\geq 1 + (k+1)x.
	\qedhere
\end{align*}
\end{proof}
实际上，当\(-2 \leq x \leq -1\)时，上述不等式仍然成立.

\begin{enumerate}
	\item 当\(x = -1\)时，左边\((1+x)^n \equiv 0\)，右边\(1+nx = 1 - n < 0\)，上述不等式成立.

	\item 当\(x = -2\)时，左边\((1+x)^n = (-1)^n = \pm1\)，右边\[
	1+nx = 1-2n < -1,
	\]即上述不等式成立.

	\item 当\(-2 < x < -1\)时，\(-1 < 1+x < 0\)，故\(1+x < (1+x)^n\)；
	又因为\(n>1\)，\(nx<x\)，故\(1+nx < 1+x < (1+x)^n\).
\end{enumerate}
综上所述，不等式\[
	(1+x)^n \geq 1+nx \quad (n>1)
\]当\(-2 \leq x \leq -1\)时仍然成立.
\end{example}

\subsection{柯西不等式}
\begin{theorem}
设\(a,b,c,d\in\mathbb{R}\)，
则\begin{equation}
	(ab+cd)^2
	\leq
	(a^2+b^2)(c^2+d^2).
\end{equation}
当且仅当\(ad=bc\)时，上式取“=”号.
\begin{proof}
%@see: https://www.bilibili.com/video/BV1zb411m7rz/
直接计算得\begin{align*}
	(a^2+b^2)(c^2+d^2)
	&= a^2 c^2 + a^2 d^2 + b^2 c^2 + b^2 d^2 \\
	&= (a^2 c^2 + b^2 d^2) + (a^2 d^2 + b^2 c^2) \\
	&= (a^2 c^2 + b^2 d^2 + 2abcd)
	+ (a^2 d^2 + b^2 c^2 - 2abcd) \\
	&= (ac+bd)^2 + (ad-bc)^2 \\
	&\geq (ac+bd)^2.
	\qedhere
\end{align*}
\end{proof}
\end{theorem}

\begin{theorem}[柯西不等式]\label{theorem:不等式.柯西不等式}
设\(\AutoTuple{a}{n},\AutoTuple{b}{n}\in\mathbb{R}\)，则
\begin{equation}
	(a_1 b_1 + a_2 b_2 + \dotsb + a_n b_n)^2
	\leq
	(a_1^2 + a_2^2 + \dotsb + a_n^2) (b_1^2 + b_2^2 + \dotsb + b_n^2).
\end{equation}
当且仅当\(\frac{a_i}{b_i} = \lambda\ (i=1,2,\dotsc,n)\)
或\(\frac{b_i}{a_i} = \lambda\ (i=1,2,\dotsc,n)\)，
上式取“\(=\)”号.
\begin{proof}
记\begin{align*}
	A &= a_1^2 + a_2^2 + \dotsb + a_n^2, \\
	B &= b_1^2 + b_2^2 + \dotsb + b_n^2, \\
	D &= a_1 b_1 + a_2 b_2 + \dotsb + a_n b_n.
\end{align*}
那么，要证\(D^2 \leq AB\)，
即证\(D^2 - AB \leq 0\).
这个不等式的左边与二次三项式\(A x^2 + 2D x + B\)的判别式
\(4D^2-4AB=4(D^2-AB)\)只相差一个因子.
因此\begin{align*}
	D^2 - AB \leq 0
	&\iff
	\text{关于\(x\)的方程\(A x^2 + 2D x + B = 0\)要么没有实根，要么只有一个实根} \\
	&\iff
	(\forall x\in\mathbb{R})
	[A x^2 + 2D x + B \geq 0].
\end{align*}

任取\(x\in\mathbb{R}\)，
总有\((a_i x + b_i)^2\geq0\ (i=1,2,\dotsc,n)\)，
于是\begin{align*}
	\sum_{i=1}^n (a_i x + b_i)^2
	&= x^2 \sum_{i=1}^n a_i^2
	+ 2 x \sum_{i=1}^n a_i b_i
	+ \sum_{i=1}^n b_i^2 \\
	&= A x^2 + 2D x + B
	\geq 0.
\end{align*}

不难看出\begin{align*}
	a_i x + b_i = 0\ (i=1,2,\dotsc,n)
	&\iff A x^2 + 2D x + B = 0 \\
	&\iff \text{方程\(A x^2 + 2D x + B = 0\)只有一个实根} \\
	&\iff D^2 - AB = 0.
\end{align*}
这就是柯西不等式的取等条件.
\end{proof}
%@see: https://en.wikipedia.org/wiki/Cauchy%E2%80%93Schwarz_inequality
\end{theorem}

\begin{example}
证明：\(C_n^k < n^k\).
\begin{proof}
显然有\begin{align*}
	C_n^k &= \frac{n \cdot (n-1) \dotsm (n-k+1)}{k \cdot (k-1) \dotsm 1} \\
	&< n \cdot (n-1) \dotsm (n-k+1) \\
	&< n \cdot n \dotsm n = n^k.
	\qedhere
\end{align*}
\end{proof}
\end{example}
