\section{向量空间及其子空间的基与维数}
\begin{definition}\label{definition:向量空间.子空间的基的定义}
%@see: 《高等代数（第三版 上册）》（丘维声） P77 定义1
设\(U\)是\(K^n\)的一个子空间.
如果\(A=\{\AutoTuple{\a}{r}\}\subseteq U\)满足\begin{itemize}
	\item \(A\)线性无关，
	\item \(U\)中的每一个向量都可以由\(A\)线性表出，
\end{itemize}
那么称\(A\)是\(U\)的一个\DefineConcept{基}.
%@see: https://mathworld.wolfram.com/VectorBasis.html
\end{definition}

在\(K^n\)中，基本向量组\(\AutoTuple{\e}{n}\)线性无关，
并且根据\cref{theorem:向量空间.任一向量可由基本向量组唯一线性表出}，
每一个向量\(\a=(\AutoTuple{a}{n})^T\)可由基本向量组线性表出，
于是基本向量组是\(K^n\)的一个基，
称之为\(K^n\)的\DefineConcept{标准基}.

\begin{theorem}\label{theorem:线性方程组.向量空间1}
%@see: 《高等代数（第三版 上册）》（丘维声） P77 定理1
\(K^n\)的任一非零子空间\(U\)都有一个基.
\begin{proof}
因为\(U\neq\{\z\}\)，
所以\(U\)中至少有一个非零向量\(\a_1\).
由\cref{theorem:线性方程组.单向量组线性相关的充分必要条件} 可知，
向量组\(\{\a_1\}\)是线性无关的.
若\(\opair{\a_1} \neq U\)，
则\((\exists \a_2 \in U)[\a_2 \notin \opair{\a_1}]\).
于是\(\a_2\)不能由\(\a_1\)线性表出，
由\cref{theorem:向量空间.增加一个向量对线性相关性的影响1}，
\(\{\a_1,\a_2\}\)线性无关.
若\(\opair{\a_1,\a_2} \neq U\)，
则\((\exists \a_3 \in U)[\a_3 \notin \opair{\a_1,\a_2}]\).
同理\(\{\a_1,\a_2,\a_3\}\)线性无关.
以此类推，
根据\cref{theorem:向量空间.线性无关向量组的基数不大于可以线性表出它的任意向量组的基数}，
由于\(K^n\)的任一线性无关向量组所含向量个数不超过\(n\)，
因此上述过程不能无限进行下去，到某一步必定终止.
即将我们得到了\(U\)中一个线性无关向量组\(\{\AutoTuple{\a}{s}\}\)以后，
有\(\opair{\AutoTuple{\a}{s}} = U\)，
则\(\{\AutoTuple{\a}{s}\}\)就是\(U\)的一个基.
\end{proof}
\end{theorem}
\cref{theorem:线性方程组.向量空间1} 的证明过程也表明，
从子空间\(U\)的一个非零向量出发，可以扩充成\(U\)的一个基.

\begin{theorem}\label{theorem:线性方程组.向量空间2}
\(K^n\)的非零子空间\(U\)的任意两个基所含向量的个数相等.
\begin{proof}
等价的线性无关的向量组含有相同个数的向量.
\end{proof}
\end{theorem}

\begin{definition}
%@see: 《高等代数（第三版 上册）》（丘维声） P77 定义2
设\(U\)是\(K^n\)的一个非零子空间.
\(U\)的一个基所含向量的个数
称为“\(U\)的\DefineConcept{维数}（dimension）”，
记作\(\dim_K U\)，
简记为\(\dim U\).
\end{definition}

由于基本向量组\(\AutoTuple{\e}{n}\)是\(K^n\)的一个基，
所以\(\dim K^n = n\).
这就是为什么我们把\(K^n\)称为“\(n\)维向量空间”.

由于零空间的基是空集，
所以零子空间的维数等于零，
即\(\dim\{\vb0\}=\card\emptyset=0\).

在几何空间中，
任意三个不共面的向量是它的一个基，
因此几何空间是三维的空间.
对于过原点的一个平面，它上面不共线的两个向量是它的一个基，
因此这个平面是二维的子空间.
对于过原点的一条直线，
它的一个方向向量是它的一个基，
因此这条直线是一维的子空间.

为了判断线性方程组有没有解，为了研究解集的结构，
我们就必须研究维数更高的向量空间.
我们会发现，对于子空间的结构，基和维数都起到了决定性作用.

\begin{proposition}
%@see: 《高等代数（第三版 上册）》（丘维声） P78 命题3
设\(U\)是\(K^n\)的一个非零子空间，
\(A=\{\AutoTuple{\a}{r}\}\)是\(U\)的一个基，
那么\(U\)中每一个向量\(\a\)可以由\(A\)线性表出，
并且表出方式是唯一的.
%TODO
\end{proposition}

设\(\AutoTuple{\a}{r}\)是\(K^n\)的子空间\(U\)的一个基，
则\(U\)的每一个向量\(\a\)都可以由\(\AutoTuple{\a}{r}\)唯一地线性表出：\[
	\a = x_1 \a_1 + x_2 \a_2 + \dotsb + x_r \a_r.
\]
把元组\(\opair{x_1,x_2,\dotsc,x_r}\)%
称为“\(\a\)在基\(\AutoTuple{\a}{r}\)下的\DefineConcept{坐标}”.

\begin{proposition}\label{theorem:向量空间.子空间维数.命题4}
%@see: 《高等代数（第三版 上册）》（丘维声） P78 命题4
设\(U\)是\(K^n\)的\(r\)维子空间，
那么\(U\)中任意\(r+1\)个向量都线性相关.
\begin{proof}
在\(U\)中任取\(r+1\)个向量\(B=\{\AutoTuple{\b}{r+1}\}\).
设\(A=\{\AutoTuple{\a}{r}\}\)是\(U\)的一个基，
则\(B\)可以由\(A\)线性表出.
由于\(r+1>r\)，
因此根据\cref{theorem:向量空间.可由比自己基数小的向量组线性表出的向量组线性相关}，
\(B\)线性相关.
\end{proof}
\end{proposition}

\begin{proposition}
%@see: 《高等代数（第三版 上册）》（丘维声） P78 命题5
设\(U\)是\(K^n\)的\(r\)维子空间，
则\(U\)中任意\(r\)个线性无关的向量都是\(U\)的一个基.
\begin{proof}
设\(A=\{\AutoTuple{\a}{r}\}\)是\(U\)中线性无关的向量组.
任意取定\(\b\in U\).
根据\cref{theorem:向量空间.子空间维数.命题4}，
向量组\(\{\AutoTuple{\a}{r},\b\}\)必线性相关.
那么由\cref{theorem:向量空间.增加一个向量对线性相关性的影响1}，
\(\b\)可以由\(A\)线性表出.
因此\(A\)是\(U\)的一个基.
\end{proof}
\end{proposition}

\begin{proposition}\label{theorem:向量空间.两个非零子空间的关系1}
%@see: 《高等代数（第三版 上册）》（丘维声） P78 命题6
设\(U\)和\(W\)都是\(K^n\)的非零子空间.
如果\(U \subseteq W\)，那么\(\dim U \leq \dim W\).
\begin{proof}
在\(U\)中取一个基\(A=\{\AutoTuple{\a}{r}\}\)，
在\(W\)中取一个基\(B=\{\AutoTuple{\b}{t}\}\).
因为\(U \subseteq W\)，
所以\(\{\AutoTuple{\a}{r}\}\)可由\(\{\AutoTuple{\b}{t}\}\)线性表出.
那么由\cref{theorem:向量空间.线性无关向量组的基数不大于可以线性表出它的任意向量组的基数}
可知\(r \leq t\)，
即\(\dim U \leq \dim W\).
\end{proof}
\end{proposition}

\begin{proposition}\label{theorem:向量空间.两个非零子空间的关系2}
%@see: 《高等代数（第三版 上册）》（丘维声） P78 命题7
设\(U\)和\(W\)都是\(K^n\)的非零子空间，且\(U \subseteq W\).
如果\(\dim U = \dim W\)，那么\(U = W\).
\begin{proof}
\(U\)中取一个基\(A=\{\AutoTuple{\a}{r}\}\).
由于\(U \subseteq W\)，因此\(A\)是\(W\)中\(r\)个线性无关的向量.
又由于\(\dim W = \dim U = r\)，
因此\(A\)又是\(W\)的一个基.
从而\(W\)中任一向量\(\b\)可由\(A\)线性表出.
于是\(\b\in U\).
因此\(W \subseteq U\)，从而\(W = U\).
\end{proof}
\end{proposition}

\begin{theorem}
%@see: 《高等代数（第三版 上册）》（丘维声） P79 定理8
\(K^n\)中，向量组\(A\)的一个极大线性无关组是这个向量组生成的子空间\(\Span A\)的一个基，
从而
\begin{equation}\label{equation:线性方程组.子空间的维数与向量组的秩的联系}
	\dim(\Span A) = \rank A.
\end{equation}
\begin{proof}
设\(U=\opair{\AutoTuple{\a}{s}}\)，
\(B=\{\a_{i_1},\a_{i_2},\dotsc,\a_{i_r}\}\)是\(A=\{\AutoTuple{\a}{s}\}\)的一个极大线性无关组.
由线性表出的传递性得，\(U\)中任一向量\(\b\)可由\(B\)线性表出.
因此\(B\)是\(U\)的一个基.
\end{proof}
\end{theorem}
这里要注意区分“子空间的维数\(\dim(\Span A)\)”
和“向量组的秩\(\rank A\)”这两个概念：
维数是对子空间而言，秩是对向量组而言；
在子空间\(\Span A\)这个集合中有无穷多个向量，
而向量组\(A\)这个集合中只有有限的\(s\)个向量.

%%DELETE: 与\cref{definition:线性方程组.行秩与列秩的定义} 重复了
% 数域\(K\)上任一\(s \times n\)矩阵\(\A\)的列向量组\(\AutoTuple{\a}{n}\)%
% 生成的子空间称为\(\A\)的\DefineConcept{列空间}；
% \(\A\)的行向量组\(\AutoTuple{\g}{s}\)生成的子空间称为\(\A\)的\DefineConcept{行空间}.
% 易知，\(\A\)的列（行）空间的维数等于\(\A\)的列（行）向量组的秩.

\begin{example}
%@see: 《高等代数（第三版 上册）》（丘维声） P79 例1
设\(r < n\).
证明：\[
	W = \Set{ (\AutoTuple{a}{r},0,\dotsc,0) \given a_i \in K, i=1,2,\dotsc,r }
\]是\(K^n\)的子空间.
\begin{proof}
显然\(\z\in W\).
任取\(k\in K\).
再任取两个向量\[
	\a = (\AutoTuple{a}{r},0,\dotsc,0), \qquad
	\b = (\AutoTuple{b}{r},0,\dotsc,0).
\]
显然\(\a,\b\in W\)，且有\[
	\a+\b = (a_1+b_1,a_2+b_2,\dotsc,a_r+b_r,0,\dotsc,0) \in W,
\]\[
	k \a = (k a_1,k a_2,\dotsc,k a_r,0,\dotsc,0) \in W;
\]
这就是说\(W\)对于加法、数量乘法都封闭.
因此\(W\)是\(K^n\)的一个子空间.
\end{proof}
\end{example}

\begin{example}
%@see: 《高等代数（第三版 上册）》（丘维声） P80 习题3.4 4.
设\(\dim U = r\)，且\(\AutoTuple{\a}{r} \in U\).
证明：如果\(U\)中每一个向量都可以由\(\AutoTuple{\a}{r}\)线性表出，
那么\(\AutoTuple{\a}{r}\)是\(U\)的一个基.
\begin{proof}
由\cref{definition:向量空间.子空间的基的定义}，
倘若\(U\)中每一个向量都可以由\(\AutoTuple{\a}{r}\)线性表出，
那么要证\(\AutoTuple{\a}{r}\)是\(U\)的一个基，
就只需证\(\AutoTuple{\a}{r}\)线性无关.

用反证法.
假设\(\AutoTuple{\a}{r}\)线性相关，
那么由\cref{equation:线性方程组.子空间的维数与向量组的秩的联系,theorem:向量空间.秩与线性相关性的关系}，
有\(\dim\opair{\AutoTuple{\a}{r}}=\rank\{\AutoTuple{\a}{r}\}<r=\dim U\)，
于是\(\opair{\AutoTuple{\a}{r}} \neq U\)，
即存在\(\a \in U\)，\(\a\)无法由\(\AutoTuple{\a}{r}\)线性表出，矛盾！
因此\(\AutoTuple{\a}{r}\)线性无关，也是\(U\)的一个基.
\end{proof}
\end{example}
