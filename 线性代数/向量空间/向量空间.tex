\section{向量空间}
为了直接用线性方程组的系数和常数项判断方程组有没有解，有多少解，
我们在前面给出了用系数行列式判断\(n\)个方程的\(n\)元线性方程组有唯一解的充分必要条件.
这一判定方法只适用于方程数目与未知量数目相等的线性方程组；
而且，当系数行列式等于零时，只能得出方程组无解或有无穷多解的结论，
没有办法区分什么时候无解，什么时候有无穷多解.
对于任意的线性方程组，有没有这样一种判定方法：
直接依据它的系数和常数项，给出它有没有解，有多少解呢？
为此我们需要探讨和建立线性方程组的进一步的理论.
这一理论还将使我们弄清楚线性方程组有无穷多个解时解的结构.

\subsection{向量空间}
设\(K\)是数域，\(n\)是任意给定的一个正整数.
令\begin{equation*}
	K^n \defeq \Set{ (\AutoTuple{a}{n}) \given a_i \in K\ (i=1,2,\dotsc,n) }.
\end{equation*}

如果\begin{equation*}
	a_i=b_i
	\quad(i=1,2,\dotsc,n),
\end{equation*}
则称“\(K^n\)中的两个元素\((\AutoTuple{a}{n})\)与\((\AutoTuple{b}{n})\)相等”.

在\(K^n\)中规定“加法”运算如下：
\begin{equation}\label{equation:向量空间.向量的加法.定义式}
	(\AutoTuple{a}{n}) + (\AutoTuple{b}{n})
	\defeq (a_1+b_1,a_2+b_2,\dotsc,a_n+b_n).
\end{equation}

在\(K\)的元素与\(K^n\)的元素之间规定“数量乘法”运算如下：
\begin{equation}\label{equation:向量空间.向量的数量乘法.定义式}
	k (\AutoTuple{a}{n})
	\defeq (k a_1,k a_2,\dotsc,k a_n).
\end{equation}

容易验证，上述加法和数量乘法满足下述8条运算法则:
\begin{enumerate}
	\item 加法交换律，即\((\forall \vb\alpha,\vb\beta \in K^n)[\vb\alpha+\vb\beta=\vb\beta+\vb\alpha]\).

	\item 加法结合律，即\((\forall \vb\alpha,\vb\beta,\vb\gamma \in K^n)[(\vb\alpha+\vb\beta)+\vb\gamma=\vb\alpha+(\vb\beta+\vb\gamma)]\).

	\item 记\(\vb0=(0,0,\dotsc,0)\)，\begin{equation*}
		(\forall\vb\alpha \in K^n)[\vb\alpha+\vb0 = \vb0+\vb\alpha = \vb\alpha].
	\end{equation*}
	称\(\vb0\)为“\(K^n\)的\DefineConcept{零元}（zero element）”.

	\item \(\forall\vb\alpha=(\AutoTuple{a}{n}) \in K^n\)，令\begin{equation*}
		-\vb\alpha \defeq (\AutoTuple{-a}{n}),
	\end{equation*}
	则\(-\vb\alpha \in K^n\)且\begin{equation*}
		\vb\alpha+(-\vb\alpha)
		= (-\vb\alpha)+\vb\alpha
		= \vb0;
	\end{equation*}
	称\(-\vb\alpha\)为“\(\vb\alpha\)的\DefineConcept{负元}（negative element）”.

	\item \((\forall \vb\alpha \in K^n)[1 \vb\alpha=\vb\alpha]\).

	\item \((\forall \vb\alpha \in K^n)(\forall k,l \in K)[k (l \vb\alpha)=(kl) \vb\alpha]\).

	\item \((\forall \vb\alpha \in K^n)(\forall k,l \in K)[(k+l) \vb\alpha=k \vb\alpha+l \vb\alpha]\).

	\item \((\forall \vb\alpha,\vb\beta \in K^n)(\forall k \in K)[k (\vb\alpha+\vb\beta)=k \vb\alpha+k \vb\beta]\).
\end{enumerate}

\begin{definition}
数域\(K\)上全体\(n\)元组组成的集合\(K^n\)，
连同定义在它上面的加法运算和数量乘法运算，
及其满足的8条运算法则一起，
称为“数域\(K\)上的一个\(n\)维\DefineConcept{向量空间}（vector space）”.
\(K^n\)的元素称为“\(n\)维\DefineConcept{向量}（vector）”.

对于\(K^n\)中的任意一个向量\(\vb\alpha=(\AutoTuple{a}{n})\)，
称数\begin{equation*}
	a_i\quad(i=1,2,\dotsc,n)
\end{equation*}为“\(\vb\alpha\)的第\(i\)个\DefineConcept{分量}”.
\end{definition}

在\(n\)维向量空间\(K^n\)中，我们可以额外定义减法运算如下：
\begin{equation}\label{equation:向量空间.向量的减法.定义式}
	\vb\alpha-\vb\beta \defeq \vb\alpha+(-\vb\beta).
\end{equation}

在\(n\)维向量空间\(K^n\)中，容易验证下述4条性质：
\begin{property}
\((\forall\vb\alpha \in K^n)[0\cdot\vb\alpha=\vb0]\).
\end{property}

\begin{property}
\((\forall\vb\alpha \in K^n)[(-1)\cdot\vb\alpha=-\vb\alpha]\).
\end{property}

\begin{property}
\((\forall k \in K)[k\vb0=\vb0]\).
\end{property}

\begin{property}
\(k\vb\alpha=\vb0 \implies k=0 \lor \vb\alpha=\vb0\).
\end{property}

把\(n\)元组写成一行，得\begin{equation*}
	(\AutoTuple{a}{n})
	\quad\text{或}\quad
	\begin{bmatrix}
		a_1 & a_2 & \dots & a_n
	\end{bmatrix},
\end{equation*}
称之为“\(n\)维\DefineConcept{行向量}（row vector）”.

把\(n\)元组写成一列，得\begin{equation*}
	\begin{bmatrix} a_1 \\ a_2 \\ \vdots \\ a_n \end{bmatrix},
\end{equation*}
称之为“\(n\)维\DefineConcept{列向量}（column vector）”；
不过，我们有时候会为了方便排版，把列向量写成\begin{equation*}
	(a_1,a_2,\dotsc,a_n)^T.
\end{equation*}

\(K^n\)可以看成是
全体\(n\)维行向量
组成的向量空间，
也可以看成是
全体\(n\)维列向量
组成的向量空间.
两者并没有本质的区别，
只是它们的元素的写法不同而已.

由有限个\(n\)维行向量构成的集合，
称为“\(n\)维\DefineConcept{行向量组}”.
由有限个\(n\)维列向量构成的集合，
称为“\(n\)维\DefineConcept{列向量组}”.
\(n\)维行向量组和\(n\)维列向量组
统称\(n\)维\DefineConcept{向量组}.
从本质上看，向量组就是\(n\)维向量空间\(K^n\)的有限子集.

称满足
\begin{equation*}
	e_{ij} = \left\{ \begin{array}{ll}
		1, & i=j, \\
		0, & i \neq j
	\end{array} \right.
\end{equation*}
的向量组
\begin{equation*}
	\vb\epsilon_i = \begin{bmatrix}
		e_{1i} \\ e_{2i} \\ \vdots \\ e_{ni}
	\end{bmatrix}
	\quad(i=1,2,\dotsc,n)
\end{equation*}为“\(K^n\)的\DefineConcept{基本向量组}”.

\subsection{线性组合，线性表出}
%@see: 《线性代数》（张慎语、周厚隆） P67 定义5
\begin{definition}\label{definition:向量空间.线性组合}
在\(K^n\)中，给定向量组\(A=\{\AutoTuple{\vb\alpha}{s}\}\).
任给\(K\)中一组数\(\AutoTuple{k}{s}\)，
我们把\begin{equation*}
	k_1 \vb\alpha_1 + k_2 \vb\alpha_2 + \dotsb + k_s \vb\alpha_s
\end{equation*}
称为“向量组\(A\)的一个\DefineConcept{线性组合}（linear combination）”，
把\(\AutoTuple{k}{s}\)称为\DefineConcept{系数}.
\end{definition}

\begin{definition}\label{definition:向量空间.线性表出1}
在\(K^n\)中，给定向量组\(A=\{\AutoTuple{\vb\alpha}{s}\}\).
对于向量\(\vb\beta \in K^n\)，
如果存在\(K\)中一组数\(\AutoTuple{c}{s}\)，
使得\begin{equation*}
	\vb\beta = c_1 \vb\alpha_1 + c_2 \vb\alpha_2 + \dotsb + c_s \vb\alpha_s,
\end{equation*}
则称“向量\(\vb\beta\)可由向量组\(A\)~\DefineConcept{线性表出}”；
否则称“向量\(\vb\beta\)不可由向量组\(A\)线性表出”.
\end{definition}

现在，利用向量的加法运算和数量乘法运算，
我们可以把数域\(K\)上\(n\)元线性方程组 \labelcref{equation:线性方程组.线性方程组的代数形式}
写成
\begin{equation}\label{equation:线性方程组.线性方程组的向量形式}
	x_1 \vb\alpha_1 + x_2 \vb\alpha_2 + \dotsb + x_n \vb\alpha_n = \vb\beta,
\end{equation}
其中\begin{equation*}
	\vb\alpha_j=(a_{1j},a_{2j},\dotsc,a_{sj})^T,
	\quad
	j=1,2,\dotsc,n.
\end{equation*}
于是，\begin{align*}
	&\text{数域\(K\)上线性方程组\(x_1 \vb\alpha_1 + x_2 \vb\alpha_2 + \dotsb + x_n \vb\alpha_n = \vb\beta\)有解} \\
	&\iff \text{\(K\)中存在一组数\(\AutoTuple{c}{n}\)，使得\(c_1 \vb\alpha_1 + c_2 \vb\alpha_2 + \dotsb + c_n \vb\alpha_n = \vb\beta\)成立} \\
	&\iff \text{\(\vb\beta\)可以由\(\AutoTuple{\vb\alpha}{n}\)线性表出}.
\end{align*}
这样我们把线性方程组有没有解的问题归结为：
常数项列向量\(\vb\beta\)能不能由系数矩阵的列向量组线性表出.
这个结论有两方面的意义：
一方面，为了从理论上研究线性方程组有没有解，
就需要去研究\(\vb\beta\)能否由\(\AutoTuple{\vb\alpha}{n}\)线性表出；
另一方面，对于\(K^n\)中给定的向量组\(\AutoTuple{\vb\alpha}{n}\)，
以及给定的\(\vb\beta\)，
为了判断\(\vb\beta\)能否由\(\AutoTuple{\vb\alpha}{n}\)线性表出，
就可以去判断线性方程组\(x_1 \vb\alpha_1 + x_2 \vb\alpha_2 + \dotsb + x_n \vb\alpha_n = \vb\beta\)是否有解.

\subsection{线性子空间}
在\(K^n\)中，从理论上如何判断任一向量\(\vb\beta\)能否由向量组\(\AutoTuple{\vb\alpha}{n}\)线性表出？
从线性表出的定义知道，这需要考察\(\vb\beta\)是否等于\(\AutoTuple{\vb\alpha}{n}\)的某一个线性组合.
为此，我们把\(\AutoTuple{\vb\alpha}{n}\)的所有线性组合组成一个集合\(W\)，即\begin{equation*}
	W \defeq \Set{ k_1 \vb\alpha_1 + k_2 \vb\alpha_2 + \dotsb + k_s \vb\alpha_s \given k_i \in K, i=1,2,\dotsc,s }.
\end{equation*}
如果我们能够把\(W\)的结构研究清楚，那么就比较容易判断\(\vb\beta\)是否属于\(W\)，
也就是判断\(\vb\beta\)能否由\(\AutoTuple{\vb\alpha}{n}\)线性表出.

现在我们来研究\(W\)的结构.
任取\(\vb\alpha,\vb\gamma\in W\)，设\begin{equation*}
	\vb\alpha=a_1\vb\alpha_1+a_2\vb\alpha_2+\dotsb+a_s\vb\alpha_s, \qquad
	\vb\gamma=b_1\vb\alpha_1+b_2\vb\alpha_2+\dotsb+b_s\vb\alpha_s,
\end{equation*}
则\begin{align*}
	\vb\alpha+\vb\gamma
	&=(a_1\vb\alpha_1+a_2\vb\alpha_2+\dotsb+a_s\vb\alpha_s)+(b_1\vb\alpha_1+b_2\vb\alpha_2+\dotsb+b_s\vb\alpha_s) \\
	&=(a_1+b_1)\vb\alpha_1+(a_2+b_2)\vb\alpha_2+\dotsb+(a_s+b_s)\vb\alpha_s,
\end{align*}
从而\(\vb\alpha+\vb\gamma\in W\).

再任取\(k\in W\)，则\begin{align*}
	k\vb\alpha
	&=k(a_1\vb\alpha_1+a_2\vb\alpha_2+\dotsb+a_s\vb\alpha_s) \\
	&=(ka_1)\vb\alpha_1+(ka_2)\vb\alpha_2+\dotsb+(ka_s)\vb\alpha_s,
\end{align*}
从而\(k\vb\alpha\in W\).

受此启发，我们引出如下概念.
\begin{definition}
\(K^n\)的一个非空子集\(U\)如果满足：
\begin{enumerate}
	\item \(U\)对\(K^n\)的加法封闭，即\begin{equation*}
		(\forall \vb\alpha,\vb\beta \in U)[\vb\alpha+\vb\beta \in U];
	\end{equation*}
	\item \(U\)对\(K^n\)的数量乘法封闭，即\begin{equation*}
		(\vb\alpha \in U)(k \in K)[k\vb\alpha \in U];
	\end{equation*}
\end{enumerate}
那么称“\(U\)是\(K^n\)的一个\DefineConcept{向量子空间}（vector subspace）”，
简称为\DefineConcept{子空间}（subspace），
记\(U \leq K^n\).
\end{definition}
零空间\(\{\vb0\}\)是\(K^n\)的一个子空间，
因此我们又称之为“\(K^n\)的\DefineConcept{零子空间}（zero subspace）”.

类\(\Set{ x \given x\neq\{\vb0\} \land \text{\(x\)是\(K^n\)的子空间} }\)%
中的每一个\(x\)都称为“\(K^n\)的\DefineConcept{非零子空间}”.

\(K^n\)也是其自身的一个子空间.

\begin{proposition}
任意一个线性子空间总含有零向量.
\begin{proof}
假设存在一个线性子空间\(U\)，不含有零向量.
由于\(U\)非空，不妨设非零向量\(\vb\alpha\)是\(U\)的元素，即\(\vb\alpha \in U\).
那么根据线性子空间的定义，有\begin{equation*}
	(-1)\cdot\vb\alpha = -\vb\alpha \in U.
\end{equation*}
从而\begin{equation*}
	\vb0 = \vb\alpha+(-\vb\alpha) \in U.
\end{equation*}
矛盾！
因此，\((\forall U)[\text{\(U\)是线性子空间} \implies \vb0 \in U]\).
\end{proof}
\end{proposition}

从上面的讨论知道，在\(K^n\)中，
向量组\(A=\{\AutoTuple{\vb\alpha}{s}\}\)的所有线性组合组成的集合\(W\)是\(K^n\)的一个子空间，
称它为“\(\AutoTuple{\vb\alpha}{s}\)生成的子空间”，
或“\(\AutoTuple{\vb\alpha}{s}\)的\DefineConcept{线性生成空间}（linear span）”，
记作\(\opair{\AutoTuple{\vb\alpha}{s}}\)或\(\Span A\)，即\begin{equation*}
	\Span A
	\defeq
	\Set*{
		\sum_{i=1}^s k_i \vb\alpha_i
		\given
		\AutoTuple{k}{s} \in K
	}.
\end{equation*}
%@see: https://mathworld.wolfram.com/VectorSpaceSpan.html
%@see: https://math.stackexchange.com/questions/185255/span-of-an-empty-set-is-the-zero-vector/

%@see: 《代数学（一）》（李方、邓少强、冯荣权、刘东文） P102
易见\(\Span\emptyset = \{\vb0\}\).

于是，我们得出结论，以下三个命题等价：
\begin{enumerate}
	\item 数域\(K\)上的\(n\)元线性方程组\(x_1 \vb\alpha_1 + x_2 \vb\alpha_2 + \dotsb + x_n \vb\alpha_n = \vb\beta\)有解.
	\item 向量\(\vb\beta\)可以由向量组\(A=\{\AutoTuple{\vb\alpha}{n}\}\)线性表出.
	\item 向量\(\vb\beta\in\Span A=\opair{\AutoTuple{\vb\alpha}{n}}\).
\end{enumerate}

\begin{theorem}\label{theorem:向量空间.任一向量可由基本向量组唯一线性表出}
\(K^n\)中任一向量都可由基本向量组唯一地线性表出.
\begin{proof}
对于任意一个向量\(\vb\alpha=(\AutoTuple{a}{n})^T\)，
线性方程组\(x_1 \vb\epsilon_1 + x_2 \vb\epsilon_2 + \dotsb + x_n \vb\epsilon_n = \vb\alpha\)的系数行列式为
\begin{equation*}
\begin{vmatrix}
	1 & 0 & \dots & 0 \\
	0 & 1 & \dots & 0 \\
	\vdots & \vdots & & \vdots \\
	0 & 0 & \dots & 1
\end{vmatrix}
= 1 \neq 0,
\end{equation*}
那么，根据\hyperref[theorem:线性方程组.克拉默法则]{克拉默法则}，
上述线性方程组有唯一解.
由此可知，\(K^n\)中任一向量\(\vb\alpha\)都能由基本向量组线性表出，且表出方式唯一.
事实上，由于\begin{equation*}
	a_1 \begin{bmatrix}
		1 \\ 0 \\ 0 \\ \vdots \\ 0
	\end{bmatrix}
	+ a_2 \begin{bmatrix}
		0 \\ 1 \\ 0 \\ \vdots \\ 0
	\end{bmatrix}
	+ \dotsb + a_n \begin{bmatrix}
		0 \\ 0 \\ 0 \\ \vdots \\ 1
	\end{bmatrix}
	= \begin{bmatrix}
		a_1 \\ a_2 \\ a_3 \\ \vdots \\ a_n
	\end{bmatrix},
\end{equation*}
因此，用基本向量组标出向量\(\vb\alpha\)的方式为\begin{equation*}
	\vb\alpha = a_1 \vb\epsilon_1 + a_2 \vb\epsilon_2 + \dotsb + a_n \vb\epsilon_n.
	\qedhere
\end{equation*}
\end{proof}
\end{theorem}
