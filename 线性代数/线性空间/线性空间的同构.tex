\section{线性空间的同构}
域\(F\)上\(n\)维线性空间\(V\)
与域\(F\)上\(n\)元有序组组成的线性空间\(F^n\)非常相像.
例如，对于\(F^n\)向量组\(\AutoTuple{\alpha}{s}\)生成的子空间\(U=\Span\{\AutoTuple{\alpha}{s}\}\)，
向量组\(\AutoTuple{\alpha}{s}\)的一个极大线性无关组是\(U\)的一个基，
\(\dim U\)等于\(\rank\{\AutoTuple{\alpha}{s}\}\).
对于\(V\)中向量组生成的子空间也有同样的结论.

为什么域\(F\)上的\(n\)维线性空间\(V\)与\(F^n\)这样相像？

\begin{definition}
%@see: 《高等代数（第三版 下册）》（丘维声） P92 定义1
%@see: 《Linear Algebra Done Right (Fourth Eidition)》（Sheldon Axler） P86 3.69
设\(V\)与\(V'\)都是域\(F\)上的线性空间，
\(\sigma\)是一个从\(V\)到\(V'\)的双射.
如果\begin{itemize}
	\item \((\forall\alpha,\beta \in V)
	[\sigma(\alpha+\beta)=\sigma(\alpha)+\sigma(\beta)]\)，
	\item \((\forall\alpha \in V)
	(\forall k \in F)
	[\sigma(k\alpha)=k\sigma(\alpha)]\)，
\end{itemize}
那么称“\(\sigma\)是从\(V\)到\(V'\)的一个\DefineConcept{同构}（isomorphism）”
“\(V\)与\(V'\)同构（\(V\) is \emph{isomorphic} to \(V'\)）”，
记为\(V \Isomorphism V'\).

特别地，当\(V=V'\)且\(V\)和\(V'\)上定义的线性运算相同时，
称“\(\sigma\)是\(V\)上的一个\DefineConcept{自同构}（automorphism）”.
\end{definition}
\begin{remark}
讨论两个线性空间是否同构的前提是这两个线性空间的域相同.
\end{remark}

\begin{property}\label{theorem:线性空间的同构.同构线性空间的性质1}
%@see: 《高等代数（第三版 下册）》（丘维声） P92 性质1
设\(V\)与\(V'\)都是域\(F\)上的线性空间，
\(0\)是\(V\)的零元，
\(0'\)是\(V'\)的零元，
\(\sigma\)是一个从\(V\)到\(V'\)的同构，
则\(\sigma(0)=0'\).
\begin{proof}
\(0\alpha=0 \implies \sigma(0)=\sigma(0\alpha)=0\sigma(\alpha)=0'\).
\end{proof}
\end{property}

\begin{property}\label{theorem:线性空间的同构.同构线性空间的性质2}
%@see: 《高等代数（第三版 下册）》（丘维声） P92 性质2
设\(V\)与\(V'\)都是域\(F\)上的线性空间，
\(\sigma\)是一个从\(V\)到\(V'\)的同构，
则\[
	(\forall\alpha\in V)[\sigma(-\alpha)=-\sigma(\alpha)].
\]
\begin{proof}
\(\sigma(-\alpha)=\sigma((-1)\alpha)=(-1)\sigma(\alpha)=-\sigma(\alpha)\).
\end{proof}
\end{property}

\begin{property}\label{theorem:线性空间的同构.同构线性空间的性质3}
%@see: 《高等代数（第三版 下册）》（丘维声） P92 性质3
设\(V\)与\(V'\)都是域\(F\)上的线性空间，
\(\sigma\)是一个从\(V\)到\(V'\)的同构，
则\[
	(\forall \AutoTuple{\alpha}{s} \in V)
	(\forall \AutoTuple{k}{s} \in F)
	[\sigma(k_1\alpha_1+\dotsb+k_s\alpha_s)=k_1\sigma(\alpha_1)+\dotsb+k_s\sigma(\alpha_s)].
\]
\end{property}

\begin{property}\label{theorem:线性空间的同构.同构线性空间的性质4}
%@see: 《高等代数（第三版 下册）》（丘维声） P92 性质4
设\(V\)与\(V'\)都是域\(F\)上的线性空间，
\(\sigma\)是一个从\(V\)到\(V'\)的同构，
则\(V\)中向量组\(\AutoTuple{\alpha}{s}\)线性相关的充分必要条件是：
\(\sigma(\alpha_1),\dotsc,\sigma(\alpha_s)\)是\(V'\)中线性相关的向量组.
\begin{proof}
因为\(\sigma\)是单射，
所以\(\sigma(\alpha)=\sigma(\beta) \implies \alpha=\beta\)，
于是\begin{align*}
	k_1\alpha_1+\dotsb+k_s\alpha_s=0
	&\iff
	\sigma(k_1\alpha_1+\dotsb+k_s\alpha_s)=\sigma(0) \\
	&\iff
	k_1\sigma(\alpha_1)+\dotsb+k_s\sigma(\alpha_s)=0',
\end{align*}
那么\(\AutoTuple{\alpha}{s}\)线性相关
当且仅当\(\sigma(\alpha_1),\dotsc,\sigma(\alpha_s)\)线性相关.
\end{proof}
\end{property}

\begin{property}\label{theorem:线性空间的同构.同构线性空间的性质5}
%@see: 《高等代数（第三版 下册）》（丘维声） P92 性质5
设\(V\)与\(V'\)都是域\(F\)上的线性空间，
\(\sigma\)是一个从\(V\)到\(V'\)的同构.
如果\(\AutoTuple{\alpha}{n}\)是\(V\)的一个基，
则\(\sigma(\alpha_1),\dotsc,\sigma(\alpha_n)\)是\(V'\)的一个基.
\begin{proof}
由\cref{theorem:线性空间的同构.同构线性空间的性质4}
可知\(\sigma(\alpha_1),\dotsc,\sigma(\alpha_n)\)是\(V'\)的一个线性无关的向量组.
任取\(\beta \in V'\)，
由于\(\sigma\)是满射，
因此存在\(\alpha \in V\)，
使得\(\sigma(\alpha)=\beta\).
设\(\alpha=k_1\alpha_1+\dotsb+k_n\alpha_n\)，
则\[
	\beta=\sigma(\alpha)
	=k_1\sigma(\alpha_1)+\dotsb+k_n\sigma(\alpha_n),
\]
因此\(\sigma(\alpha_1),\dotsc,\sigma(\alpha_n)\)是\(V'\)的一个基.
\end{proof}
\end{property}

\begin{theorem}\label{theorem:线性空间的同构.线性空间同构的充分必要条件}
%@see: 《高等代数（第三版 下册）》（丘维声） P92 定理1
设\(V\)与\(V'\)都是域\(F\)上的有限维线性空间，
则\(V \Isomorphism V'\)的充分必要条件是\(\dim V = \dim V'\).
\begin{proof}
必要性.
由\cref{theorem:线性空间的同构.同构线性空间的性质5} 立即得出.

充分性.
设\(\dim V = \dim V' = n\).
在\(V\)中取一个基\(\AutoTuple{\alpha}{n}\).
在\(V'\)中取一个基\(\AutoTuple{\gamma}{n}\).
令\[
	\sigma\colon V \to V',
	\alpha=\sum_{i=1}^n k_i\alpha_i
	\mapsto
	\sum_{i=1}^n k_i\gamma_1.
\]
可以看出，\(\sigma\)是一个从\(V\)到\(V'\)的同构，
\(V \Isomorphism V'\).
\end{proof}
\end{theorem}
从\cref{theorem:线性空间的同构.线性空间同构的充分必要条件} 立即得出，
域\(F\)上任意一个\(n\)维线性空间\(V\)都与\(F^n\)同构，
并且\(V\)中每一个向量\(\alpha\)
对应它在\(V\)的一个基\(\AutoTuple{\alpha}{n}\)下的坐标\((\AutoTuple{k}{n})^T\)，
这个对应关系就是从\(V\)到\(F^n\)的一个同构.
正是因为域\(F\)上\(n\)维线性空间\(V\)与\(F^n\)同构，
所以\(V\)与\(F^n\)才这么相像.
虽然它们的元素不同，但是有关线性运算的性质却完全一样.
于是我们可以利用\(F^n\)的性质来研究\(F\)上\(n\)维线性空间的性质.
线性空间的同构，是研究线性空间结构的第三条途径.

\begin{proposition}\label{theorem:线性空间的同构.子空间在同构下的像}
%@see: 《高等代数（第三版 下册）》（丘维声） P93 命题2
设\(V\)是域\(F\)上的\(n\)维线性空间，
\(U\)是\(V\)的一个子空间，
\(\AutoTuple{\alpha}{n}\)的\(V\)的一个基，
\(\sigma\)把\(V\)中每一个向量\(\alpha\)对应到它在基\(\AutoTuple{\alpha}{n}\)下的坐标.
令\[
	\sigma(U) \defeq \Set{ \sigma(\alpha) \given \alpha \in U },
\]
则\(\sigma(U)\)是\(F^n\)的一个子空间，
且\(\dim U = \dim\sigma(U)\).
\begin{proof}
显然\(\sigma(U)\)是非空集，
\(\sigma\)是一个从\(V\)到\(F^n\)的同构，
\(U\)对加法和纯量乘法封闭.
这就说明\(\sigma(U)\)是\(F^n\)的一个子空间.

由于\(U\)与\(\sigma(U)\)都是域\(F\)上有限维线性空间，
且\(\sigma\)在\(U\)上的限制\((\sigma \setrestrict U)\)是从\(U\)到\(\sigma(U)\)的一个同构，
因此\(\dim U = \dim\sigma(U)\).
\end{proof}
\end{proposition}

\begin{example}
%@see: 《高等代数（第三版 下册）》（丘维声） P94 例1
设\(\AutoTuple{\alpha}{n}\)是域\(F\)上线性空间\(V\)的一个基，
\(\AutoTuple{\beta}{s}\)是\(V\)的一个向量组，
并且\[
%@see: 《高等代数（第三版 下册）》（丘维声） P94 (5)
	(\AutoTuple{\beta}{s})
	= (\AutoTuple{\alpha}{n}) A,
\]
其中\(A\)是一个\(n \times s\)矩阵.
证明：\[
%@see: 《高等代数（第三版 下册）》（丘维声） P94 (6)
	\dim\Span\{\AutoTuple{\beta}{s}\}
	= \rank A.
\]
\begin{proof}
用\(\sigma\)表示从\(V\)到\(F^n\)的一个同构，
它把\(\alpha \in V\)映射为\(\alpha\)在\(\AutoTuple{\alpha}{n}\)下的坐标.
设\(A\)的列向量组是\(\AutoTuple{A}{s}\)，那么\[
	\sigma(\beta_j) = A_j,
	\quad j=1,2,\dotsc,s.
\]
由\cref{theorem:线性空间的同构.子空间在同构下的像} 可知\begin{align*}
	&\dim\Span\{\AutoTuple{\beta}{s}\} \\
	&= \dim\sigma\Span\{\AutoTuple{\beta}{s}\} \\
	&= \dim\Span\{\sigma(\beta_1),\dotsc,\sigma(\beta_s)\} \\
	&= \dim\Span\{\AutoTuple{A}{s}\} \\
	&= \rank A.
	\qedhere
\end{align*}
\end{proof}
\end{example}

同构是域\(F\)上线性空间之间的一个关系.
它具有反身性（因为\(V\)的恒等映射是从\(V\)到\(V\)的一个同构）、
对称性和传递性.
因此同构关系是一个等价关系，
对应的等价类称为\DefineConcept{同构类}.

\cref{theorem:线性空间的同构.线性空间同构的充分必要条件} 表明，
对于域\(F\)上的全体有限维线性空间\[
	S = \Set{ V \given \text{$V$是域$F$上的有限维线性空间} }
\]而言，
域\(F\)上所有维数为\(0\)的线性空间 --- \(\{0\}\) --- 恰好组成一个同构类，
域\(F\)上所有1维线性空间恰好组成一个同构类，
域\(F\)上所有2维线性空间恰好组成一个同构类，
以此类推.
可以看出，
% Two linear spaces over the same field and of the same dimension are isomorphic.
相同域上相同维数的两个线性空间同构，
域和维数决定了同构类.
因此，域\(F\)上有限维线性空间的同构类与自然数之间存在一个一一对应.

\begin{proposition}\label{theorem:线性空间.线性空间的同构的逆是同构}
%@see: 《高等代数（第三版 下册）》（丘维声） P94 命题3
域\(F\)上线性空间之间的一个同构的逆映射也是同构.
\begin{proof}
设\(V,V'\)都是域\(F\)上的线性空间，
\(\sigma\)是从\(V\)到\(V'\)的一个同构.
显然\(\sigma^{-1}\)是从\(V'\)到\(V\)的一个双射.
任取\(\alpha',\beta' \in V'\)，
则存在\(\alpha,\beta \in V\)，
使得\(\alpha' = \sigma(\alpha),
\beta' = \sigma(\beta)\).
从而\(\sigma^{-1}(\alpha') = \alpha,
\sigma^{-1}(\beta') = \beta\).
于是\begin{align*}
	\sigma^{-1}(\alpha' + \beta')
	&= \sigma^{-1}(\sigma(\alpha) + \sigma(\beta)) \\
	&= \sigma^{-1}(\sigma(\alpha + \beta)) \\
	&= (\sigma^{-1} \circ \sigma)(\alpha + \beta) \\
	&= 1_V (\alpha + \beta) \\
	% \(1_V\)是\(V\)上的恒等变换
	&= \alpha + \beta \\
	&= \sigma^{-1}(\alpha') + \sigma^{-1}(\beta'), \\
	\sigma^{-1}(k \alpha')
	&= \sigma^{-1}(k \sigma(\alpha)) \\
	&= \sigma^{-1}(\sigma(k \alpha)) \\
	&= \sigma^{-1}(\sigma(k \alpha)) \\
	&= k \alpha
	= k \sigma^{-1}(\alpha').
\end{align*}
因此\(\sigma^{-1}\)是从\(V'\)到\(V\)的一个同构.
\end{proof}
\end{proposition}

\begin{proposition}%\label{theorem:线性空间.线性空间的同构的复合是同构}
%@see: 《高等代数（第三版 下册）》（丘维声） P94 命题3
域\(F\)上线性空间之间的两个同构的复合还是同构.
% 原话是：两个同构映射的乘积还是同构映射.
\begin{proof}
设\(V,V',V''\)都是域\(F\)上的线性空间，
\(\sigma_1\)是从\(V\)到\(V'\)的一个同构，
\(\sigma_2\)是从\(V'\)到\(V''\)的一个同构，
则\(\sigma_2 \circ \sigma_1\)是从\(V\)到\(V''\)的一个双射.
任取\(\alpha,\beta \in V,
k \in F\)，
则有\begin{align*}
	(\sigma_2 \circ \sigma_1)(\alpha + \beta)
	&= \sigma_2(\sigma_1(\alpha + \beta)) \\
	&= \sigma_2(\sigma_1(\alpha) + \sigma_1(\beta)) \\
	&= \sigma_2(\sigma_1(\alpha)) + \sigma_2(\sigma_1(\beta)), \\
	(\sigma_2 \circ \sigma_1)(k \alpha)
	&= \sigma_2(\sigma_1(k \alpha)) \\
	&= \sigma_2(k \sigma_1(\alpha)) \\
	&= k (\sigma_2 \circ \sigma_1)(\alpha).
\end{align*}
因此\(\sigma_2 \circ \sigma_1\)是从\(V\)到\(V''\)的一个同构.
\end{proof}
\end{proposition}
