\subsection{自变量趋于有限值时函数的极限}
\begin{definition}\label{definition:极限.函数极限的定义1}
%@see: 《高等数学（第六版 上册）》 P32 定义1
%@see: 《数学分析（第二版 上册）》（陈纪修） P71 定义3.1.1
设函数\(f\colon D\to\mathbb{R}\)在点\(x_0\)的某个去心邻域中有定义，
即\begin{equation*}
	(\exists\rho>0)
	[\mathring{U}(x_0,\rho) \subseteq D].
\end{equation*}
如果存在常数\(A\in\mathbb{R}\)，
对于任意给定的正数\(\epsilon\)（不论它多么小），
总存在正数\(\delta\)，
使得当\(x\)满足不等式\(0 < \abs{x-x_0} < \delta\)时，
总有不等式\(\abs{f(x)-A}<\epsilon\)成立，
那么常数\(A\)就叫做“函数\(f\)当\(x \to x_0\)时的\DefineConcept{极限}”
或“函数\(f\)在点\(x_0\)的\DefineConcept{极限}”，
记作\begin{equation*}
	\lim_{D \ni x \to x_0} f(x) = A,
	\quad\text{或}\quad
	\lim_{\substack{x \to x_0 \\ x \in D}} f(x) = A,
	\quad\text{或}\quad
	f(x) \to A\ (x \to x_0; x \in D);
\end{equation*}
有时候也简记为\begin{equation*}
	\lim_{x \to x_0} f(x) = A,
	\quad\text{或}\quad
	f(x) \to A\ (x \to x_0).
\end{equation*}
如果不存在具有上述性质的实数\(A\)，
则称“函数\(f\)在点\(x_0\)的极限不存在”.
\end{definition}

上述对函数极限的定义可以简化为：\begin{equation*}
	\lim_{\substack{x \to x_0 \\ x \in D}} f(x) = A
	\defiff
	(\forall \epsilon > 0)
	(\exists \delta > 0)
	(\forall x \in D)
	[0 < \abs{x - x_0} < \delta \implies \abs{f(x) - A} < \epsilon].
\end{equation*}

现在我们来根据定义尝试计算一些函数的极限.

\begin{example}
%@see: 《高等数学（第六版 上册）》 P33 例1
证明：\(\lim_{x \to x_0} c = c\)，其中\(c\)为常数.
\begin{proof}
这里\(\abs{f(x) - A} = \abs{c - c} = 0\)，
因此\(\forall \epsilon > 0\)，
可任取\(\delta > 0\)，
当\(0 < \abs{x - x_0} < \delta\)时，
总能使不等式\begin{equation*}
	\abs{f(x) - A} = \abs{c - c} = 0 < \epsilon
\end{equation*}成立，
所以\(\lim_{x \to x_0} c = c\).
\end{proof}
\end{example}

\begin{example}
%@see: 《高等数学（第六版 上册）》 P33 例2
证明：\(\lim_{x \to x_0} x = x_0\).
\begin{proof}
这里\(\abs{f(x) - A} = \abs{x - x_0}\)，
因此\(\forall \epsilon > 0\)，
总可取\(\delta = \epsilon\)，
当\(0 < \abs{x - x_0} < \delta = \epsilon\)时，
能使不等式\(\abs{f(x) - A} = \abs{x - x_0} < \epsilon\)成立，
所以\(\lim_{x \to x_0} x = x_0\).
\end{proof}
\end{example}

\begin{example}
%@see: 《高等数学（第六版 上册）》 P33 例3
证明：\(\lim_{x\to1} (2x-1) = 1\).
\begin{proof}
由于\(\abs{f(x) - A} = \abs{(2x-1) - 1} = 2\abs{x-1}\)，
为了使\(\abs{f(x) - A} < \epsilon\)，
只要\(\abs{x-1}<\epsilon/2\).
因此\(\forall \epsilon > 0\)，
可取\(\delta = \epsilon/2\)，
则当\(x\)适合不等式\(0 < \abs{x-1} < \delta = \frac\epsilon2\)时，
对应的函数值\(f(x)\)就满足不等式\begin{equation*}
	\abs{f(x) - 1} = \abs{(2x-1) - 1} = 2\abs{x-1} < \epsilon.
\end{equation*}
从而\(\lim_{x\to1} 2x-1 = 1\).
\end{proof}
\end{example}

\begin{example}
%@see: 《高等数学（第六版 上册）》 P33 例4
证明：\(\lim_{x\to1} \frac{x^2-1}{x-1} = 2\).
\begin{proof}
这里，函数在点\(x=1\)处是没有定义的，
但是函数当\(x\to1\)时的极限存在或不存在与之无关.
事实上，\(\forall \epsilon > 0\)，将不等式\begin{equation*}
	\abs{\frac{x^2-1}{x-1} - 2} < \epsilon
\end{equation*}
约去非零因子\(x-1\)后，就化为\begin{equation*}
	\abs{(x+1)-2} = \abs{x-1} < \epsilon,
\end{equation*}
因此，只要取\(\delta = \epsilon\)，
那么当\(0 < \abs{x-1} < \delta\)时，就有\begin{equation*}
	\abs{\frac{x^2-1}{x-1} - 2} < \epsilon.
\end{equation*}
所以\(\lim_{x\to1} \frac{x^2-1}{x-1} = 2\).
\end{proof}
\end{example}

\begin{example}\label{example:极限.根式函数在某一点的极限}
%@see: 《高等数学（第六版 上册）》 P34 例5
证明：当\(x_0 > 0\)时，
\(\lim_{x \to x_0}\sqrt{x} = \sqrt{x_0}\).
\begin{proof}
\(\forall \epsilon > 0\)，
因为\begin{equation*}
	\abs{f(x) - A} = \abs{\sqrt{x} - \sqrt{x_0}}
	= \abs{\frac{x - x_0}{\sqrt{x} + \sqrt{x_0}}}
	\leq \frac{\abs{x - x_0}}{\sqrt{x_0}},
\end{equation*}
那么要使\(0 < \abs{x - x_0} < \delta \implies \abs{f(x) - A} < \epsilon\)，
只要\begin{equation*}
	0 < \abs{x - x_0} < \delta \implies \abs{x - x_0} < \sqrt{x_0} \epsilon,
\end{equation*}
也即\begin{equation*}
	\delta \leq \sqrt{x_0} \epsilon.
	\eqno(1)
\end{equation*}

由于我们还要确保\(f\)在\(x_0\)的去心邻域内有定义，
于是又有\begin{equation*}
	0 < \abs{x-x_0} < \delta \implies x\geq0
	\quad\text{或}\quad
	(x_0-\delta,x_0+\delta)\subseteq[0,+\infty),
\end{equation*}
也即\begin{equation*}
	x_0-\delta\geq0
	\quad\text{或}\quad
	x_0\geq\delta.
	\eqno(2)
\end{equation*}

综上所述，如果取\(\delta = \min\{x_0,\sqrt{x_0} \epsilon\}\)，
则当\(0 < \abs{x - x_0} < \delta\)时，
对应的函数值\(\sqrt{x}\)就满足\begin{equation*}
	\abs{f(x) - A} = \abs{\sqrt{x} - \sqrt{x_0}} < \epsilon,
\end{equation*}
所以\(\lim_{x \to x_0}\sqrt{x} = \sqrt{x_0}\).
\end{proof}
\end{example}

\begin{example}
证明：\begin{equation}\label{equation:函数极限.重要极限13}
	\lim_{x \to e} \ln x = 1.
\end{equation}
\begin{proof}
对于\(\forall\epsilon>0\ (\epsilon<1)\)，
要使\begin{equation*}
	\abs{\ln x - 1}
	= \abs{\ln x - \ln e}
	= \abs{\ln\frac{x}{e}}
	< \epsilon
\end{equation*}成立，
只需\(-\epsilon < \ln\frac{x}{e} < \epsilon\)
或\(e^{-\epsilon} < \frac{x}{e} < e^\epsilon\)
或\(e^{1-\epsilon} < x < e^{1+\epsilon}\)
或\(e^{1-\epsilon}-e < x-e < e^{1+\epsilon}-e\)成立.
因此，只要取\(\delta = \min\{
	e-e^{1-\epsilon},
	e^{1+\epsilon}-e
\}\)，
那么当\(0<\abs{x-e}<\delta\)时，
就有\(\abs{\ln x-1}<\epsilon\)成立.
\end{proof}
\end{example}

\begin{example}
%@see: 《数学分析教程（第3版 上册）》（史济怀） P69 例1
证明：\(\lim_{x\to0} x \sin\frac1x = 0\).
\begin{proof}
函数\(x \mapsto x \sin\frac1x\)除\(x=0\)之外，在其他各点均有意义.
对任意给定的\(\epsilon>0\)，
取\(\delta=\epsilon\)，
当\(0<\abs{x-0}=\abs{x}<\delta\)时，
有\begin{equation*}
	\abs{x \sin\frac1x - 0}
	= \abs{x} \abs{\sin\frac1x}
	\leq \abs{x}
	< \delta = \epsilon.
	\qedhere
\end{equation*}
\end{proof}
\end{example}

\begin{definition}\label{definition:极限.函数极限的定义2}
%@see: 《数学分析（第二版 上册）》（陈纪修） P80 定义3.1.2
%@see: 《数学分析教程（第3版 上册）》（史济怀） P75 定义2.4.2
设函数\(f\colon D\to\mathbb{R}\)在点\(x_0\)的某个去心左邻域中有定义，
即\begin{equation*}
	(\exists\rho>0)
	[\mathring{U}_-(x_0,\rho) \subseteq D].
\end{equation*}
如果存在常数\(A\in\mathbb{R}\)，
对于任意给定的正数\(\epsilon\)，
总存在正数\(\delta\)，
使得当\(x\)满足不等式\begin{equation*}
	-\delta < x - x_0 < 0
	\quad\text{或}\quad
	x_0 - \delta < x < x_0
\end{equation*}时，
总有不等式\(\abs{f(x) - A} < \epsilon\)成立，
那么常数\(A\)就叫做“函数\(f\)当\(x \to x_0\)时的\DefineConcept{左极限}（left-sided limit）”
或“函数\(f\)在点\(x_0\)的左极限”，
记作\begin{equation*}
	\lim_{x \to x_0^-} f(x) = A,
	\quad\text{或}\quad
	f(x_0^-) = A.
\end{equation*}
\end{definition}

\begin{definition}\label{definition:极限.函数极限的定义3}
%@see: 《数学分析（第二版 上册）》（陈纪修） P80 定义3.1.2
%@see: 《数学分析教程（第3版 上册）》（史济怀） P75 定义2.4.2
设函数\(f\colon D\to\mathbb{R}\)在点\(x_0\)的某个去心右邻域中有定义，
即\begin{equation*}
	(\exists\rho>0)
	[\mathring{U}_+(x_0,\rho) \subseteq D].
\end{equation*}
如果存在常数\(A\in\mathbb{R}\)，
对于任意给定的正数\(\epsilon\)，
总存在正数\(\delta\)，
使得当\(x\)满足不等式\begin{equation*}
	0 < x - x_0 < \delta
	\quad\text{或}\quad
	x_0 < x < x_0 + \delta
\end{equation*}时，
总有不等式\(\abs{f(x) - A} < \epsilon\)成立，
那么常数\(A\)就叫做“函数\(f\)当\(x \to x_0\)时的\DefineConcept{右极限}（right-sided limit）”
或“函数\(f\)在点\(x_0\)的右极限”，
记作\begin{equation*}
	\lim_{x \to x_0^+} f(x) = A
	\quad\text{或}\quad
	f(x_0^+) = A.
\end{equation*}
\end{definition}

左极限与右极限统称为\DefineConcept{单侧极限}.

\begin{remark}
我们还可以将上述两类极限的定义写成：\begin{gather*}
	\lim_{x \to x_0^-} f(x)
	\defeq
	\lim_{\substack{x \to x_0 \\ x < x_0}} f(x), \qquad
	\lim_{x \to x_0^+} f(x)
	\defeq
	\lim_{\substack{x \to x_0 \\ x > x_0}} f(x).
\end{gather*}
或者写成\begin{gather*}
	\lim_{x \to x_0^-} f(x) = A
	\defiff
	(\forall \epsilon > 0)
	(\exists \delta > 0)
	(\forall x \in D)
	[-\delta < x - x_0 < 0 \implies \abs{f(x) - A} < \epsilon], \\
	\lim_{x \to x_0^+} f(x) = A
	\defiff
	(\forall \epsilon > 0)
	(\exists \delta > 0)
	(\forall x \in D)
	[0 < x - x_0 < \delta \implies \abs{f(x) - A} < \epsilon].
\end{gather*}
\end{remark}

\begin{proposition}\label{theorem:函数极限.极限与单侧极限的关系1}
%@see: 《数学分析教程（第3版 上册）》（史济怀） P76 定理2.4.9
设函数\(f\colon D\to\mathbb{R}\)在点\(x_0\)的某个去心邻域中有定义，
则\begin{equation*}
	\lim_{x \to x_0} f(x) = A
	\iff
	\lim_{x \to x_0^-} f(x) = \lim_{x \to x_0^+} f(x) = A.
\end{equation*}
%TODO proof
\end{proposition}
\begin{remark}
由\cref{theorem:函数极限.极限与单侧极限的关系1} 可知：
函数在某一点的极限存在
当且仅当
它在该点的左右极限存在且相等.
\end{remark}

\begin{example}
%@see: 《高等数学（第六版 上册）》 P35 例6
证明：函数\begin{equation*}
	f(x) = \left\{ \begin{array}{lc}
		x-1, & x<0, \\
		0, & x=0, \\
		x+1, & x>0.
	\end{array} \right.
\end{equation*}当\(x\to0\)时\(f(x)\)的极限不存在.
\begin{proof}
易证\begin{equation*}
	\lim_{x\to0^-} f(x) = \lim_{x\to0^-} (x-1) = -1,
	\qquad
	\lim_{x\to0^+} f(x) = \lim_{x\to0^+} (x+1) = 1,
\end{equation*}
因为左、右极限存在但不相等，所以\(\lim_{x\to0}\)不存在.
\end{proof}
\end{example}
\begin{table}[htp]
	\centering
	\begin{tblr}{c*4{|c}}
		\hline
		& \(f(x) \to A\)
			& \(f(x) \to \infty\)
			& \(f(x) \to +\infty\)
			& \(f(x) \to -\infty\) \\ \hline
		\(x \to x_0\)
		& \(\begin{aligned}[t]
			& (\forall\epsilon>0)
			(\exists\delta>0)\\
			& (\forall x \in D)\\
			& [0<\abs{x-x_0}<\delta\\
			& \implies \abs{f(x)-A}<\epsilon]\\
		\end{aligned}\)
		& \(\begin{aligned}[t]
			& (\forall G>0)
			(\exists\delta>0)\\
			& (\forall x \in D)\\
			& [0<\abs{x-x_0}<\delta\\
			& \implies \abs{f(x)}>G]\\
		\end{aligned}\)
		& \(\begin{aligned}[t]
			& (\forall G>0)
			(\exists\delta>0)\\
			& (\forall x \in D)\\
			& [0<\abs{x-x_0}<\delta\\
			& \implies f(x)>G]\\
		\end{aligned}\)
		& \(\begin{aligned}[t]
			& (\forall G>0)
			(\exists\delta>0)\\
			& (\forall x \in D)\\
			& [0<\abs{x-x_0}<\delta\\
			& \implies f(x)<-G]\\
		\end{aligned}\)
		\\ \hline
		\(x \to x_0^+\)
		& \(\begin{aligned}[t]
			& (\forall\epsilon>0)
			(\exists\delta>0)\\
			& (\forall x \in D)\\
			& [0<x-x_0<\delta\\
			& \implies \abs{f(x)-A}<\epsilon]\\
		\end{aligned}\)
		& \(\begin{aligned}[t]
			& (\forall G>0)
			(\exists\delta>0)\\
			& (\forall x \in D)\\
			& [0<x-x_0<\delta\\
			& \implies \abs{f(x)}>G]\\
		\end{aligned}\)
		& \(\begin{aligned}[t]
			& (\forall G>0)
			(\exists\delta>0)\\
			& (\forall x \in D)\\
			& [0<x-x_0<\delta\\
			& \implies f(x)>G]\\
		\end{aligned}\)
		& \(\begin{aligned}[t]
			& (\forall G>0)
			(\exists\delta>0)\\
			& (\forall x \in D)\\
			& [0<x-x_0<\delta\\
			& \implies f(x)<-G]\\
		\end{aligned}\)
		\\ \hline
		\(x \to x_0^-\)
		& \(\begin{aligned}[t]
			& (\forall\epsilon>0)
			(\exists\delta>0)\\
			& (\forall x \in D)\\
			& [-\delta<x-x_0<0\\
			& \implies \abs{f(x)-A}<\epsilon]\\
		\end{aligned}\)
		& \(\begin{aligned}[t]
			& (\forall G>0)
			(\exists\delta>0)\\
			& (\forall x \in D)\\
			& [-\delta<x-x_0<0\\
			& \implies \abs{f(x)}>G]\\
		\end{aligned}\)
		& \(\begin{aligned}[t]
			& (\forall G>0)
			(\exists\delta>0)\\
			& (\forall x \in D)\\
			& [-\delta<x-x_0<0\\
			& \implies f(x)>G]\\
		\end{aligned}\)
		& \(\begin{aligned}[t]
			& (\forall G>0)
			(\exists\delta>0)\\
			& (\forall x \in D)\\
			& [-\delta<x-x_0<0\\
			& \implies f(x)<-G]\\
		\end{aligned}\)
		\\ \hline
	\end{tblr}
	\caption{自变量趋于有限值时函数的极限的定义}
\end{table}
