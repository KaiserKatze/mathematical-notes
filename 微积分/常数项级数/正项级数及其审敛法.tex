\section{正项级数及其审敛法}
\subsection{正项级数的概念及其收敛条件}
一般的常数项级数，它的各项可以是正数、负数或零.
现在我们先讨论“正项级数”.
这种级数特别重要，以后将看到许多级数的收敛性问题可归结为正项级数的收敛性问题.

\begin{definition}
%@see: 《数学分析（第二版 下册）》（陈纪修） P16 定义9.3.1
如果级数\(\sum_{n=1}^\infty u_n\)的一般项是非负实数，
即\[
	u_n\geq0\ (n=1,2,\dotsc),
\]
则称“级数\(\sum_{n=1}^\infty u_n\)是\DefineConcept{正项级数}（positive term series）”.
\end{definition}

\begin{property}\label{theorem:无穷级数.正项级数部分和数列单调增加}
正项级数的部分和数列是单调增加的.
\begin{proof}
设\(\sum_{n=1}^\infty u_n\)是一个正项级数，
\(\{S_n\}\)是它的部分和数列，
那么\[
	S_{n+1} - S_n = a_{n+1} \geq 0
	\quad(n=1,2,\dotsc),
\]
即\(S_{n+1} \geq S_n\ (n=1,2,\dotsc)\)，
部分和数列\(\{S_n\}\)是单调增加的.
\end{proof}
\end{property}

\begin{theorem}\label{theorem:无穷级数.正项级数收敛的充分必要条件}
%@see: 《高等数学（第六版 下册）》 P256 定理1
%@see: 《数学分析教程 （第3版 下册）》（史济怀） P163 定理14.2.1
%@see: 《数学分析（第二版 下册）》（陈纪修） P16 定理9.3.1（正项级数的收敛原理）
正项级数收敛的充分必要条件是：它的部分和数列有界.
\begin{proof}
设\(\sum_{n=1}^\infty u_n\)是一个正项级数，
它的部分和数列为\(\{s_n\}\).

假设数列\(\{s_n\}\)有界.
那么由\cref{theorem:无穷级数.正项级数部分和数列单调增加} 可知，
数列\(\{s_n\}\)是一个单调有界数列，
于是根据\hyperref[theorem:极限.数列的单调有界定理]{单调有界定理}，
数列\(\{s_n\}\)收敛，
根据\hyperref[definition:无穷级数.常数项级数的定义]{级数的定义}，
级数\(\sum_{n=1}^\infty u_n\)收敛.

反之，如果正项级数\(\sum_{n=1}^\infty u_n\)收敛于和\(s\)，
由\hyperref[definition:无穷级数.常数项级数的定义]{级数的定义}可知
\(\lim_{n\to\infty} s_n = s\)，
根据\hyperref[theorem:极限.收敛数列的有界性]{收敛数列的有界性}可知，
数列\(\{s_n\}\)有界.
\end{proof}
\end{theorem}

\begin{example}
%@see: 《数学分析（第2册）》（周民强） P148 例1
设\(\{u_n\}\)是单调增加的有界的正数列.
证明：级数\(\sum_{n=1}^\infty \left(1-\frac{u_n}{u_{n+1}}\right)\)收敛.
\begin{proof}
不妨设\(0 < u_n \leq M\ (n=1,2,\dotsc)\).
因为\begin{align*}
	0 < S_n &= \sum_{k=1}^n \left(1-\frac{u_n}{u_{n+1}}\right)
	= \sum_{k=1}^n u_k \left(\frac1{u_k} - \frac1{u_{k+1}}\right) \\
	&= M \sum_{k=1}^n \left(\frac1{u_k} - \frac1{u_{k+1}}\right)
	= M \left(\frac1{u_1} - \frac1{u_{n+1}}\right)
	\leq \frac{M}{u_1},
\end{align*}
所以部分和数列\(\{S_n\}\)是有界的，
级数\(\sum_{n=1}^\infty \left(1-\frac{u_n}{u_{n+1}}\right)\)收敛.
\end{proof}
\end{example}
\begin{example}
%@see: 《2019年全国硕士研究生入学统一考试（数学一）》一选择题/第3题/选项(C)
设\(\{u_n\}\)是单调增加的有界数列.
举例说明：级数\(\sum_{n=1}^\infty \left(1-\frac{u_n}{u_{n+1}}\right)\)发散.
\begin{solution}
取\[
	u_n = -\frac1n
	\quad(n=1,2,\dotsc),
\]
易见\(u_1 \leq u_n < u_{n+1} < 0\ (n=1,2,\dotsc)\)，
\(\{u_n\}\)是单调增加的有界数列，
而级数\[
	\sum_{n=1}^\infty \left(1-\frac{u_n}{u_{n+1}}\right)
	= -\sum_{n=1}^\infty \frac1n
\]发散.
\end{solution}
\end{example}

\begin{example}
%@see: 《数学分析（第2册）》（周民强） P148 例2
设\(\{u_n\}\)满足\(u_1 = 1, u_2 = 2\)，且有递推公式\(u_n = u_{n-1} + u_{n-2}\ (n=3,4,\dotsc)\).
证明：级数\(\sum_{n=1}^\infty \frac1{u_n}\)收敛.
\begin{proof}
利用数学归纳法可证：\(u_{n+1} > u_n > 0\ (n=1,2,\dotsc)\)
且\(u_{n-2} < u_{n-1} < 2 u_{n-2}\ (n=3,4,\dotsc)\).
于是\[
	u_n > u_{n-1} + \frac12 u_{n-1} = \frac32 u_{n-1}
	\quad(n=2,3,\dotsc).
\]
由此可知，\(\{u_n\}\)的前\(n\)项和\(S_n\)满足\[
	S_n - 1 = \sum_{k=2}^n \frac1{u_k}
	< \frac23 \sum_{k=2}^n \frac1{u_{k-1}}
	= \frac23 (S_n - u_n^{-1})
	\quad(n=1,2,\dotsc),
\]
即\[
	S_n < 3 - \frac2{u_n} < 3
	\quad(n=1,2,\dotsc),
\]
这说明部分和数列\(\{S_n\}\)有上界，级数\(\sum_{n=1}^\infty \frac1{u_n}\)收敛.
\end{proof}
\end{example}

\begin{proposition}
%@see: 《数学分析（第二版 下册）》（陈纪修） P16 定理9.3.1（正项级数的收敛原理）
正项级数发散的充分必要条件是：它的部分和数列无界.
\begin{proof}
\cref{theorem:无穷级数.正项级数收敛的充分必要条件} 的逆否命题.
\end{proof}
\end{proposition}

\begin{proposition}
正项级数发散的充分必要条件是：它的部分和\(S_n\)满足\(\lim_{n\to\infty} S_n = +\infty\).
\end{proposition}

\begin{example}
%@see: 《数学分析教程 （第3版 下册）》（史济怀） P163 例1
%@see: 《数学分析（第二版 下册）》（陈纪修） P29 习题 13
设正项级数\(\sum_{n=1}^\infty a_n\)的部分和是\(S_n\).
证明：\[
	\sum_{n=1}^\infty \frac{a_n}{S_n^2} < +\infty.
\]
\begin{proof}
显然\(\sum_{n=1}^\infty \frac{a_n}{S_n^2}\)是正项级数.
根据\cref{theorem:无穷级数.正项级数收敛的充分必要条件}，
只需证明它的部分和有界.
由于对于任意正整数\(N\)，有\begin{align*}
	\sum_{n=2}^N \frac{a_n}{S_n^2}
	&= \sum_{n=2}^N \frac{S_n-S_{n-1}}{S_n^2}
	\leq \sum_{n=2}^N \frac{S_n-S_{n-1}}{S_{n-1} S_n} \\
	&= \sum_{n=2}^N \left(
			\frac{1}{S_{n-1}} - \frac{1}{S_n}
		\right)
	= \frac{1}{S_1} - \frac{1}{S_N}
	< \frac{1}{a_1},
\end{align*}
也就是说\(\sum_{n=1}^\infty \frac{a_n}{S_n^2}\)的部分和有界，
所以根据\cref{theorem:无穷级数.正项级数收敛的充分必要条件}，该级数收敛.
\end{proof}
\end{example}

\subsection{柯西凝聚判别法}
\begin{theorem}\label{theorem:无穷级数.柯西凝聚判别法}
%@see: 《数学分析（第2册）》（周民强） P149 定理9.5
设\(\{a_n\}\)是单调减少的正数列，
则级数\(\sum_{n=1}^\infty a_n\)收敛的充分必要条件是：
级数\[
	\sum_{n=0}^\infty 2^n a_{2^n}
\]收敛.
\begin{proof}
记\(S_n \defeq \sum_{k=1}^n a_k,
\sigma_n \defeq \sum_{k=1}^n 2^k a_{2^k}\).

当\(n \leq 2^k\)时，有\begin{align*}
	S_n &\leq a_1 + (a_2 + a_3)
	+ \dotsb + (a_{2^k} + a_{2^k+1} + \dotsb + a_{2^{k+1}-1}) \\
	&= a_1 + 2 a_2 + 4 a_4 + \dotsb + 2^k a_{2^k}
	= \sigma_k.
\end{align*}
若\(\sum_{n=0}^\infty 2^n a_{2^n}\)收敛于\(\sigma\)，
则\(S_n \leq \sigma\)，
说明\(\{S_n\}\)有界，
级数\(\sum_{n=1}^\infty a_n\)收敛.

当\(n > 2^k\)时，有\begin{align*}
	S_n &\geq a_1 + a_2 + (a_3 + a_4)
	+ \dotsb + (a_{2^{k-1}+1} + \dotsb + a_{2^k}) \\
	&\geq \frac12 a_1 + a_2 + 2 a_4 + \dotsb + 2^{k-1} a_{2^k} \\
	&\geq \frac12 (a_1 + 2 a_2 + 4 a_4 + \dotsb + a^k a_{2^k})
	= \frac12 \sigma_n.
\end{align*}
若\(\sum_{n=1}^\infty a_n\)收敛于\(S\)，
则\(\sigma_k \leq 2 S\)，
说明\(\{\sigma_k\}\)有界，
级数\(\sum_{n=0}^\infty 2^n a_{2^n}\)收敛.
\end{proof}
\end{theorem}

\subsection{比较审敛法}
利用\cref{theorem:无穷级数.正项级数收敛的充分必要条件} 直接证明某些级数的部分和有界不太容易，
因此我们需要一个判别级数敛散性的更简单的方法.

\begin{theorem}[比较审敛法]\label{theorem:无穷级数.正项级数的比较审敛法}
%@see: 《高等数学（第六版 下册）》 P256 定理2
%@see: 《数学分析教程 （第3版 下册）》（史济怀） P164 定理14.2.2
%@see: 《数学分析（第2册）》（周民强） P151 定理9.7
设\(\sum_{n=1}^\infty u_n\)
和\(\sum_{n=1}^\infty v_n\)都是正项级数，且\[
	u_n \leq v_n
	\quad(n=1,2,\dotsc).
\]
若级数\(\sum_{n=1}^\infty v_n\)收敛，
则级数\(\sum_{n=1}^\infty u_n\)收敛；
反之，若级数\(\sum_{n=1}^\infty u_n\)发散，
则级数\(\sum_{n=1}^\infty v_n\)发散.
\begin{proof}
设级数\(\sum_{n=1}^\infty v_n\)收敛于和\(\sigma\)，
则级数\(\sum_{n=1}^\infty u_n\)的部分和\[
	s_n = u_1 + u_2 + \dotsb u_n
	\leq
	v_1 + v_2 + \dotsb + v_n \leq \sigma
	\quad(n=1,2,\dotsc),
\]
即部分和数列\(\{s_n\}\)有界，
由\cref{theorem:无穷级数.正项级数收敛的充分必要条件} 知级数\(\sum_{n=1}^\infty u_n\)收敛.
\end{proof}
\end{theorem}

\begin{example}
%@see: 《高等数学（第六版 下册）》 P268 习题12-2 1. (5)
判断级数\(\sum_{n=1}^\infty \frac{1}{1+a^n}\ (a>0)\)的收敛性.
\begin{solution}
显然有\[
	0 < \frac{1}{1+a^n} < \frac{1}{a^n}.
\]
根据\hyperref[theorem:无穷级数.正项级数的比较审敛法]{比较审敛法}，
如果级数\(\sum_{n=1}^\infty \frac{1}{a^n}\)收敛，
那么级数\(\sum_{n=1}^\infty \frac{1}{1+a^n}\)收敛.
然而，等比级数\(\sum_{n=1}^\infty \frac{1}{a^n}\)收敛
当且仅当\(\abs{\frac{1}{a}} < 1\)或\(a > 1\).

因此，当\(a > 1\)时，级数\(\sum_{n=1}^\infty \frac{1}{1+a^n}\)收敛；
当\(0 < a \leq 1\)时，级数\(\sum_{n=1}^\infty \frac{1}{1+a^n}\)发散.
\end{solution}
\end{example}

注意到级数的每一项同乘不为零的常数\(k\)
以及去掉级数前面部分的有限项不会影响级数的收敛性，
我们可得如下推论：
\begin{corollary}\label{theorem:无穷级数.正项级数的比较审敛法的推论}
%@see: 《高等数学（第六版 下册）》 P257 推论
%@see: 《数学分析（第二版 下册）》（陈纪修） P17 定理9.3.2（比较判别法）
设\(\sum_{n=1}^\infty u_n\)和\(\sum_{n=1}^\infty v_n\)都是正项级数.
\begin{itemize}
	\item 如果级数\(\sum_{n=1}^\infty v_n\)收敛，
	且从某一项开始\(u_n\)小于或等于\(v_n\)的正倍数，
	即\[
		(\exists k>0)
		(\exists N\in\mathbb{N})
		(\forall n\in\mathbb{N})
		[
			n > N
			\implies
			u_n \leq k v_n
		],
	\]
	则级数\(\sum_{n=1}^\infty u_n\)收敛.

	\item 如果级数\(\sum_{n=1}^\infty v_n\)发散，
	且从某一项开始\(u_n\)大于或等于\(v_n\)的正倍数，
	即\[
		(\exists k>0)
		(\exists N\in\mathbb{N})
		(\forall n\in\mathbb{N})
		[
			n > N
			\implies
			u_n \geq k v_n
		],
	\]
	则级数\(\sum_{n=1}^\infty u_n\)发散.
\end{itemize}
\end{corollary}

\begin{example}\label{example:无穷级数.p级数的收敛性}
%@see: 《高等数学（第六版 下册）》 P257 例1
%@see: 《数学分析（第二版 下册）》（陈纪修） P3 例9.1.3
讨论\(p\)级数\[
	1+\frac{1}{2^p}+\frac{1}{3^p}+\dotsb+\frac{1}{n^p}+\dotsb
\]的收敛性，
其中常数\(p>0\).
\begin{solution}
当\(p \leq 1\)时，\(p\)级数各项均不小于调和级数对应项，
即\(\frac{1}{n^p} \geq \frac{1}{n}\)，
但调和级数发散，
故根据\cref{theorem:无穷级数.正项级数的比较审敛法} 可知，
当\(p \leq 1\)时\(p\)级数发散.

当\(p > 1\)时，
因为\(k-1
\leq x
\leq k \implies \frac{1}{k}
\leq \frac{1}{x} \implies \frac{1}{k^p}
\leq \frac{1}{x^p}\)，
所以\[
	\frac{1}{k^p}
	= \int_{k-1}^k \frac{1}{k^p} \dd{x}
	\leq \int_{k-1}^k \frac{1}{x^p} \dd{x}
	\quad(k=2,3,\dotsc),
\]
从而级数的部分和
\begin{align*}
	s_n &= 1 + \sum_{k=2}^n{\frac{1}{k^p}}
	\leq 1 + \sum_{k=2}^n{ \int_{k-1}^k{\frac{1}{x^p}\dd{x}} }
	= 1 + \int_1^n{\frac{1}{x^p}\dd{x}} \\
	&= 1 + \frac{1}{p-1}\left(1-\frac{1}{n^{p-1}}\right)
	< 1 + \frac{1}{p-1}
	\quad(n=2,3,\dotsc),
\end{align*}
这表明数列\(\{s_n\}\)有界，因此\(p\)级数收敛.

综上所述，{\color{red} \(p\)级数\(\sum_{n=1}^\infty \frac{1}{n^p}\)
当\(p > 1\)时收敛，
当\(p \leq 1\)时发散.}
\end{solution}
\end{example}

\begin{example}
%@see: 《数学分析（第2册）》（周民强） P153 例2
设\(\{n a_n\}\)是有界数列，证明：\(\sum_{n=1}^\infty a_n^2\)收敛.
\begin{proof}
设\(\abs{n a_n} \leq M\ (n=1,2,\dotsc)\)，
则\(a_n^2 = \frac{(n a_n)^2}{n^2} \leq \frac{M^2}{n^2}\)，
由\cref{example:无穷级数.p级数的收敛性} 可知
级数\(\sum_{n=1}^\infty \frac1{n^2}\)收敛，
于是由\hyperref[theorem:无穷级数.正项级数的比较审敛法]{比较审敛法}可知
级数\(\sum_{n=1}^\infty a_n^2\)收敛.
\end{proof}
\end{example}

\begin{example}
%@see: 《高等数学（第六版 下册）》 P257 例2
试证：级数\(\sum_{n=1}^\infty \frac{1}{\sqrt{n(n+1)}}\)是发散的.
\begin{proof}
因为\(n(n+1) < (n+1)^2\)，所以\(\frac{1}{\sqrt{n(n+1)}} > \frac{1}{n+1}\)，
而级数\(\sum_{n=1}^\infty \frac{1}{n+1}\)是发散的，
根据比较审敛法可知级数\(\sum_{n=1}^\infty \frac{1}{\sqrt{n(n+1)}}\)是发散的.
\end{proof}
\end{example}

\begin{example}
%@see: 《数学分析教程 （第3版 下册）》（史济怀） P163 例1
设正项级数\(\sum_{n=1}^\infty a_n\)的部分和是\(S_n\).
证明：对任意的\(\alpha>1\)，有\[
	\sum_{n=1}^\infty \frac{a_n}{S_n^\alpha} < +\infty.
\]
\begin{proof}
当\(\alpha>1\)时，
有\begin{align*}
	\sum_{i=2}^n \frac{a_i}{S_i^\alpha}
	&= \sum_{i=2}^n \frac{S_i-S_{i-1}}{S_i^\alpha} \\
	&= \sum_{i=2}^n \frac{1}{S_i^\alpha} \int_{S_{i-1}}^{S_i} \dd{x}
			\tag{\cref{theorem:定积分.定积分性质4}} \\
	&\leq \sum_{i=2}^n \int_{S_{i-1}}^{S_i} \frac{\dd{x}}{x^\alpha}
			\tag{\cref{theorem:定积分.定积分性质6}} \\
	&= \int_{S_1}^{S_n} \frac{\dd{x}}{x^\alpha}
			\tag{\cref{theorem:定积分.定积分性质3}} \\
	&\leq \int_{S_1}^{+\infty} \frac{\dd{x}}{x^\alpha}
	< +\infty,
			\tag{\cref{example:定积分.p积分}}
\end{align*}
可见该级数的部分和有界，因此该级数收敛.
\end{proof}
\end{example}

\begin{example}
设正项级数\(\sum_{n=1}^\infty a_n\)发散.
证明：级数\(\sum_{n=1}^\infty \frac{a_n}{n^3+a_n^2}\)收敛.
\begin{proof}
由\hyperref[theorem:不等式.基本不等式2]{基本不等式}可知\[
	n^3+a_n^2\geq2\sqrt{n^3 a_n^2}=2n^{3/2}a_n,
\]
那么\[
	\frac{a_n}{n^3+a_n^2}\leq\frac{a_n}{2n^{3/2}a_n}=\frac{1}{2n^{3/2}}.
\]
由\cref{example:无穷级数.p级数的收敛性}
我们知道\(p=\frac{3}{2}>1\)时，\(p\)级数收敛；
那么根据\hyperref[theorem:无穷级数.正项级数的比较审敛法]{比较审敛法}可知
级数\(\sum_{n=1}^\infty \frac{a_n}{n^3+a_n^2}\)收敛.
\end{proof}
\end{example}

\begin{example}
设数列\(\{u_n\},\{v_n\},\{w_n\}\)满足\[
	v_n \leq u_n \leq w_n.
\]
证明：如果\(\sum_{n=1}^\infty v_n\)和\(\sum_{n=1}^\infty w_n\)都收敛，
则\(\sum_{n=1}^\infty u_n\)也收敛.
\begin{proof}
因为\(0 \leq u_n - v_n \leq w_n - v_n\)，
且级数\(\sum_{n=1}^\infty (w_n - v_n)\)收敛，
所以级数\(\sum_{n=1}^\infty (u_n - v_n)\)收敛，
于是级数\(\sum_{n=1}^\infty u_n
= \sum_{n=1}^\infty (u_n - v_n + v_n)\)收敛.
\end{proof}
\end{example}

\begin{example}
设数列\(\{u_n\},\{v_n\},\{w_n\}\)满足\[
	v_n \leq u_n \leq w_n.
\]
举例说明：即便\(\sum_{n=1}^\infty v_n\)和\(\sum_{n=1}^\infty w_n\)都收敛，
还是有\(\sum_{n=1}^\infty u_n\)发散.
%TODO
\end{example}

\subsection{比较审敛法的比值形式}
\begin{theorem}\label{theorem:无穷级数.比较审敛法的比值形式}
%@see: 《数学分析简明教程（第二版 下册）》（邓东皋、尹小玲） P14 定理10.8（比较判别法的另一形式）
%@see: 《数学分析（第2册）》（周民强） P152 推论9.2
设\(\sum_{n=1}^\infty u_n\)和\(\sum_{n=1}^\infty v_n\)都是正项级数.
设存在正整数\(N\)，使得当\(n>N\)时，有\[
	\frac{u_{n+1}}{u_n} \leq \frac{v_{n+1}}{v_n}.
\]
\begin{itemize}
	\item 如果\(\sum_{n=1}^\infty v_n\)收敛，则\(\sum_{n=1}^\infty u_n\)收敛.
	\item 如果\(\sum_{n=1}^\infty u_n\)发散，则\(\sum_{n=1}^\infty v_n\)发散.
\end{itemize}
%TODO proof
\end{theorem}

\subsection{比较审敛法的极限形式}
\begin{theorem}[比较审敛法的极限形式]\label{theorem:无穷级数.正项级数的比较审敛法的极限形式}
%@see: 《高等数学（第六版 下册）》 P258 定理3
%@see: 《数学分析（第二版 下册）》（陈纪修） P18 定理9.3.2'（比较判别法的极限形式）
%@see: 《数学分析（第2册）》（周民强） P155 定理9.8
%@see: https://mathworld.wolfram.com/LimitComparisonTest.html
设\(\sum_{n=1}^\infty u_n\)和\(\sum_{n=1}^\infty v_n\)都是正项级数，
记\[
	\rho
	\defeq
	\lim_{n\to\infty} \frac{u_n}{v_n}.
\]
\begin{itemize}
	\item 如果\(\rho\in[0,+\infty)\)，
	且级数\(\sum_{n=1}^\infty v_n\)收敛，
	则级数\(\sum_{n=1}^\infty u_n\)收敛.

	\item 如果\(\rho\in(0,+\infty]\)，
	且级数\(\sum_{n=1}^\infty v_n\)发散，
	则级数\(\sum_{n=1}^\infty u_n\)发散.
\end{itemize}
\begin{proof}
如果\(\rho\in[0,+\infty)\)，
那么由极限定义可知，
对\(\epsilon=1\)，
存在正整数\(N\)，
当\(n>N\)时，
有\[
	\frac{u_n}{v_n} < l+1,
\]
即\(u_n < (l+1) v_n\).
而级数\(\sum_{n=1}^\infty v_n\)收敛，
根据\cref{theorem:无穷级数.正项级数的比较审敛法的推论} 可知，
级数\(\sum_{n=1}^\infty u_n\)收敛.

如果\(\rho\in(0,+\infty]\)，
那么极限\(\lim_{n\to\infty} \frac{v_n}{u_n}\)存在且有限.
如果级数\(\sum_{n=1}^\infty u_n\)收敛，
那么由上可知，级数\(\sum_{n=1}^\infty v_n\)收敛；
但已知级数\(\sum_{n=1}^\infty v_n\)发散，矛盾！
因此级数\(\sum_{n=1}^\infty u_n\)不可能收敛，
即级数\(\sum_{n=1}^\infty u_n\)发散.
\end{proof}
\end{theorem}

极限形式的比较审敛法，在两个正项级数的一般项均趋于零的情况下，
其实是比较它们的一般项作为无穷小量的阶.
定理表明，当\(n \to \infty\)时，
如果\(u_n\)是与\(v_n\)同阶或是比\(v_n\)高阶的无穷小，
而级数\(\sum_{n=1}^\infty v_n\)收敛，则级数\(\sum_{n=1}^\infty u_n\)收敛；
如果\(u_n\)是与\(v_n\)同阶或是比\(v_n\)低阶的无穷小，
而级数\(\sum_{n=1}^\infty v_n\)发散，则级数\(\sum_{n=1}^\infty u_n\)发散.

\begin{example}
%@see: 《高等数学（第六版 下册）》 P258 例3
判断级数\(\sum_{n=1}^\infty \sin\frac{1}{n}\)的收敛性.
\begin{solution}
因为\[
	\lim_{n\to\infty} \frac{\sin(1/n)}{1/n} = 1 > 0,
\]
而级数\(\sum_{n=1}^\infty \frac{1}{n}\)发散，
可知级数\(\sum_{n=1}^\infty \sin\frac{1}{n}\)发散.
\end{solution}
\end{example}

\begin{example}
%@see: 《高等数学（第六版 下册）》 P268 习题12-2 1. (1)
判断级数\[
	1 + \frac{1}{3} + \frac{1}{5} + \dotsb + \frac{1}{2n-1} + \dotsb
\]的收敛性.
\begin{solution}
记\(u_n = \frac{1}{2n-1}\)，
取\(v_n = \frac{1}{n}\).
因为\[
	\lim_{n\to\infty} \frac{u_n}{v_n}
	= \lim_{n\to\infty} \frac{n}{2n-1}
	= \lim_{n\to\infty} \frac{1}{2-1/n}
	= \frac{1}{2}
	> 0,
\]
而级数\(\sum_{n=1}^\infty \frac{1}{n}\)发散，
所以级数\(\sum_{n=1}^\infty \frac{1}{2n-1}\)发散.
\end{solution}
\end{example}

\begin{example}
%@see: 《高等数学（第六版 下册）》 P268 习题12-2 1. (2)
判断级数\[
	1 + \frac{1+2}{1+2^2} + \frac{1+3}{1+3^2} + \dotsb + \frac{1+n}{1+n^2} + \dotsb
\]的收敛性.
\begin{solution}
记\(u_n = \frac{1+n}{1+n^2}\)，
取\(v_n = \frac{1}{1+n}\).
因为\[
	\lim_{n\to\infty} \frac{u_n}{v_n}
	= \lim_{n\to\infty} \frac{(1+n)^2}{1+n^2}
	= \lim_{n\to\infty} \frac{n^2 + 2n + 1}{n^2 + 1}
	= 1 > 0,
\]
而\(\sum_{n=1}^\infty v_n\)发散，
所以级数\(\sum_{n=1}^\infty \frac{1+n}{1+n^2}\)发散.
\end{solution}
\end{example}

\begin{example}
%@see: 《高等数学（第六版 下册）》 P268 习题12-2 1. (3)
判断级数\[
	\frac{1}{2\cdot5} + \frac{1}{3\cdot6} + \dotsb + \frac{1}{(n+1)(n+4)} + \dotsb
\]的收敛性.
\begin{solution}
记\(u_n = \frac{1}{(n+1)(n+4)}\)，
取\(v_n = \frac{1}{n^2}\).
因为\[
	\lim_{n\to\infty} \frac{u_n}{v_n}
	= \lim_{n\to\infty} \frac{n^2}{(n+1)(n+4)}
	= 1,
\]
而级数\(\sum_{n=1}^\infty v_n\)收敛，
所以级数\(\sum_{n=1}^\infty \frac{1+n}{1+n^2}\)收敛.
\end{solution}
\end{example}

\begin{example}
%@see: 《高等数学（第六版 下册）》 P268 习题12-2 1. (4)
\newcommand\sinfrac[1][]{\sin\frac{\pi}{2^{#1}}}
判断级数\[
	\sinfrac + \sinfrac[2] + \sinfrac[3] + \dotsb + \sinfrac[n] + \dotsb
\]的收敛性.
\begin{solution}
记\(u_n = \sin\frac{\pi}{2^n}\)，
取\(v_n = \frac{\pi}{2^n}\).
因为\[
	\lim_{n\to\infty} \frac{u_n}{v_n}
	= \lim_{n\to\infty} \frac{\sin(\pi/2^n)}{\pi/2^n}
	= 1,
\]
而级数\(\sum_{n=1}^\infty v_n\)收敛，
所以级数\(\sum_{n=1}^\infty \sin\frac{\pi}{2^n}\)收敛.
\end{solution}
\end{example}

\begin{example}
%@see: 《数学分析（第二版 下册）》（陈纪修） P19 例9.3.4
判断正项级数\(\sum_{n=1}^\infty \left(\exp\frac1{n^2}-\cos\frac\pi{n}\right)\)的敛散性.
\begin{solution}
因为\begin{align*}
	\exp\frac1{n^2}-\cos\frac\pi{n}
	&= \left[1+\frac1{n^2}+o\left(\frac1{n^2}\right)\right]
	- \left[1-\frac12\left(\frac\pi{n}\right)^2+o\left(\frac1{n^2}\right)\right] \\
	&= \left(1+\frac{\pi^2}2\right) \frac1{n^2} + o\left(\frac1{n^2}\right),
\end{align*}
所以\[
	\lim_{n\to\infty} n^2 \left(\exp\frac1{n^2}-\cos\frac\pi{n}\right)
	= 1+\frac{\pi^2}2.
\]
由于\(\sum_{n=1}^\infty \frac1{n^2}\)收敛，
所以\(\sum_{n=1}^\infty \left(\exp\frac1{n^2}-\cos\frac\pi{n}\right)\)收敛.
\end{solution}
\end{example}
\begin{remark}
从这里例子可以看出，对于一般项\(a_n = f(n)\)的形式比较复杂的级数，
可以令\(x = 1/n\)进行倒代换，得到一个函数\(g(x) = f(1/x)\)，
首先排查\(x=0\)是不是\(g\)的一个奇点（如果\(x=0\)是\(g\)的一个奇点，那么级数必定发散），
然后求出函数\(g\)的带有拉格朗日型余项的麦克劳林公式\[
	g(x) = \sum_{k=0}^n \frac{g^{(k)}(x_0)}{k!} (x-x_0)^k
	+ \frac{g^{(n+1)}(\xi)}{(n+1)!} (x-x_0)^{n+1}.
\]
只要在点\(x=0\)的某个邻域内成立\(g(0) + g'(0) x = 0\)，
就能证明级数\(\sum_{n=1}^\infty a_n\)收敛.
\end{remark}

\subsection{比值审敛法}
用比较审敛法审敛时，
需要适当地选取一个已知其收敛性的级数\(\sum_{n=1}^\infty v_n\)作为比较的基准.
最常选用作为基准级数的是正项等比级数\(\sum_{n=1}^\infty q^n\ (q>0)\)
和\(p\)级数\(\sum_{n=1}^\infty \frac1{n^p}\).

我们知道，\hyperref[example:无穷级数.等比级数的收敛性]{等比级数}
\(\sum_{n=1}^\infty q^n\)的敛散性只依赖于其相邻两项之比\(q\)是否小于\(1\).
利用\hyperref[theorem:无穷级数.正项级数的比较审敛法]{比较审敛法}可以得出以下结论：
设级数\(\sum_{n=1}^\infty u_n\)的后项与前项之比\(\frac{u_{n+1}}{u_n}\)
或前\(n\)项的“平均公比”\[
	\sqrt[n]{u_n}
	= \sqrt[n]{\frac{u_1}1\cdot\frac{u_2}{u_1}\dotsm\frac{u_n}{u_{n-1}}}
\]的极限是\(\rho\)，
如果\(\rho<1\)，那么级数\(\sum_{n=1}^\infty u_n\)收敛；
如果\(\rho>1\)，那么级数\(\sum_{n=1}^\infty u_n\)发散.
正是基于这样的思路，产生了如下的\hyperref[theorem:无穷级数.正项级数的比值审敛法]{比值审敛法}%
和\hyperref[theorem:无穷级数.正项级数的根值审敛法]{根值审敛法}.

\begin{theorem}[比值审敛法，达朗贝尔判别法]\label{theorem:无穷级数.正项级数的比值审敛法}
设\(\sum_{n=1}^\infty u_n\)是正项级数，
记\(\rho \defeq \lim_{n\to\infty} \frac{u_{n+1}}{u_n}\).
\begin{itemize}
	\item 当\(\rho<1\)时，级数\(\sum_{n=1}^\infty u_n\)收敛.
	\item 当\(\rho>1\)时，或当\(\rho=\infty\)时，级数\(\sum_{n=1}^\infty u_n\)发散.
	\item 当\(\rho=1\)时，级数\(\sum_{n=1}^\infty u_n\)可能收敛也可能发散.
\end{itemize}
\begin{proof}
当\(\rho<1\).
取一个适当小的正数\(\epsilon\)，
使得\(\rho+\epsilon=r<1\)，
根据极限定义，
存在正整数\(m\)，
当\(n \geq m\)时有不等式\[
	\frac{u_{n+1}}{u_n} < \rho + \epsilon = r.
\]
因此\[
	u_{m+1} < r u_m,
	u_{m+2} < r u_{m+1} < r^2 u_m,
	\dotsc,
	u_{m+k} < r^k u_m,
	\dotsc.
\]
而因为公比\(r<1\)，
故等比级数\(\sum_{k=1}^\infty r^k u_m\)收敛，
根据\cref{theorem:无穷级数.正项级数的比较审敛法的推论} 可知，
级数\(\sum_{n=1}^\infty u_n\)收敛.

当\(\rho>1\).
取一个适当小的正数\(\epsilon\)，
使得\(\rho-\epsilon>1\).
根据极限定义，
当\(n \geq m\)时有不等式\[
	\frac{u_{n+1}}{u_n} > \rho-\epsilon > 1,
\]
也就是\(u_{n+1}>u_n\).
所以当\(n \geq m\)时，
级数的一般项\(u_n\)是逐渐增大的，
从而\[
	\lim_{n\to\infty} u_n \neq 0.
\]
根据\cref{theorem:无穷级数.级数收敛的必要条件} （即级数收敛的必要条件）可知，
级数\(\sum_{n=1}^\infty u_n\)发散.

类似地，可以证明当\(\lim_{n\to\infty} \frac{u_{n+1}}{u_n} = \infty\)时，
级数\(\sum_{n=1}^\infty u_n\)发散.

当\(\rho = 1\)时，
级数可能收敛也可能发散.
例如\(p\)级数不论\(p\)为何值都有\[
	\lim_{n\to\infty} \frac{u_{n+1}}{u_n}
	= \lim_{n\to\infty} \frac{1/(n+1)^p}{1/n^p} = 1.
\]
但我们知道，
当\(p>1\)时\(p\)级数收敛，
当\(p\leq1\)时\(p\)级数发散，
因此只根据\(\rho=1\)不能判定级数的收敛性.
\end{proof}
\end{theorem}

\begin{example}\label{example:无穷级数.常数e的级数表示}
%@see: 《高等数学（第六版 下册）》 P260 例5
证明级数\[
	1+\frac{1}{1}+\frac{1}{1\cdot2}+\frac{1}{1\cdot2\cdot3}+\dotsb+\frac{1}{(n-1)!}+\dotsb
\]是收敛的，
并估计以级数的部分和\(s_n\)近似代替和\(s\)所产生的误差.
\begin{solution}
因为\[
	\lim_{n\to\infty} \frac{u_{n+1}}{u_n}
	 \lim_{n\to\infty} \frac{(n-1)!}{n!}
	= \lim_{n\to\infty} \frac{1}{n} = 0 < 1,
\]
根据比值审敛法可知，该级数收敛.

以该级数的部分和近似代替和\(s\)所产生的的误差为\begin{align*}
	\abs{r_n} &= \frac{1}{n!} + \frac{1}{(n+1)!} + \frac{1}{(n+2)!} + \dotsb \\
	&= \frac{1}{n!} \left[ 1 + \frac{1}{n+1} + \frac{1}{(n+1)(n+2)} + \dotsb \right] \\
	&< \frac{1}{n!} \left( 1 + \frac{1}{n} + \frac{1}{n^2} + \dotsb \right) \\
	&= \frac{1}{n!} \frac{1}{1-1/n}
	= \frac{1}{(n-1)\cdot(n-1)!}.
\end{align*}
\end{solution}
\end{example}

\begin{example}
%@see: 《高等数学（第六版 下册）》 P268 习题12-2 2. (1)
判断级数\[
	\frac{3}{1\cdot2}
	+\frac{3^2}{2\cdot2^2}
	+\frac{3^3}{3\cdot2^3}
	+\dotsb
	+\frac{3^n}{n\cdot2^n}
	+\dotsb
\]的收敛性.
\begin{solution}
记\(u_n = \frac{3^n}{n\cdot2^n}\).
因为\[
	\lim_{n\to\infty} \frac{u_{n+1}}{u_n}
	= \lim_{n\to\infty} \frac{3}{2}\cdot\frac{n}{n+1}
	= \frac{3}{2} > 1,
\]
所以级数发散.
\end{solution}
\end{example}

\begin{example}
%@see: 《高等数学（第六版 下册）》 P268 习题12-2 2. (2)
判断级数\(\sum_{n=1}^\infty \frac{n^2}{3^n}\)的收敛性.
\begin{solution}
记\(u_n = \frac{n^2}{3^n}\).
因为\[
	\lim_{n\to\infty} \frac{u_{n+1}}{u_n}
	= \lim_{n\to\infty} \frac{1}{3} \cdot \frac{(n+1)^2}{n^2}
	= \frac{1}{3} < 1,
\]
所以级数收敛.
\end{solution}
\end{example}

\begin{example}
%@see: 《高等数学（第六版 下册）》 P268 习题12-2 2. (3)
判断级数\(\sum_{n=1}^\infty \frac{2^n \cdot n!}{n^n}\)的收敛性.
\begin{solution}
记\(u_n = \frac{2^n \cdot n!}{n^n}\).
因为\begin{align*}
	\lim_{n\to\infty} \frac{u_{n+1}}{u_n}
	&= \lim_{n\to\infty} 2(n+1) \cdot \frac{n^n}{(n+1)^{n+1}} \\
	&= 2 \cdot \lim_{n\to\infty} \frac{n^n}{(n+1)^n}
	= 2 \cdot \lim_{n\to\infty} \left(1+\frac{1}{n}\right)^{-n}
	= \frac2e < 1,
\end{align*}
所以级数收敛.
\end{solution}
\end{example}

\begin{example}
%@see: 《高等数学（第六版 下册）》 P268 习题12-2 2. (4)
判断级数\(\sum_{n=1}^\infty n \tan\frac{\pi}{2^{n+1}}\)的收敛性.
\begin{solution}
记\(u_n = n \tan\frac{\pi}{2^{n+1}}\).
我们有\[
	\frac{u_{n+1}}{u_n}
	= \frac{n+1}{n} \frac{\tan(\frac{1}{2}\frac{\pi}{2^{n+1}})}{\tan\frac{\pi}{2^{n+1}}}.
\]
根据二倍角公式\[
	\tan2\theta = \frac{2\tan\theta}{1-\tan^2\theta},
	\qquad
	\frac{\tan\theta}{\tan2\theta} = \frac{1-\tan^2\theta}{2},
\]
有\[
	\frac{\tan(\frac{1}{2}\frac{\pi}{2^{n+1}})}{\tan\frac{\pi}{2^{n+1}}}
	= \frac{1}{2} \left(
		1-\tan^2\frac{\pi}{2^{n+2}}
	\right).
\]
于是\begin{align*}
	\lim_{n\to\infty} \frac{u_{n+1}}{u_n}
	&= \lim_{n\to\infty} \frac{n+1}{n} \frac{1}{2} \left(
		1-\tan^2\frac{\pi}{2^{n+2}}
	\right) \\
	&= \frac{1}{2} \cdot \lim_{n\to\infty} \frac{n+1}{n} \cdot \left(
		1 - \lim_{n\to\infty} \tan^2\frac{\pi}{2^{n+2}}
	\right) \\
	&= \frac{1}{2} \cdot 1 \cdot (1 - 0) = \frac{1}{2} < 1.
\end{align*}
所以级数收敛.
\end{solution}
\end{example}

\subsection{比值审敛法的上、下极限形式}
\begin{corollary}[比值审敛法的上、下极限形式]\label{theorem:无穷级数.正项级数的比值审敛法的上下极限形式}
%@see: 《数学分析（第二版 下册）》（陈纪修） P20 定理9.3.4（d'Alembert判别法）
%@see: 《数学分析（第2册）》（周民强） P157 定理9.9
%@see: https://mathworld.wolfram.com/RatioTest.html
\def\orho{\overline{\rho}}
\def\urho{\underline{\rho}}
设\(\sum_{n=1}^\infty u_n\)是正项级数，%正项级数只隐含了\(u_n\geq0\)的条件，不保证\(u_n>0\).
\(u_n > 0\ (n=1,2,\dotsc)\)，%保证\(u_n\)作为分母时，分式有意义！
记\[
	\orho
	\defeq
	\varlimsup_{n\to\infty} \frac{u_{n+1}}{u_n},
	\qquad
	\urho
	\defeq
	\varliminf_{n\to\infty} \frac{u_{n+1}}{u_n}.
\]
\begin{itemize}
	\item 如果\(\orho < 1\)，
	则级数\(\sum_{n=1}^\infty u_n\)收敛.

	\item 如果\(\urho > 1\)，
	则级数\(\sum_{n=1}^\infty u_n\)发散.

	\item 如果\(\orho \geq 1\)或\(\urho \leq 1\)，
	则级数\(\sum_{n=1}^\infty u_n\)可能收敛也可能发散.
\end{itemize}
%TODO proof
\end{corollary}

\begin{proposition}
%@see: 《数学分析（第2册）》（周民强） P162 引理9.1（对数比值型判别法）
设\(\sum_{n=1}^\infty a_n\)是正项级数，记\[
	\rho \defeq \lim_{n\to\infty} n \ln\frac{a_n}{a_{n+1}}.
\]
\begin{itemize}
	\item 若\(\rho>1\)，则\(\sum_{n=1}^\infty a_n\)收敛.
	\item 若\(\rho<1\)，则\(\sum_{n=1}^\infty a_n\)发散.
\end{itemize}
%TODO proof
\end{proposition}

\subsection{根值审敛法}
\begin{theorem}[柯西根值审敛法]\label{theorem:无穷级数.正项级数的根值审敛法}
%@see: 《高等数学（第六版 下册）》 P260 定理5
%@see: 《数学分析（第二版 下册）》（陈纪修） P19 定理9.3.3（Cauchy判别法）
%@see: 《数学分析（第2册）》（周民强） P159 定理9.10
%@see: https://mathworld.wolfram.com/RootTest.html
设\(\sum_{n=1}^\infty u_n\)是正项级数，
记\(\rho \defeq \lim_{n\to\infty} \sqrt[n]{u_n}\).
\begin{itemize}
	\item 当\(\rho<1\)时，级数\(\sum_{n=1}^\infty u_n\)收敛.
	\item 当\(\rho>1\)时，或当\(\rho=+\infty\)时，级数\(\sum_{n=1}^\infty u_n\)发散.
	\item 当\(\rho=1\)时，级数\(\sum_{n=1}^\infty u_n\)可能收敛也可能发散.
\end{itemize}
%TODO proof
\end{theorem}
在\hyperref[theorem:无穷级数.正项级数的根值审敛法]{根值审敛法}中
可以把\(\lim_{n\to\infty}\)替换为\(\varlimsup_{n\to\infty}\).

\begin{example}
判定级数\(\sum_{n=1}^\infty \frac{2+(-1)^n}{2^n}\)的敛散性.
\begin{solution}
记\[
	u_n = \frac{2+(-1)^n}{2^n},
\]
显然有\[
	\lim_{n\to\infty} \sqrt[n]{u_n}
	= \lim_{n\to\infty} \frac{1}{2} \sqrt[n]{2+(-1)^n}
	= \lim_{n\to\infty} \frac{1}{2} \exp{\frac{1}{n} \ln[2+(-1)^n]},
\]
因为\(\ln[2+(-1)^n] \in \{ 0, \ln3 \}\)有界，
故\(\lim_{n\to\infty} \frac{1}{n} \ln[2+(-1)^n] = 0\)，
从而\[
	\lim_{n\to\infty} \sqrt[n]{u_n} = \frac{1}{2} < 1.
\]
根据\hyperref[theorem:无穷级数.正项级数的根值审敛法]{根值审敛法}可知，
级数\(\sum_{n=1}^\infty u_n\)收敛.
\end{solution}
\end{example}

\begin{example}
%@see: 《数学分析（第二版 下册）》（陈纪修） P20 例9.3.5
判定级数\(\sum_{n=1}^\infty \frac{n^3[\sqrt2 + (-1)^n]^n}{3^n}\)的敛散性.
\begin{solution}
由于\[
	\varlimsup_{n\to\infty} \sqrt[n]{
		\frac{n^3[\sqrt2 + (-1)^n]^n}{3^n}
	}
	= \frac{\sqrt2+1}3
	< 1,
\]
由\hyperref[theorem:无穷级数.正项级数的根值审敛法]{根值审敛法}可知，
级数\(\sum_{n=1}^\infty \frac{n^3[\sqrt2 + (-1)^n]^n}{3^n}\)收敛.
\end{solution}
\end{example}

\begin{proposition}
%@see: 《数学分析（第2册）》（周民强） P165 定理9.12
设数列\(\{a_n\}\)满足\(a_n > 0\ (n=1,2,\dotsc)\)，
记\[
	\rho \defeq \lim_{n\to\infty} \sqrt[\ln n]{a_n}.
\]
\begin{itemize}
	\item 若\(\rho < 1/e\)，则\(\sum_{n=1}^\infty a_n\)收敛.
	\item 若\(\rho > 1/e\)，则\(\sum_{n=1}^\infty a_n\)发散.
\end{itemize}
%TODO proof
\end{proposition}

\subsection{比值审敛法与根值审敛法之间的联系}
\begin{theorem}\label{theorem:无穷级数.比值审敛法与根值审敛法之间的联系}
%@see: 《数学分析（第二版 下册）》（陈纪修） P20 引理9.3.1
设\(\{u_n\}\)是正项数列，
则\[
	\varliminf_{n\to\infty} \frac{u_{n+1}}{u_n}
	\leq
	\varliminf_{n\to\infty} \sqrt[n]{u_n}
	\leq
	\varlimsup_{n\to\infty} \sqrt[n]{u_n}
	\leq
	\varlimsup_{n\to\infty} \frac{u_{n+1}}{u_n}.
\]
\end{theorem}
\begin{remark}
\cref{theorem:无穷级数.比值审敛法与根值审敛法之间的联系} 说明：
如果一个正项级数的敛散情况
可以利用\hyperref[theorem:无穷级数.正项级数的比值审敛法]{比值审敛法}判定，
那么它一定也能用\hyperref[theorem:无穷级数.正项级数的根值审敛法]{根值审敛法}判定.
但是，能用\hyperref[theorem:无穷级数.正项级数的根值审敛法]{根值审敛法}判定，
却未必能用\hyperref[theorem:无穷级数.正项级数的比值审敛法]{比值审敛法}判定.
\end{remark}

\begin{example}
%@see: 《数学分析（第二版 下册）》（陈纪修） P21 例9.3.7
考虑级数\[
	\sum_{n=1}^\infty x_n
	= \frac12 + \frac13
	+ \frac1{2^2} + \frac1{3^2}
	+ \frac1{2^3} + \frac1{3^3}
	+ \dotsb,
\]
则\begin{align*}
	\varlimsup_{n\to\infty} \sqrt[n]{x_n}
	&= \lim_{n\to\infty} \sqrt[2n-1]{\frac1{2^n}}
	= \frac1{\sqrt2}, \\
	\varlimsup_{n\to\infty} \frac{x_{n+1}}{x_n}
	&= \lim_{n\to\infty} \frac{3^n}{2^{n+1}}
	= +\infty, \\
	\varliminf_{n\to\infty} \frac{x_{n+1}}{x_n}
	&= \lim_{n\to\infty} \frac{2^n}{3^n}
	= 0.
\end{align*}
可以看出，
由\hyperref[theorem:无穷级数.正项级数的根值审敛法]{根值审敛法}可知
级数\(\sum_{n=1}^\infty x_n\)收敛，
但\hyperref[theorem:无穷级数.正项级数的比值审敛法]{比值审敛法}却失效了.
于是我们说\hyperref[theorem:无穷级数.正项级数的根值审敛法]{根值审敛法}的适用范围
比\hyperref[theorem:无穷级数.正项级数的比值审敛法]{比值审敛法}更广泛.
\end{example}

但是，对于某些具体例子而言，虽然根值审敛法和比值审敛法这两种审敛法都适用，
但是比值审敛法比根值审敛法更方便一些，因此我们需要根据级数具体情况来选择合适的审敛法.

比值审敛法和根值审敛法的本质是比较判别法，
用来比较的基准级数是几何级数\(\sum_{n=1}^\infty q^n\)：
在判断级数收敛时，要求级数的通项受到\(q^n\ (0<q<1)\)的控制；
而在判断级数发散时，则是依据其一般项不趋于\(0\).
由于这两者相去甚远，因此这两种审敛法在许多情况下会失效，
即便是对\(\sum_{n=1}^\infty \frac1{n^p}\)这样简单的级数，
它们也都无能为力.

\subsection{对数审敛法}
\begin{theorem}\label{theorem:无穷级数.正项级数的对数审敛法}
设\(\sum_{n=1}^\infty u_n\)是正项级数，
记\[
	\rho \defeq \frac{\ln(1/u_n)}{\ln n}.
\]
\begin{itemize}
	\item 如果\(\rho>1\)，则级数\(\sum_{n=1}^\infty u_n\)收敛.
	\item 如果\(\rho\leq1\)，则级数\(\sum_{n=1}^\infty u_n\)发散.
\end{itemize}
\begin{proof}
假设极限\(\rho = \frac{\ln(1/u_n)}{\ln n}\)存在且有限，
那么对于任意给定\(\epsilon>0\)，存在正整数\(N\)，当\(n>N\)时，有\[
	\abs{\frac{\ln(1/u_n)}{\ln n} - \rho} < \epsilon,
	\quad\text{或}\quad
	\rho - \epsilon < \frac{\ln(1/u_n)}{\ln n} < \rho + \epsilon.
\]

当\(0<\rho<1\)时，只要\(\epsilon\)满足\(\rho+\epsilon<1\)，
就成立\(u_n > n^{-(\rho+\epsilon)}\).
因为\(\sum_{n=1}^\infty \frac1{n^{\rho+\epsilon}}\)发散，
所以级数\(\sum_{n=1}^\infty u_n\)发散.

当\(\rho>1\)时，只要\(\epsilon\)满足\(\rho-\epsilon>1\)，
就成立\(u_n < n^{-(\rho-\epsilon)}\).
因为\(\sum_{n=1}^\infty \frac1{n^{\rho-\epsilon}}\)收敛，
所以级数\(\sum_{n=1}^\infty u_n\)收敛.
\end{proof}
\end{theorem}

\begin{example}
证明：级数\(\sum_{n=2}^\infty \frac1{\ln^{\ln n} n}\)收敛.
\begin{proof}\let\qed\relax
\begin{proof}[证法一]
易知：存在正整数\(N\)，当\(n \geq N\)时，有\(\ln n \geq 3\)，
从而有\[
	\ln^{\ln n} n
	\geq 3^{\ln n}
	= n^{\ln3},%\cref{equation:函数.真底互换公式}
	\quad\text{即}\quad
	\frac1{\ln^{\ln n} n} \leq \frac1{n^{\ln3}},
\]
而\(\ln3>1\)，
故\(\sum_{n=N}^\infty \frac1{n^{\ln3}}\)收敛，
\(\sum_{n=N}^\infty \frac1{\ln^{\ln n} n}\)收敛，
\(\sum_{n=2}^\infty \frac1{\ln^{\ln n} n}\)收敛.
\end{proof}
\begin{proof}[证法二]
因为\[
	\lim_{n\to\infty} \frac{\ln(\ln^{\ln n} n)}{\ln n}
	= \lim_{n\to\infty} \ln n
	= +\infty,
\]
所以由\cref{theorem:无穷级数.正项级数的对数审敛法}可知，
\(\sum_{n=2}^\infty \frac1{\ln^{\ln n} n}\)收敛.
\end{proof}
\end{proof}
\end{example}

\begin{remark}
设级数\(\sum_{n=1}^\infty u_n\)的一般项是\(u_n = \frac1{n\sqrt[n]{n}}\).
那么\(\lim_{n\to\infty} \frac{\ln(1/u_n)}{\ln n} = 1\)，
因此，我们无法利用\cref{theorem:无穷级数.正项级数的对数审敛法} 判别这个级数的敛散性.
\end{remark}

\subsection{极限审敛法}
将\(p\)级数作为基准级数，将所给正项级数与之作比较，
可得在实用上较方便的极限审敛法和拉贝审敛法.
\begin{theorem}[极限审敛法]\label{theorem:无穷级数.正项级数的极限审敛法}
%@see: 《高等数学（第六版 下册）》 P261 定理6
设\(\sum_{n=1}^\infty u_n\)为正项级数，
记\(\rho \defeq \lim_{n\to\infty} n^p u_n\).
\begin{itemize}
	\item 当\(\rho\in[0,+\infty)\)且\(p>1\)时，
	级数\(\sum_{n=1}^\infty u_n\)收敛.

	\item 当\(\rho\in(0,+\infty]\)且\(p\leq1\)时，
	级数\(\sum_{n=1}^\infty u_n\)发散.
\end{itemize}
\end{theorem}

\begin{example}
%@see: 《高等数学（第六版 下册）》 P261 例7
判定级数\(\sum_{n=1}^\infty \ln(1+\frac{1}{n^2})\)的收敛性.
\begin{solution}
因\(\ln(1+\frac{1}{n^2}) \sim \frac{1}{n^2}\ (n\to\infty)\)，
故\[
	\lim_{n\to\infty} n^2 u_n
	= \lim_{n\to\infty} n^2 \ln(1+\frac{1}{n^2})
	= \lim_{n\to\infty} n^2 \cdot \frac{1}{n^2}
	= 1,
\]
根据\hyperref[theorem:无穷级数.正项级数的极限审敛法]{极限审敛法}可知，所给级数收敛.
\end{solution}
\end{example}

\begin{example}
%@see: 《高等数学（第六版 下册）》 P261 例8
判定级数\(\sum_{n=1}^\infty \sqrt{n+1} \left(1-\cos\frac{\pi}{n}\right)\)的收敛性.
\begin{solution}
因为\(1 - \cos x \sim \frac{1}{2} x^2\ (x\to0)\)，
故\[
	\lim_{n\to\infty} n^{\frac32} \sqrt{n+1} \cdot \left(1-\cos\frac{\pi}{n}\right)
	= \lim_{n\to\infty} n^2 \sqrt{\frac{n+1}{n}} \cdot \frac{1}{2} \left(\frac{\pi}{n}\right)^2
	= \frac{1}{2} \pi^2,
\]
根据\hyperref[theorem:无穷级数.正项级数的极限审敛法]{极限审敛法}可知，所给级数收敛.
\end{solution}
\end{example}

\begin{example}
%@see: https://www.bilibili.com/video/BV1WQegeUEBc
举例说明：
当正项级数\(\sum_{n=1}^\infty a_n\)收敛时，
极限\(\lim_{n\to\infty} n a_n = 0\)不成立.
\begin{solution}
取\[
	\def\arraystretch{1.5}
	a_n = \left\{ \begin{array}{cl}
		\frac1{n^2}, & \sqrt{n}\notin\mathbb{N}^+, \\
		\frac1n, & \sqrt{n}\in\mathbb{N}^+.
	\end{array} \right.
\]
那么\begin{align*}
	\sum_{n=1}^\infty a_n
	&= \frac11 + \frac1{2^2} + \frac1{3^2}
		+ \frac14 + \frac1{5^2} + \frac1{6^2} + \frac1{7^2} + \frac1{8^2}
		+ \dotsb \\
	&= \left(\frac11 + \frac1{2^2} + \frac1{3^2}\right)
		+ \left(\frac14 + \frac1{5^2} + \frac1{6^2} + \frac1{7^2} + \frac1{8^2}\right)
		+ \dotsb \\
	&= \sum_{k=1}^\infty \left[
		\frac1{k^2}
		+ \sum_{k^2+1 \leq p \leq (k+1)^2-1} \frac1{p^2}
	\right].
\end{align*}
因为级数\(\sum_{k=1}^\infty \frac1{k^2}\)收敛，
所以要证\(\sum_{n=1}^\infty a_n\)收敛，
只需证\[
	\sum_{k=1}^\infty \sum_{k^2+1 \leq p \leq (k+1)^2-1} \frac1{p^2}
	\eqno(1)
\]收敛.
因为级数(1)的一般项满足\[
	\sum_{k^2+1 \leq p \leq (k+1)^2-1} \frac1{p^2}
	\leq \left[(k+1)^2-k^2-1\right] \cdot \frac1{(k^2+1)^2}
	= \frac{2k}{(k^2+1)^2},
\]
又因为\[
	\lim_{k\to\infty} k^2 \cdot \frac{2k}{(k^2+1)^2}
	= 0,
\]
由\hyperref[theorem:无穷级数.正项级数的极限审敛法]{极限审敛法}可知，
级数\(\sum_{k=1}^\infty \frac{2k}{(k^2+1)^2}\)收敛，
再利用\hyperref[theorem:无穷级数.正项级数的比较审敛法]{比较审敛法}可知，
级数(1)收敛.
因此，级数\(\sum_{k=1}^\infty \frac1{k^2}\)收敛.

但是，数列\(\{a_n\}\)有两个子列极限：\[
	\varliminf_{n\to\infty} n a_n
	= \lim_{n\to\infty} n \cdot \frac1{n^2}
	= \lim_{n\to\infty} \frac1n
	= 0,
	\qquad
	\varlimsup_{n\to\infty} n a_n
	= \lim_{n\to\infty} n \cdot \frac1n
	= \lim_{n\to\infty} 1
	= 1.
\]
而\hyperref[theorem:子列极限.具有不同子列极限的数列必定发散]{具有不同子列极限的数列必定发散}，
于是得到\(\lim_{n\to\infty} n a_n\)不存在.
\end{solution}
\end{example}

\subsection{拉贝审敛法}
对于某些正项级数\(\sum_{n=1}^\infty u_n\)，
成立\(\lim_{n\to\infty} \frac{x_{n+1}}{x_n} = 1\)，
这时\hyperref[theorem:无穷级数.正项级数的根值审敛法]{根值审敛法}%
和\hyperref[theorem:无穷级数.正项级数的比值审敛法]{比值审敛法}都失效了，
下面给出一种针对这类情况的判别法.

\begin{lemma}\label{theorem:常数项级数的审敛法.拉贝审敛法的引理}
%@see: 《数学分析简明教程（第二版 下册）》（邓东皋、尹小玲） P17 引理
对于任意\(r>p>1\)，存在正整数\(N\)，当\(n>N\)时，有\[
	1+\frac{r}{n} > \left(1+\frac1n\right)^p.
\]
\begin{proof}
因为\[
	\lim_{x\to0} \frac{(1+x)^p-1}x = p,
\]
所以\[
	\lim_{n\to\infty} \frac{\left(1+1/n\right)^p-1}{1/n} = p.
\]
又因为\(p<r\)，
由\hyperref[theorem:极限.收敛数列的保序性1]{收敛数列的保序性} 可知，
存在正整数\(N\)，当\(n>N\)时，有\[
	\frac{\left(1+1/n\right)^p-1}{1/n} < r
	\quad\text{或}\quad
	\left(1+\frac1n\right)^p-1
	< \frac{r}{n}.
	\qedhere
\]
\end{proof}
\end{lemma}

\begin{theorem}[拉贝审敛法]
%@see: 《数学分析（第二版 下册）》（陈纪修） P22 定理9.3.5（Raabe判别法）
%@see: 《数学分析简明教程（第二版 下册）》（邓东皋、尹小玲） P17 定理10.11（拉阿比(Raabe)判别法）
%@see: 《数学分析（第2册）》（周民强） P164 定理9.11
%@see: 《数学分析：原理与方法》（胡适耕） P293 15.1.10推论 (i)
%@see: https://mathworld.wolfram.com/RaabesTest.html
设\(u_n > 0\)，记\[
	\rho \defeq \lim_{n\to\infty} n \left(\frac{u_n}{u_{n+1}} - 1\right).
\]
\begin{itemize}
	\item 当\(\rho>1\)时，级数\(\sum_{n=1}^\infty u_n\)收敛.
	\item 当\(\rho<1\)时，级数\(\sum_{n=1}^\infty u_n\)发散.
	\item 当\(\rho=1\)时，级数\(\sum_{n=1}^\infty u_n\)可能收敛也可能发散.
\end{itemize}
\begin{proof}
假设\(\rho>1\).
记\(r \defeq \rho-\epsilon_0\).
那么存在\(\epsilon_0>0\)，
使得\(\rho>r=\rho-\epsilon_0>1\).
显然存在正整数\(N_1\)，
使得当\(n>N_1\)时，
有\[
	n \left(\frac{u_n}{u_{n+1}}-1\right) > r,
	\quad\text{即}\quad
	\frac{u_n}{u_{n+1}} \geq 1+\frac{r}{n}.
\]
取\(p\in(1,r)\)，由\cref{theorem:常数项级数的审敛法.拉贝审敛法的引理} 可知，
存在正整数\(N_2\)，当\(n>N_2\)时，有\[
	1+\frac{r}{n} \geq \left(1+\frac1n\right)^p.
\]
故当\(n>N=\max\{N_1,N_2\}\)时，有\[
	\frac{u_n}{u_{n+1}}
	\geq 1+\frac{r}{n}
	\geq \left(1+\frac1n\right)^p
	= \frac{1/n^p}{1/(n+1)^p}.
\]
根据\cref{theorem:无穷级数.比较审敛法的比值形式}，
由于级数\(\sum_{n=1}^\infty \frac1{n^p}\ (p>1)\)收敛，
所以级数\(\sum_{n=1}^\infty u_n\)也收敛.

假设\(\rho<1\).
显然存在\(\epsilon_1>0\)，
使得\(\rho+\epsilon_1<1\).
这时，存在正整数\(N\)，当\(n>N\)时，有\[
	n \left(\frac{u_n}{u_{n+1}}-1\right)
	< \rho+\epsilon_1
	< 1,
\]
从而有\[
	\frac{u_n}{u_{n+1}}
	\leq 1+\frac1n
	= \frac{1/n}{1/(n+1)}.
\]
根据\cref{theorem:无穷级数.比较审敛法的比值形式}，
由于级数\(\sum_{n=1}^\infty \frac1n\)发散，
所以级数\(\sum_{n=1}^\infty u_n\)也发散.
\end{proof}
\end{theorem}

\subsection{积分审敛法}
\begin{theorem}[积分审敛法]\label{theorem:无穷级数.积分审敛法}
%@see: 《数学分析（第二版 下册）》（陈纪修） P24 定理9.3.6（积分判别法）
%@see: 《数学分析教程 （第3版 下册）》（史济怀） P166 定理14.2.4（Cauchy积分判别法）
%@see: 《数学分析（第2册）》（周民强） P166 定理9.13
%@see: 《数学分析简明教程（第二版 下册）》（邓东皋、尹小玲） P19 定理10.12（柯西积分判别法）
%@see: https://mathworld.wolfram.com/IntegralTest.html
设非负函数\(f\colon[a,+\infty)\to\mathbb{R}\)在任意有限闭区间上黎曼可积，
取一个单调增加趋于\(+\infty\)的数列\(\{a_n\}\)，
使得\[
	a_1 = a, \qquad
	u_n = \int_{a_n}^{a_{n+1}} f(x) \dd{x}.
\]
反常积分\(\int_a^{+\infty} f(x) \dd{x}\)
与正项级数\(\sum_{n=1}^\infty u_n\)同时收敛或同时发散于\(+\infty\)，
且\[
	\int_a^{+\infty} f(x) \dd{x}
	= \sum_{n=1}^\infty u_n
	= \sum_{n=1}^\infty \int_{a_n}^{a_{n+1}} f(x) \dd{x}.
\]

特别地，若\(f\)单调减少，取\(a_n = n\)，
则反常积分\(\int_a^{+\infty} f(x) \dd{x}\)
与正项级数\(\sum_{n=N}^\infty f(n)\)（其中\(N=\floor{a}+1\)）
同时收敛或同时发散.
\begin{proof}
设正项级数\(\sum_{n=1}^\infty u_n\)的部分和数列为\(\{S_n\}\)，
则对任意实数\(A>a\)，
存在正整数\(n\)，
成立\(a_n \leq A < a_{n+1}\)，
于是\[
	S_{n-1} \leq \int_a^A f(x) \dd{x} \leq S_n.
\]

当\(\{S_n\}\)有界，即\(\sum_{n=1}^\infty u_n\)收敛时，
有\(\lim_{A\to+\infty} \int_a^A f(x) \dd{x}\)收敛，
且根据夹逼准则，它们收敛于相同的极限.
当\(\{S_n\}\)无界，即\(\sum_{n=1}^\infty u_n\)发散于\(+\infty\)时，
则同样有\(\lim_{A\to+\infty} \int_a^A f(x) \dd{x} = +\infty\).
由此可得\[
	\int_a^{+\infty} f(x) \dd{x}
	= \sum_{n=1}^\infty u_n
	= \sum_{n=1}^\infty \int_{a_n}^{a_{n+1}} f(x) \dd{x}.
\]

特别地，若\(f\)单调减少，取\(a_n = n\)，
则当\(n \geq N = \floor{a}+1\)时，有\[
	f(n+1) \leq u_n = \int_n^{n+1} f(x) \dd{x} \leq f(n),
\]
由比较审敛法可知\(\sum_{n=N}^\infty f(n)\)与\(\sum_{n=N}^\infty u_n\)同时收敛或同时发散，
从而与\(\int_a^{+\infty} f(x) \dd{x}\)同时收敛或同时发散.
\end{proof}
\end{theorem}

\begin{example}\label{example:无穷级数.对数负次幂级数}
%@see: 《数学分析（第二版 下册）》（陈纪修） P25 例9.3.9
%@see: 《数学分析简明教程（第二版 下册）》（邓东皋、尹小玲） P21 例8
证明：正项级数\(\sum_{n=2}^\infty \frac1{n \ln^q n}\)在\(q>1\)时收敛，在\(q\leq1\)时发散.
\begin{proof}
取\(f(x) = \frac1{x \ln^q x}\)，
则在\([2,+\infty)\)上，
函数\(f\)单调减少且恒为正，
另外\[
	\sum_{n=2}^\infty f(n)
	= \sum_{n=2}^\infty \frac1{n \ln^q n}.
\]
由\[
	\int_2^A f(x) \dd{x}
	= \left\{ \begin{array}{ll}
		\frac1{1-q} \ln^{1-q} A - \frac1{1-q} \ln^{1-q}2, & q\neq1, \\
		\ln\ln A - \ln\ln 2, & q=1,
	\end{array} \right.
\]
令\(A\to+\infty\)，可知
积分\(\int_2^{+\infty} f(x) \dd{x}\)在\(q>1\)时收敛，在\(q\leq1\)时发散，
由此得到\(\sum_{n=2}^\infty \frac1{n \ln^q n}\)在\(q>1\)时收敛，在\(q\leq1\)时发散.
\end{proof}
\end{example}

\begin{remark}
在应用\cref{theorem:无穷级数.积分审敛法} 时，
必须注意条件\(f(x)\geq0\).
如果缺少这一个条件，
虽然从反常积分\(\int_a^{+\infty} f(x) \dd{x}\)的收敛性，
仍然可以得到级数\(\sum_{n=1}^\infty u_n\)的收敛性.
但是反过来，结论就不一定成立.
例如，取\(f(x) = \sin x\)，
显然\(\int_0^{+\infty} f(x) \dd{x}\)是发散的，
但是若取\(a_n = 2n\pi\)，
则\(u_n = \int_{a_n}^{a_{n+1}} f(x) \dd{x} = 0\)，
也就是说级数\(\sum_{n=1}^\infty u_n\)居然是收敛的.
\end{remark}

\begin{example}
证明：级数\(\sum_{n=1}^\infty \frac1{n \ln(n+1)}\)发散.
\begin{proof}
%@credit: {6f21d9e6-edca-4b6f-9dff-364f3d62dcce},{4dc9721f-7c76-4700-adc0-75d458e212ba}
由\cref{example:无穷级数.对数负次幂级数} 可知，
级数\(\sum_{n=2}^\infty \frac1{n \ln n}\)发散.
又因为\[
	\frac1{\ln n} \sim \frac1{\ln(n+1)}
	\quad(n\to\infty),
\]
所以\(\sum_{n=1}^\infty \frac1{n \ln(n+1)}\)发散.
\end{proof}
\end{example}

\begin{example}
%@see: 《数学分析：原理与方法》（胡适耕） P291
证明：级数\(\sum_{n=3}^\infty \frac1{n \ln^p n (\ln\ln n)^q}\)
在\(p>1\)或\(p=1<q\)时收敛.
%TODO proof
\end{example}

\begin{example}
%@see: 《2019年全国硕士研究生入学统一考试（数学一）》一选择题/第3题/选项(A)
设\(\{u_n\}\)是单调增加的有界数列.
举例说明：级数\(\sum_{n=1}^\infty \frac{u_n}{n}\)发散.
\begin{solution}
取\[
	u_n = -\frac1{\ln(n+1)}
	\quad(n=1,2,\dotsc).
\]
显然\(u_n<0\)
且\begin{align*}
	u_{n+1} - u_n
	&= \frac1{\ln(n+1)} - \frac1{\ln(n+2)}
	= \frac{\ln(n+2)-\ln(n+1)}{\ln(n+1) \ln(n+2)} \\
	&= \frac1{\ln(n+1) \ln(n+2)} \ln\left(1+\frac1{n+1}\right)
	> 0,
\end{align*}
即\(u_{n+1} > u_n\).
这就说明\(\{u_n\}\)是单调增加的有界数列.
又因为\[
	\frac{u_n}{n}
	= -\frac1{n \ln(n+1)},
\]
所以级数\(\sum_{n=1}^\infty \frac{u_n}{n}\)发散.
\end{solution}
\end{example}

\begin{example}
%@see: 《2019年全国硕士研究生入学统一考试（数学一）》一选择题/第3题/选项(B)
设\(\{u_n\}\)是单调增加的有界数列.
举例说明：级数\(\sum_{n=1}^\infty \frac{(-1)^n}{u_n}\)发散.
\begin{solution}
取\[
	u_n = -\frac1n
	\quad(n=1,2,\dotsc),
\]
易见\(u_1 \leq u_n < u_{n+1} < 0\ (n=1,2,\dotsc)\)，
\(\{u_n\}\)是单调增加的有界数列，
而级数\[
	\sum_{n=1}^\infty \frac{(-1)^n}{u_n}
	= \sum_{n=1}^\infty (-1)^{n+1} n
\]发散.
\end{solution}
\end{example}

\subsection{其他审敛法}
\begin{theorem}
%@see: 《数学分析：原理与方法》（胡适耕） P292 15.1.9定理
设\(a_n>0\)，且\[
	\frac{a_{n+1}}{a_n}
	= r - \frac{p}{n} - \frac{q}{n \ln n} + o\left(\frac1{n \ln n}\right).
\]
\begin{itemize}
	\item 若\(r<1\)，或\(r=1<p\)，或\(r=p=1<q\)，则级数\(\sum a_n\)收敛.
	\item 若\(r>1\)，或\(r=1>p\)，或\(r=p=1>q\)，则级数\(\sum a_n\)发散.
\end{itemize}
%TODO proof
\end{theorem}

\begin{corollary}[贝特朗审敛法]
%@see: 《数学分析：原理与方法》（胡适耕） P293 15.1.10推论 (ii)
%@see: https://mathworld.wolfram.com/BertrandsTest.html
设\(a_n>0\)，记\[
	\rho
	\defeq
	\lim_{n\to\infty} \ln n \left[
		n \left( \frac{a_n}{a_{n+1}} - 1 \right) - 1
	\right].
\]
\begin{itemize}
	\item 当\(\rho>1\)时，级数\(\sum a_n\)收敛.
	\item 当\(\rho<1\)时，级数\(\sum a_n\)发散.
\end{itemize}
%TODO proof
\end{corollary}

% \begin{corollary}[高斯审敛法]
% %@see: 《数学分析：原理与方法》（胡适耕） P293 15.1.10推论 (iii)
% %@see: https://mathworld.wolfram.com/GausssTest.html
% %TODO proof
% \end{corollary}

%@see: https://mathworld.wolfram.com/KummersTest.html

%@see: https://mathworld.wolfram.com/ErmakoffsTest.html
