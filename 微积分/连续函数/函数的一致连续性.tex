\section{函数的一致连续性}
\subsection{一致连续性的概念}
在\cref{section:连续函数.函数的连续性与间断点}中，
我们已经指出，函数\(f\)在某个区间\(X\)上连续，
是指它在区间\(X\)上的每一点连续（对区间端点是指左连续与右连续）.
我们只要观察函数在一点的连续性的定义\begin{equation*}
	(\forall\epsilon>0)
	(\exists\delta>0)
	(\forall x)
	[
		\abs{x - x_0} < \delta
		\implies
		\abs{f(x) - f(x_0)} < \epsilon
	],
\end{equation*}
就可以发现，这里的\(\delta\)与两个因素有关：
它既依赖于\(\epsilon\)，也依赖于\(x_0\).
也就是说，\(\delta\)是由\(x_0\)和\(\epsilon\)两个变量决定的函数\(\delta(x_0,\epsilon)\).

这样就产生一个问题：
对于任意给定的\(\epsilon>0\)，
能否找到一个只与\(\epsilon\)有关，
而对区间\(X\)上一切点都适用的\(\delta=\delta(\epsilon)\).

这个问题的答案是不一定的.
它不仅与所讨论的函数\(f\)有关，也与所讨论的区间\(X\)有关.

\begin{definition}\label{definition:极限.函数的一致连续性}
%@see: 《数学分析（第二版 上册）》（陈纪修） P113 定理3.4.1
%@see: 《高等数学（第六版 上册）》 P73 定义
设函数\(f\)在区间\(I\)上有定义.
如果对于任意给定的正数\(\epsilon\)，
总存在着正数\(\delta\)，
使得对于区间\(I\)上的任意两点\(x_1\)、\(x_2\)，
当\(\abs{x_1 - x_2} < \delta\)时，就有\begin{equation*}
	\abs{f(x_1) - f(x_2)} < \epsilon,
\end{equation*}
那么称“函数\(f\)在区间\(I\)上是\DefineConcept{一致连续的}（uniformly continuous）”.
\end{definition}
函数的一致连续性表示：
不论在区间\(I\)的任何部分，
只要自变量的两个数值接近到一定程度，
就可使对应的两个函数值达到所指定的接近程度.

需要注意的是，讲述函数的一致连续性时，一定要讲明它是在哪个区间上一致连续.
一个函数虽说在区间\(I_1\)上不是一致连续的，但可以在不同的区间\(I_2\)上一致连续.

\begin{example}
%@see: 《数学分析（第二版 上册）》（陈纪修） P113 例3.4.3
证明：函数\(f(x)=\sin x\)在区间\((-\infty,+\infty)\)上是一致连续的.
\begin{proof}
因为\begin{align*}
	\abs{f(x_1)-f(x_2)}
	&= \abs{\sin x_1 - \sin x_2}
	= 2\abs{\cos\frac{x_1+x_2}{2} \sin\frac{x_1-x_2}{2}} \\
	&\leq 2\abs{\sin\frac{x_1-x_2}{2}},
\end{align*}
而当\(\abs{x_1-x_2} \leq \pi\)时有\begin{equation*}
	\abs{\sin\frac{x_1-x_2}{2}} \leq \abs{\frac{x_1-x_2}{2}}
\end{equation*}成立，
所以\(\forall\epsilon>0\)（设\(\epsilon<\pi\)），
总可取\(\delta=\epsilon\)，
对于\(\forall x_1,x_2\in\mathbb{R}\)，
当\(0<\abs{x_1-x_2}<\delta=\epsilon\)时，
能使不等式\begin{equation*}
	\abs{f(x_1)-f(x_2)} \leq \abs{x_1-x_2} < \epsilon
\end{equation*}成立，
也就是说\(f(x)\)是一致连续的.
\end{proof}
\end{example}

\begin{example}\label{example:极限.无界函数可以是一致连续的}
证明：函数\(f(x)=x\)在区间\((-\infty,+\infty)\)上是一致连续的.
\begin{proof}
因为\(\abs{f(x_1)-f(x_2)}=\abs{x_1-x_2}\)，
所以\(\forall\epsilon>0\)，
总可取\(\delta=\epsilon\)，
对于\(\forall x_1,x_2\in\mathbb{R}\)，
当\(0<\abs{x_1-x_2}<\delta=\epsilon\)时，
能使不等式\begin{equation*}
	\abs{f(x_1)-f(x_2)} = \abs{x_1-x_2} < \epsilon
\end{equation*}成立，
也就是说\(f\)是一致连续的.
\end{proof}
\end{example}
\begin{remark}
\cref{example:极限.无界函数可以是一致连续的} 说明：
无界函数可以是一致连续的.
\end{remark}

\begin{example}\label{example:极限.在半开区间连续的函数不一定在该区间上一致连续}
%@see: 《高等数学（第六版 上册）》 P73 例2
%@see: 《数学分析（第二版 上册）》（陈纪修） P114 例3.4.4
试证：函数\(f(x) = \frac{1}{x}\)在区间\((0,1]\)上是连续的，但不是一致连续的.
\begin{proof}
因为函数\(f(x) = 1/x\)是初等函数，
它在区间\((0,1]\)上有定义，
所以在\((0,1]\)上是连续的.
假定\(f(x) = 1/x\)是\((0,1]\)上一致连续，
那么\(\forall \epsilon \in (0,1)\)，
\(\exists \delta > 0\)，
使得对于\(\forall x_1,x_2 \in (0,1]\)，
当\(\abs{x_1 - x_2} < \delta\)时，
就有\(\abs{f(x_1) - f(x_2)} < \epsilon\).

现在取原点附近的两点\begin{equation*}
	x_1 = \frac{1}{n}, \quad
	x_2 = \frac{1}{n+1},
\end{equation*}
其中\(n\in\mathbb{N}^+\)，
显然\(x_1,x_2 \in (0,1]\)上.
因\begin{equation*}
	\abs{x_1 - x_2} = \abs{\frac{1}{n} - \frac{1}{n+1}}
	= \frac{1}{n(n+1)},
\end{equation*}
故只要\(n\)取得足够大，
总能使\(\abs{x_1 - x_2} < \delta\).
但这时有\begin{equation*}
	\abs{f(x_1) - f(x_2)}
	= \abs{\frac{1}{1/n} - \frac{1}{1/(n+1)}}
	= \abs{n - (n+1)}
	= 1 > \epsilon,
\end{equation*}
不符合一致连续的定义，
所以\(f(x) = \frac{1}{x}\)在\((0,1]\)上不是一致连续的.
\end{proof}
\end{example}
\begin{remark}
\cref{example:极限.在半开区间连续的函数不一定在该区间上一致连续} 说明：
在半开区间连续的函数不一定在该区间上一致连续.
\end{remark}

\begin{example}\label{example:极限.在开区间上有界且连续的函数不一定在该区间上一致连续}
证明：函数\(\sin\frac{1}{x}\)在\((0,1)\)上是不一致连续的.
\begin{proof}
取\begin{equation*}
	s_n = \frac{1}{2n\pi+\pi/2},
	\qquad
	t_n = \frac{1}{2n\pi},
\end{equation*}
故\begin{equation*}
	s_n,t_n\in(0,1),
	\quad n\in\mathbb{N}^*.
\end{equation*}我们有\begin{equation*}
	0 < t_n - s_n = \frac{\pi/2}{2n\pi(2n\pi+\pi/2)} < \frac{1}{2n\pi} < \frac{1}{n},
\end{equation*}
但是\begin{equation*}
	\abs{\sin\frac{1}{t_n} - \sin\frac{1}{s_n}}
	= \abs{\sin(2n\pi) - \sin(2n\pi+\frac{\pi}{2})}
	= 1.
\end{equation*}
这就证明了函数\(\sin\frac{1}{x}\)在\((0,1)\)上不是一致连续的.
\end{proof}
\end{example}
\begin{remark}
\cref{example:极限.在开区间上有界且连续的函数不一定在该区间上一致连续} 说明：
在开区间上有界且连续的函数不一定在该区间上一致连续.
\end{remark}

\begin{example}\label{example:极限.两个一致连续函数的乘积不一定一致连续}
证明：函数\(h(x) = x \sin x\)在\((-\infty,+\infty)\)上不是一致连续的.
\end{example}
\begin{remark}
\cref{example:极限.两个一致连续函数的乘积不一定一致连续} 说明：
两个一致连续函数的乘积不一定一致连续.
\end{remark}

\subsection{一致连续性的判别法}
\begin{theorem}
%@see: 《数学分析（第二版 上册）》（陈纪修） P114 定理3.4.5
设函数\(f\)在区间\(X\)上有定义，
则\(f\)在\(X\)上一致连续的充分必要条件是：
对任何点列\(\{a_n\}\ (a_n \in X)\)和\(\{b_n\}\ (b_n \in X)\)，
只要满足\(\lim_{n\to\infty} (a_n-b_n) = 0\)，
就成立\(\lim_{n\to\infty} (f(a_n)-f(b_n)) = 0\).
\end{theorem}

\begin{example}
%@see: 《数学分析（第二版 上册）》（陈纪修） P115 例3.4.5
证明：函数\(f(x) = x^2\)在\([0,+\infty)\)上不是一致连续的，
但是在\([0,A]\)上一致连续（\(A\)是任意有限正数）.
\begin{proof}
取\(a_n = \sqrt{n+1},
b_n = \sqrt{n}
\ (n=1,2,\dotsc)\)，
于是\begin{equation*}
	\lim_{n\to\infty} (a_n-b_n)
	= \lim_{n\to\infty} (\sqrt{n+1}-\sqrt{n})
	= \lim_{n\to\infty} \frac1{\sqrt{n+1}+\sqrt{n}}
	= 0,
\end{equation*}
但是\(\lim_{n\to\infty} (f(a_n)-f(b_n)) = 1\)，
所以\(f\)在\([0,+\infty)\)上不是一致连续的.

当区间限制在\([0,A]\)时，
有\begin{equation*}
	\abs{x_1^2-x_2^2}
	= \abs{(x_1+x_2)(x_1-x_2)}
	\leq 2A \abs{x_1-x_2}.
\end{equation*}
对于任意给定\(\epsilon>0\)，
可以取\(\delta=\frac\epsilon{2A}\)，
对任意\(x_1,x_2\in[0,A]\)，
只要\(\abs{x_1-x_2}<\delta\)，
就成立\(\abs{x_1^2-x_2^2}<\epsilon\)，
即\(f\)在\([0,A]\)上一致连续.
\end{proof}
\end{example}

\subsection{一致连续函数族}
\begin{definition}\label{definition:函数族.一致连续函数族}
定义：区间\(I\)上一致连续函数族\begin{equation*}
	C_U(I)
	\defeq
	\Set{
		f\in\mathbb{R}^I
		\given
		\text{\(f\)在区间\(I\)上是一致连续的}
	}.
\end{equation*}
\end{definition}

已知函数\(f\colon I\to\mathbb{R}\).
上述对函数一致连续性的定义可以简化为：\begin{equation*}
	f \in C_U(I)
	\iff
	(\forall\epsilon>0)
	(\exists\delta>0)
	(\forall x_1,x_2 \in I)
	[
		\abs{x_1 - x_2} < \delta
		\implies
		\abs{f(x_1) - f(x_2)} < \epsilon
	];
\end{equation*}
相反地，有\begin{equation*}
	f \notin C_U(I)
	\iff
	(\exists\epsilon_0>0)
	(\forall\delta>0)
	(\exists x_1,x_2 \in I)
	[
		\abs{x_1-x_2}<\delta
		\land
		\abs{f(x_1)-f(x_2)}\geq\epsilon_0
	].
\end{equation*}

\begin{theorem}\label{theorem:极限.闭区间上连续函数的性质.一致连续函数一定连续}
如果函数\(f\)在区间\(I\)上一致连续，那么\(f\)在区间\(I\)上连续.
\begin{proof}
因为函数\(f\)在区间\(I\)上一致连续，
只要任意取定一点\(x_0 \in I\)，
就有\begin{equation*}
	(\forall \epsilon > 0)
	(\exists \delta > 0)
	(\forall x,x_0 \in I)
	[
		\abs{x-x_0} < \delta
		\implies
		\abs{f(x)-f(x_0)} < \epsilon
	],
\end{equation*}
这就是说，函数\(f\)在区间\(I\)内任意一点\(x_0\)连续，
因此\(f\)在区间\(I\)上连续.
\end{proof}
\end{theorem}

\begin{theorem}[一致连续函数的四则运算法则]\label{theorem:极限.闭区间上连续函数的性质.一致连续函数的四则运算法则}
设函数\(f,g \in C_U(I)\)，则
\begin{enumerate}
	\item 两个一致连续函数的线性组合也是一致连续的，
	即\begin{equation*}
		(\forall\alpha,\beta\in\mathbb{R})
		[\alpha f + \beta g \in C_U(I)].
	\end{equation*}

	\item 如果\(f,g\)在\(I\)上有界，
	则\(f \cdot g \in C_U(I)\).

	\item 如果\(f\)在\(I\)上有界，
	且\((\exists\epsilon_0)
	[x \in I \implies g \geq \epsilon_0]\)，
	则\begin{equation*}
		\frac{f}{g} \in C_U(I).
	\end{equation*}
\end{enumerate}
\end{theorem}

\begin{theorem}[一致连续性定理]\label{theorem:极限.一致连续性定理}
如果函数\(f\)在闭区间\([a,b]\)上连续，
那么它在该区间上一致连续，
即\begin{equation*}
	f \in C[a,b]
	\implies
	f \in C_U[a,b].
\end{equation*}
\begin{proof}
用反证法.
假设当\(f \in C[a,b]\)时\(f \notin C_U[a,b]\)，那么\begin{equation*}
	(\exists\delta_0>0)
	(\exists\{x_n\},\{y_n\}\subseteq[a,b])
	[
		x_n-y_n\to0
		\land
		\abs{f(x_n)-f(y_n)}\geq\epsilon_0
	].
\end{equation*}

由于\(\{y_n\}\)有界，可以找到收敛子列\(\{y_{n_k}\}\)满足\begin{equation*}
	y_{n_k} \to y_0\in[a,b].
\end{equation*}

取\(x_{n_k} = y_{n_k} + (x_{n_k} - y_{n_k})
\to y_0 + 0 = y_0\)，
得到\begin{equation*}
	0 < \epsilon_0 \leq \abs{f(x_{n_k})-f(y_{n_k})}
	\to \abs{f(y_0)-f(y_0)} = 0.
\end{equation*}矛盾，
说明函数\(f\)在\([a,b]\)上定是一致连续的.
\end{proof}
\end{theorem}
我们也把\hyperref[theorem:极限.一致连续性定理]{一致连续性定理}称为\DefineConcept{康托--海涅定理}.

\begin{example}
设函数\(f\)对于\(\forall x,y \in [a,b]\)，
恒有\(\abs{f(x) - f(y)} \leq L \abs{x - y}\)，
其中常数\(L > 0\)，且\(f(a) \cdot f(b) < 0\).
证明：至少有一点\(\xi \in (a,b)\)，使得\(f(\xi) = 0\).
\begin{proof}
因为\(\forall x,y \in [a,b] \implies \abs{f(x) - f(y)} \leq L \abs{x - y}\)，
对于\(\forall \epsilon > 0\)，
为了使当\(\abs{x - y} < \delta\)时不等式\begin{equation*}
\abs{f(x) - f(y)} \leq L \abs{x - y} < \epsilon
\end{equation*}成立，
只要\(L \delta = \epsilon\)或\(\delta = \epsilon / L\)即可.
这说明\(f\)在区间\([a,b]\)上一致连续.
再由零点定理可知命题成立.
\end{proof}
\end{example}

\begin{example}
试证：若\(f\)在\([a,b]\)上连续，
\(a < x_1 < x_2 < \dotsb < x_n < b \ (n \geq 3)\)，
则在\((x_1,x_n)\)内至少有一点\(\xi\)，使\begin{equation*}
f(\xi) = \frac{1}{n} \bigl[
	f(x_1) + f(x_2) + \dotsb + f(x_n)
\bigr].
\end{equation*}
\begin{proof}
根据有界性与最大值最小值定理，因为\(f\)在\([a,b]\)上连续，所以\begin{equation*}
\forall x \in [a,b] :
	\alpha \leq f(x) \leq \beta,
\end{equation*}其中\(\alpha = \min f(x)\)，\(\beta = \max f(x)\)；那么\begin{equation*}
n \alpha \leq f(x_1) + f(x_2) + \dotsb + f(x_n) \leq n \beta,
\end{equation*}\begin{equation*}
\alpha \leq \frac{1}{n} \bigl[f(x_1) + f(x_2) + \dotsb + f(x_n)\bigr] \leq \beta.
\end{equation*}根据介值定理，在\([a,b]\)上必存在一点\(\xi\)使得\begin{equation*}
f(\xi) = \frac{1}{n} \bigl[ f(x_1) + f(x_2) + \dotsb + f(x_n) \bigr]
\end{equation*}成立.
\end{proof}
\end{example}

\begin{theorem}\label{theorem:极限.闭区间上连续函数的性质.开区间上的连续函数一致连续的充分必要条件1}
设\(f \in C(a,b)\)，
则\(f \in C_U(a,b)\)的充分必要条件是：
极限\(f(a^+)\)和\(f(b^-)\)都存在.
\end{theorem}

\begin{theorem}\label{theorem:极限.闭区间上连续函数的性质.开区间上的连续函数一致连续的充分必要条件2}
设\(f \in C(-\infty,+\infty)\)，
则\(f \in C_U(-\infty,+\infty)\)的充分必要条件是：
极限\(f(-\infty)\)和\(f(+\infty)\)都存在.
\end{theorem}

\begin{definition}
对于任意一个函数\(f\colon X\to\mathbb{R}\)，
集合\(E \subseteq X\)，
我们把\begin{equation*}
	\sup_{\substack{
		\abs{x_1-x_2}<\delta \\
		x_1,x_2 \in E
	}}\abs{f(x_1)-f(x_2)},
\end{equation*}
称为“函数\(f\)的\DefineConcept{连续模}”，
记为\(\amp(f;E;\delta)\).
\end{definition}

我们可以用连续模来度量一个函数的一致连续性.
