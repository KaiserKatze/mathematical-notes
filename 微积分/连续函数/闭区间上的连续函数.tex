\section{闭区间上的连续函数}
在\cref{section:连续函数.函数的连续性与间断点}中已说明了函数在区间上连续的概念，
在闭区间上连续的函数有几个重要的性质，下面予以叙述.

\subsection{有界性与最大值最小值定理}
\begin{definition}
函数\(f\)在区间\(I\)上有定义.

如果有\(x_0 \in I\)，使得对于任一\(x \in I\)都有\begin{equation*}
	f(x) \leq f(x_0),
\end{equation*}
则称“\(f(x_0)\)是函数\(f\)在区间\(I\)上的\DefineConcept{最大值}（global maximum）”，
记作\(\max_{x \in I} f(x) = f(x_0)\).

如果有\(x_0 \in I\)，使得对于任一\(x \in I\)都有\begin{equation*}
	f(x) \geq f(x_0),
\end{equation*}
则称“\(f(x_0)\)是函数\(f\)在区间\(I\)上的\DefineConcept{最小值}（global minimum）”，
记作\(\min_{x \in I} f(x) = f(x_0)\).
\end{definition}
函数的最大值、最小值，统称为函数的\DefineConcept{最值}（global extremum）.
%@see: https://mathworld.wolfram.com/Extremum.html

\begin{theorem}[有界性与最大值最小值定理]\label{theorem:极限.最值定理}
%@see: 《高等数学（第六版 上册）》 P71 定理1
%@see: 《数学分析（第二版 上册）》（陈纪修） P109 定理3.4.1
%@see: 《数学分析（第二版 上册）》（陈纪修） P110 定理3.4.2
在闭区间上连续的函数在该区间上有界且一定能取得它的最大值和最小值.
\begin{proof}
用反证法.
假设连续函数\(f\)在闭区间\([a,b]\)上无界，
那么根据\hyperref[definition:函数.函数的有界性]{有界函数的定义}可知\begin{equation*}
	(\forall M>0)
	(\exists x_n\in[a,b])
	[\abs{f(x_n)} > M],
\end{equation*}
换言之，函数列\(\{f(x_n)\}\)满足\begin{equation*}
	\lim_{n\to\infty} f(x_n) = \infty;
\end{equation*}
但是数列\(\{x_n\}\)有界（即\(a \leq x_n \leq b\)），
因此在闭区间\([a,b]\)内存在收敛子列\(\{x_{n_k}\}\)，
不妨设\begin{equation*}
	\lim_{k\to\infty} x_{n_k} = c \in [a,b];
\end{equation*}
然而根据函数\(f\)的连续性可知，\begin{equation*}
	f(c) = \lim_{k\to\infty} f(x_{n_k}),
\end{equation*}
这就和\(f(x_n)\to\infty\ (n\to\infty)\)矛盾，因此函数\(f\)在\([a,b]\)上有界.
\end{proof}
\end{theorem}
我们也把\hyperref[theorem:极限.最值定理]{有界性与最大值最小值定理}称为%
\DefineConcept{魏尔斯特拉斯最值定理}.

注意：如果函数在开区间内连续，或函数在闭区间上有间断点，
那么函数在该区间上不一定有界，也不一定有最大值或最小值.

如果函数在开区间内连续，
或者函数在闭区间上有间断点，
那么这个函数在该区间上不一定有解，
也不一定有最大值或最小值.
例如，函数\(y=\tan x\)在开区间\(\left(-\frac{\pi}{2},\frac{\pi}{2}\right)\)内是连续的，
但它在\(\left(-\frac{\pi}{2},\frac{\pi}{2}\right)\)内是无界的，
且既无最大值又无最小值；
又如，函数\begin{equation*}
	y=\left\{ \begin{array}{ll}
		1-x, & 0\leq x<1, \\
		1, & x=1, \\
		3-x, & 1<x\leq2
	\end{array} \right.
\end{equation*}在闭区间\([0,2]\)上间断点\(x=1\)，
它在闭区间\([0,2]\)上虽然有界，
但是既无最大值又无最小值.

\subsection{零点定理与介值定理}
\begin{definition}
如果\(x_0\)使\(f(x_0) = 0\)，则\(x_0\)称为函数\(f\)的\DefineConcept{零点}.
\end{definition}

\begin{theorem}[零点定理]\label{theorem:极限.零点定理}
%@see: 《高等数学（第六版 上册）》 P71 定理2
%@see: 《数学分析（第二版 上册）》（陈纪修） P111 定理3.4.3
设函数\(f\)在闭区间\([a,b]\)上连续，
且\(f(a) \cdot f(b)<0\)，
那么\begin{equation*}
	(\exists\xi\in(a,b))[f(\xi) = 0].
\end{equation*}
\begin{proof}
用反证法.
假设对\(\forall x\in(a,b)\)都有\(f(x) \neq 0\).

因为\(f(a) \cdot f(b)<0\)，
不妨设\(f(a) < 0 < f(b)\).
若\(f\left(\frac{a+b}{2}\right)>0\)，取\(a_1=a\)、\(b_1=\frac{a+b}{2}\)；
若\(f\left(\frac{a+b}{2}\right)<0\)，取\(a_1=\frac{a+b}{2}\)、\(b_1=b\)；
总之，在上述两种情形下均有不等式\(f(a_1) < 0 < f(b_1)\)成立.
以此类推，建立闭区间序列\(\{[a_n,b_n]\}\)，
可知\begin{equation*}
	[a_{n+1},b_{n+1}] \subseteq [a_n,b_n],
	f(a_n) < 0 < f(b_n),
	\lim_{n\to\infty} (b_n - a_n)
	= \lim_{n\to\infty} \frac{b-a}{2^n}
	= 0.
\end{equation*}
根据\cref{definition:极限.闭区间套定理}，
\(\exists\xi\in[a,b]\)
满足\(\lim_{n\to\infty} a_n
= \xi
= \lim_{n\to\infty} b_n\).

由\hyperref[theorem:极限.函数极限的局部保号性3]{函数极限的局部保号性}有\begin{equation*}
	\lim_{n\to\infty} f(a_n) \leq 0,
	\qquad
	\lim_{n\to\infty} f(b_n) \geq 0.
\end{equation*}
又因为\(f \in C[a,b]\)，由连续函数的定义可知，\(\lim_{x\to\xi} f(x) = f(\xi)\)；
那么由\hyperref[theorem:极限.海涅定理]{海涅定理}可知\begin{equation*}
	\lim_{n\to\infty} f(a_n)
	= \lim_{n\to\infty} f(b_n)
	= f(\xi).
\end{equation*}
再由\hyperref[theorem:函数极限.夹逼准则]{夹逼准则}有\(f(\xi)=0\).
\end{proof}
\end{theorem}
我们也把\hyperref[theorem:极限.零点定理]{零点定理}称为%
\DefineConcept{波尔查诺--柯西中值定理}.

从几何上看，零点定理表示：
如果连续曲线弧\(y = f(x)\)的两个端点位于\(x\)轴的不同侧，
那么这段曲线弧与\(x\)轴至少有一个交点.

\begin{theorem}[介值定理]\label{theorem:极限.闭区间上连续函数的性质.介值定理1}
%@see: 《高等数学（第六版 上册）》 P72 定理3
%@see: 《数学分析（第二版 上册）》（陈纪修） P112 定理3.4.4
设函数\(f\)在闭区间\([a,b]\)上连续，且在这区间的端点取不同的函数值\begin{equation*}
	f(a) = A
	\quad\text{及}\quad
	f(b) = B.
\end{equation*}
那么，对于\(A\)与\(B\)之间的任意一个数\(C\)，
在开区间\((a,b)\)内至少有一个点\(\xi\)，使得\begin{equation*}
	f(\xi)=C
	\quad(a<\xi<b).
\end{equation*}
\begin{proof}
设\(\phi(x)=f(x)-C\)，
则\(\phi(x)\)在闭区间\([a,b]\)上连续，
且\(\phi(a)=A-C\)与\(\phi(b)=B-C\)异号.
根据零点定理，开区间\((a,b)\)内至少有一点\(\xi\)使得\begin{equation*}
	\phi(\xi)=0
	\quad(a<\xi<b).
\end{equation*}
又\(\phi(\xi)=f(\xi)-C\)，
因此由上式即得\begin{equation*}
	f(\xi)=C
	\quad(a<\xi<b).
	\qedhere
\end{equation*}
\end{proof}
\end{theorem}
\cref{theorem:极限.闭区间上连续函数的性质.介值定理1} 的几何意义是：
连续曲线弧\(y=f(x)\)与水平直线\(y=C\)至少相交于一点.

\begin{corollary}\label{theorem:极限.闭区间上连续函数的性质.介值定理2}
%@see: 《高等数学（第六版 上册）》 P72 推论
在闭区间上连续的函数必取得介于最大值\(M\)与最小值\(m\)之间的任何值.
\begin{proof}
设函数\(f \in C[a,b]\)，取\begin{equation*}
	M=\max_{a \leq x \leq b} f(x), \qquad
	m=\min_{a \leq x \leq b} f(x),
\end{equation*}
假设\(m=f(x_1)\)，\(M=f(x_2)\)，且\(m \neq M\)，\(x_1 \neq x_2\).
在闭区间\([\min\{x_1,x_2\},\max\{x_1,x_2\}]\)上应用介值定理，
于是有\begin{equation*}
	(\forall\mu\in(m,M))(\exists\xi\in(a,b))
	[f(\xi)=\mu].
	\qedhere
\end{equation*}
\end{proof}
\end{corollary}

\begin{corollary}
如果\(I\)是区间，且\(f\in C(I)\)，则\(f\ImageOfSetUnderRelation{I}\)也是区间.
\end{corollary}

\begin{corollary}
设函数\(f\)是定义在区间\(I\)上的严格单调函数，
则\(f\)连续当且仅当\(f\ImageOfSetUnderRelation{I}\)也是区间.
\end{corollary}

\begin{corollary}
定义在区间\(I\)上的严格单调连续函数必然可逆，且逆函数也是严格单调连续的.
\end{corollary}

\begin{corollary}
如果\(f \in C(I)\)，则\(f\)严格单调当且仅当\(f^{-1}\)存在.
\end{corollary}

\begin{corollary}
如果\(f\colon[a,b]\to[a,b]\)连续，则\(\exists\xi\in[a,b]: f(\xi)=\xi\).
\end{corollary}

\begin{example}
设\(f \in C[a,b]\).
证明：函数\begin{equation*}
	m(x) = \inf_{a \leq y \leq x} f(y), \qquad
	M(x) = \sup_{a \leq y \leq x} f(y)
\end{equation*}都在\([a,b]\)上连续.
\begin{proof}
这里只证\(m\)是连续的.
\begin{enumerate}
	\item 首先证明\(m\)在点\(x=a\)处右连续.
	注意到\(m(a) = f(a)\).
	对\(\forall\epsilon>0\)，
	由于\(f\)在\(x=a\)处右连续，
	所以\(\exists\delta>0\)
	使得对\(\forall x\in(a,a+\delta)\)
	都有\(\abs{f(x)-f(a)}<\epsilon\)成立；
	因此\begin{equation*}
	f(x)
	> f(a) - \epsilon
	= m(a) - \epsilon.
	\end{equation*}
	于是，当\(x\in[a,a+\delta)\)时，
	对\(\forall y\in[a,x]\)总有\begin{equation*}
		m(a) - \epsilon < f(y);
	\end{equation*}
	再根据\(m\)的定义有\begin{equation*}
		m(a) - \epsilon \leq m(x) \leq m(a);
	\end{equation*}
	这样就有不等式\(\abs{m(x)-m(a)}<\epsilon\)成立.

	\item 然后证明\(m\)在点\(x=b\)处左连续.
	因为\(f \in C[a,b]\)，
	所以由\cref{theorem:极限.闭区间上连续函数的性质.介值定理1} 可知，
	\(\exists\xi\in[a,b]\)
	满足\(f(\xi) = \min_{a \leq x \leq b} f = m(b)\).
		\begin{enumerate}
			\item 首先假设\(\xi=b\)，
			即有\(f(b)=m(b)\).
			对\(\forall\epsilon>0\)，
			由于\(f\)在\(x=b\)处左连续，
			所以\(\exists\delta>0\)
			使得对\(\forall x\in(b-\delta,b)\)
			都有\(\abs{f(x)-f(b)}<\epsilon\)成立；
			因此\begin{equation*}
				f(x)
				< f(b) + \epsilon
				= m(b) + \epsilon.
			\end{equation*}
			于是，当\(x\in(b-\delta,b)\)时，
			根据\(m\)的定义有\begin{equation*}
				m(x) \leq m(b) + \epsilon,
			\end{equation*}
			即\(\abs{m(x)-m(b)}<\epsilon\)，
			也即\(\lim_{x \to b^-} m(x) = m(b)\).

			\item 然后假设\(\xi\in[a,b)\).
			那么对\(\forall x\in(a,b)\)
			有\begin{equation*}
				m(x) = \inf_{a \leq y \leq x} f(y)
				\leq f(\xi)
				= m(b)
				\geq \inf_{a \leq y \leq b} f(y)
				= m(b).
			\end{equation*}
		\end{enumerate}
		由上可知\(m(x) = m(b)\)，
		也就是说\(m\)在点\(x=b\)处左连续.

	\item 最后证明\(m\)在\((a,b)\)内连续.
	证明已经蕴含在上述证明\(m\)在点\(x=a\)处右连续和在点\(x=b\)处左连续的过程中.
	\qedhere
\end{enumerate}
\end{proof}
\end{example}
