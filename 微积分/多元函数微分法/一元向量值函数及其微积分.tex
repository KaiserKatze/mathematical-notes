\section{一元向量值函数及其微积分}
我们先在本节介绍一元向量值函数及其导数，
再在下一节讨论多元函数微分学的几何应用.

\subsection{向量值函数}
假设空间曲线\(\Gamma\)满足参数方程 \labelcref{equation:解析几何.曲线的参数方程}.
我们可以把方程 \labelcref{equation:解析几何.曲线的参数方程} 改写成向量形式.
若记\[
	\vb{r}=x\vb{i}+y\vb{j}+z\vb{k},
	\qquad
	\vb{f}(t)=x(t)\vb{i}+y(t)\vb{j}+z(t)\vb{k},
\]
则方程 \labelcref{equation:解析几何.曲线的参数方程}
就成为向量方程\begin{equation}\label{equation:解析几何.曲面的参数方程.向量形式}
	\vb{r}=\vb{f}(t),
	\quad \alpha \leq t \leq \beta.
\end{equation}

方程 \labelcref{equation:解析几何.曲面的参数方程.向量形式}
确定了一个映射\(\vb{f}\colon [\alpha,\beta]\to\mathbb{R}^3\).
由于这个映射将每一个\(t\in[\alpha,\beta]\)映成一个向量\(\vb{f}(t)\in\mathbb{R}^3\)，
故称这映射为一元向量值函数.
一般地，有如下定义：
\begin{definition}
设数集\(D \subseteq \mathbb{R}\).
把映射\[
	\vb{f}\colon D\to\mathbb{R}^n,
	x \mapsto \vb{y}=(\AutoTuple{y}{n})
\]称为一元\DefineConcept{向量值函数}，
通常记为\begin{equation}\label{equation:一元实变向量值函数.向量形式}
	\vb{r}=\vb{f}(t),
	\quad t \in D,
\end{equation}
其中数集\(D\)称为函数的\DefineConcept{定义域}，
\(t\)称为\DefineConcept{自变量}，
\(\vb{r}\)称为\DefineConcept{因变量}，
\(f_n(t)\)称为\DefineConcept{分量函数}（component function）.
\end{definition}
一元向量值函数是普通一元函数的推广.
现在，自变量\(t\)依然取实数值，但因变量\(\vb{r}\)不取实数值，而取值为\(n\)维向量.

假设\(\vb{e}_1,\vb{e}_2,\dotsc,\vb{e}_n\)是\(\mathbb{R}^n\)的一组基，
那么函数 \labelcref{equation:一元实变向量值函数.向量形式} 可以表示为\begin{equation}
	\vb{r}=f_1(t)\vb{e}_1+f_2(t)\vb{e}_2+\dotsb+f_n(t)\vb{e}_n,
	\quad t \in D,
\end{equation}
或\begin{equation}
	\vb{r}=(f_1(t),f_2(t),\dotsc,f_n(t)),
	\quad t \in D.
\end{equation}

为简单起见，以下将一元向量值函数简称为向量值函数，并把普通的实值函数称为数量函数.

假设变向量\(\vb{r}\)的起点取在坐标系的原点\(O\)处，终点在\(M\)处，即\(\vb{r}=\vec{OM}\).
当\(t\)改变时，\(\vb{r}\)跟着改变，从而终点\(M\)也随之改变.
终点\(M\)的轨迹（记作\(\Gamma\)）
称为“向量值函数\(\vb{r}=\vb{f}(t)\ (t \in D)\)的\DefineConcept{终端曲线}”，
曲线\(\Gamma\)也称为“向量值函数\(\vb{r}=\vb{f}(t)\ (t \in D)\)的\DefineConcept{图形}”.

由于向量值函数\(\vb{r}=\vb{f}(t)\ (t \in D)\)与空间曲线\(\Gamma\)是一一对应的，
因此\(\vb{r}=\vb{f}(t)\ (t \in D)\)称为“曲线\(\Gamma\)的\DefineConcept{向量方程}”.

现在我们同时增加自变量个数和因变量个数，从而定义变换的概念.
\begin{definition}
%@see: 《数学分析（第二版 下册）》（陈纪修） P126 定义11.2.5
设\(D \subseteq \mathbb{R}^n\).
把映射\[
	\vb{f}\colon D \to \mathbb{R}^m,
		\vb{x}=(\AutoTuple{x}{n})
		\mapsto
		\vb{y}=(\AutoTuple{y}{m})
\]
称为“\(n\)元\(m\)维\DefineConcept{向量值函数}”
或“从\(\mathbb{R}^n\)到\(\mathbb{R}^m\)的\DefineConcept{变换}”，
通常记为\[
	\vb{y} = \vb{f}(\vb{x})
	\quad(\vb{x}\in\mathbb{R}^n,\vb{y}\in\mathbb{R}^m),
\]
其中\(D\)称为变换的\DefineConcept{定义域}，
\(\vb{x}\)称为\DefineConcept{自变量}，
\(\vb{y}\)称为\DefineConcept{因变量}，
\(n\)元函数\(f_1,f_2,\dotsc,f_m\)称为\DefineConcept{分量函数}.
\end{definition}

\subsection{向量值函数的极限}
根据\(\mathbb{R}^3\)中的向量的线性运算及向量的模的概念，
可以类似于定义数量函数的极限、连续、导数等概念的形式来定义向量值函数的相应概念：
\begin{definition}
%@see: 《数学分析（第二版 下册）》（陈纪修） P127 定义11.2.2'
设开集\(D \subseteq \mathbb{R}^n\)，点\(\vb{x}_0 \in D\)，
函数\(\vb{f}\colon D-\{\vb{x}_0\} \to \mathbb{R}^m\)，
\(\vb{A}\)是一个\(m\)维向量.
如果对于任意给定的正数\(\epsilon\)，
总存在正数\(\delta\)，
使得当\(0 < \norm{\vb{x}-\vb{x}_0} < \delta\)时，
成立\[
	\norm{\vb{f}(\vb{x})-\vb{A}} < \epsilon,
\]
则称“\(\vb{A}\)是函数\(\vb{f}\)当\(\vb{x} \to \vb{x}_0\)时的\DefineConcept{极限}”，
记作\[
	\lim_{\vb{x} \to \vb{x}_0} \vb{f}(\vb{x}) = \vb{A},
	\quad\text{或}\quad
	\vb{f}(\vb{x}) \to \vb{A}\ (\vb{x} \to \vb{x}_0).
\]
\end{definition}

\begin{theorem}
向量值函数\(\vb{f}(t)\)当\(t \to t_0\)时的极限存在的充分必要条件是：
\(\vb{f}(t)\)的全部分量函数\(f_1(t),f_2(t),\dotsc,f_n(t)\)
当\(t \to t_0\)的极限都存在.
\end{theorem}

\begin{theorem}
在函数\(\vb{f}(t)\)当\(t \to t_0\)时的极限存在时，
其极限为\begin{equation}\label{equation:一元实变向量值函数.向量值函数的极限与分量函数的极限的关系}
	\lim_{t \to t_0} \vb{f}(t)
	= \left(
			\lim_{t \to t_0} f_1(t),
			\lim_{t \to t_0} f_2(t),
			\dotsc,
			\lim_{t \to t_0} f_n(t)
		\right).
\end{equation}
\end{theorem}

\subsection{向量值函数的连续性}
\begin{definition}
设向量值函数\(\vb{f}(t)\)在点\(t_0\)的某一邻域内有定义.
若\[
	\lim_{t \to t_0} \vb{f}(t) = \vb{f}(t_0),
\]
则称“向量值函数\(\vb{f}(t)\)在\(t_0\) \DefineConcept{连续}”.
\end{definition}

\begin{definition}
设\(\vb{f}\colon D\to\mathbb{R}^n\).
若\(\vb{f}(t)\)在区域\(D\)中的每一点处都连续，
则称“\(\vb{f}(t)\)在\(D\)上连续”，
并称“\(\vb{f}(t)\)是\(D\)上的\DefineConcept{连续函数}”.
\end{definition}

\begin{theorem}
向量值函数\(\vb{f}(t)\)在\(t_0\)连续的充分必要条件为：
\(\vb{f}(t)\)的全部分量函数都在\(t_0\)连续.
\end{theorem}

\begin{theorem}
设\(\vb{f}(t) = (f_1(t),f_2(t),f_3(t))\)，
\(\vb{g}(t) = (g_1(t),g_2(t),g_3(t))\)，
\(\lim_{t \to t_0} \vb{f}(t) = \vb{u}\)，
\(\lim_{t \to t_0} \vb{g}(t) = \vb{v}\)，
那么\[
	\lim_{t \to t_0} [\vb{f}(t) \times \vb{g}(t)]
	= \vb{u} \times \vb{v}.
\]
\begin{proof}
直接计算得\begin{align*}
	\lim_{t \to t_0} [\vb{f}(t) \times \vb{g}(t)]
	&= \lim_{t \to t_0} \begin{bmatrix}
		f_2(t) g_3(t) - f_3(t) g_2(t) \\
		f_3(t) g_1(t) - f_1(t) g_3(t) \\
		f_1(t) g_2(t) - f_2(t) g_1(t) \\
	\end{bmatrix} \\
	&= \begin{bmatrix}
		\lim_{t \to t_0} [f_2(t) g_3(t) - f_3(t) g_2(t)] \\
		\lim_{t \to t_0} [f_3(t) g_1(t) - f_1(t) g_3(t)] \\
		\lim_{t \to t_0} [f_1(t) g_2(t) - f_2(t) g_1(t)] \\
	\end{bmatrix} \\
	&= \begin{bmatrix}
		f_2(t_0) g_3(t_0) - f_3(t_0) g_2(t_0) \\
		f_3(t_0) g_1(t_0) - f_1(t_0) g_3(t_0) \\
		f_1(t_0) g_2(t_0) - f_2(t_0) g_1(t_0) \\
	\end{bmatrix} \\
	&= \vb{u} \times \vb{v}.
	\qedhere
\end{align*}
\end{proof}
\end{theorem}

我们可以把一元向量值函数连续性的概念推广到变换上.
\begin{definition}
设区域\(D \subseteq \mathbb{R}^n\)，
变换\(\vb{F}\colon D \to \mathbb{R}^m\).
如果\[
	\lim_{\substack{
		\vb{x}\to\vb{a} \\
		\vb{x} \in D
	}} \vb{F}(\vb{x})
	= \vb{F}(\vb{a}),
\]
则称“变换\(\vb{F}(\vb{x})\)在\(\vb{a}\) \DefineConcept{连续}”.
\end{definition}

\begin{theorem}
变换\(\vb{F}(\vb{x})\)在\(\vb{a}\)连续的充分必要条件为：
\(\vb{F}(\vb{x})\)的全部分量函数\[
	f_1(\vb{x}),f_2(\vb{x}),\dotsc,f_n(\vb{x})
\]都在\(\vb{a}\)连续.
\end{theorem}

\subsection{向量值函数的导数}
\begin{definition}
设向量值函数\(\vb{r}=\vb{f}(t)\)在点\(t_0\)的某一邻域内有定义.
如果\[
	\lim_{\increment t\to0}
		\frac{\increment \vb{r}}{\increment t}
	= \lim_{\increment t\to0}
		\frac{\vb{f}(t_0+\increment t)-\vb{f}(t_0)}{\increment t}
\]存在，
那么就称这个极限向量为
“向量值函数\(\vb{r}=\vb{f}(t)\)在\(t_0\)处的\DefineConcept{导数}或\DefineConcept{导向量}”，
记作\[
	\vb{f}'(t_0)
	\quad\text{或}\quad
	\eval{\dv{\vb{r}}{t}}_{t=t_0}.
\]
\end{definition}

\begin{definition}
设\(\vb{f}\colon D\to\mathbb{R}^n\).
若\(\vb{f}(t)\)在区域\(D\)中的每一点\(t\)处都存在导向量\(\vb{f}'(t)\)，
那么就称“\(\vb{f}(t)\)在\(D\)上\DefineConcept{可导}”.
\end{definition}

\begin{theorem}
向量值函数\(\vb{r}=\vb{f}(t)\)在\(t_0\)可导的充分必要条件是：
\(\vb{f}(t)\)的全部分量函数都在\(t_0\)可导.
\end{theorem}

\begin{theorem}
设\(\vb{f}\colon D\to\mathbb{R}^n\).
当\(\vb{f}(t)\)在\(t_0\)可导时，其导数为
\begin{equation}
	\vb{f}'(t_0)
	= (f_1'(t),f_2'(t),\dotsc,f_n'(t)).
\end{equation}
\end{theorem}

向量值函数的导数运算法则与数量函数的导数运算法则的形式相同：
\begin{theorem}
设\(\vb{u}(t)\)、\(\vb{v}(t)\)是可导的向量值函数，
\(\vb{C}\)是常向量，
\(c\)是任一常数，
\(\phi(t)\)是可导的数量函数，
则\begin{align}
	&\dv{t} \vb{C}
		= \vb{0}, \\
	&\dv{t} [c \vb{u}(t)]
		= c \vb{u}'(t), \\
	&\dv{t} [\vb{u}(t) \pm \vb{v}(t)]
		= \vb{u}'(t) + \vb{v}'(t), \\
	&\dv{t} [\phi(t) \vb{u}(t)]
		= \phi'(t) \vb{u}(t) + \phi(t) \vb{u}'(t), \\
	&\dv{t} [\vb{u}(t) \cdot \vb{v}(t)]
		= \vb{u}'(t) \cdot \vb{v}(t) + \vb{u}(t) \cdot \vb{v}'(t), \\
	&\dv{t} [\vb{u}(t) \times \vb{v}(t)]
		= \vb{u}'(t) \times \vb{v}(t) + \vb{u}(t) \times \vb{v}'(t), \\
	&\dv{t} \vb{u}[\phi(t)]
		= \phi'(t) \vb{u}'[\phi(t)].
\end{align}
\begin{proof}
设\(\increment\vb{u} = \vb{u}(t+\increment t) - \vb{u}(t)\)，
\(\increment\vb{v} = \vb{v}(t+\increment t) - \vb{v}(t)\)，
则\begin{align*}
	\dv{t} [\vb{u}(t) \cdot \vb{v}(t)]
	&= \lim_{\increment t\to0}
		\frac{
			\vb{u}(t+\increment t) \cdot \vb{v}(t+\increment t)
			- \vb{u}(t) \cdot \vb{v}(t)
		}{
			\increment t
		} \\
	&= \lim_{\increment t\to0}
		\frac{
			[\vb{u}(t) + \increment\vb{u}] \cdot [\vb{v}(t) + \increment\vb{v}]
			- \vb{u}(t) \cdot \vb{v}(t)
		}{
			\increment t
		} \\
	&= \lim_{\increment t\to0}
		\frac{
			[\vb{u}(t) \cdot \vb{v}(t) + \increment\vb{u} \cdot \vb{v}(t)
			+ \vb{u}(t) \cdot \increment\vb{v} + \increment\vb{u} \cdot \increment\vb{v}]
			- \vb{u}(t) \cdot \vb{v}(t)
		}{
			\increment t
		}
		\tag{\hyperref[equation:解析几何.内积的线性性2]{线性性}} \\
	&= \lim_{\increment t\to0}
		\frac{
			\vb{u}(t) \cdot \increment\vb{v} + \increment\vb{u} \cdot \vb{v}(t)
			+ \increment\vb{u} \cdot \increment\vb{v}
		}{
			\increment t
		} \\
	&= \lim_{\increment t\to0} \left[
		\vb{u}(t) \cdot \frac{\increment\vb{v}}{\increment t}
		+ \frac{\increment\vb{u}}{\increment t} \cdot \vb{v}(t)
		+ \increment t \frac{\increment\vb{u}}{\increment t}
			\cdot \frac{\increment\vb{v}}{\increment t}
	\right]
		\tag{\hyperref[equation:解析几何.内积的线性性1]{线性性}} \\
	&= \vb{u}(t) \cdot \vb{v}'(t) + \vb{u}'(t) \cdot \vb{v}(t).
\end{align*}
注意到，在上述证明过程中，我们只运用了向量的数量积的双线性性，
因此，这个证明对任意一个同样具有双线性性的二元代数运算也同样有用.
由于向量的向量积也具有双线性性，
所以\[
	\dv{t} [\vb{u}(t) \times \vb{v}(t)]
	= \vb{u}'(t) \times \vb{v}(t) + \vb{u}(t) \times \vb{v}'(t).
	\qedhere
\]
\end{proof}
\end{theorem}

\subsection{向量值函数的几何意义和物理意义}
%@see: 《高等数学（第六版 下册）》 P92
下面，讨论向量值函数\(\vb{r}=\vb{f}(t)\)的导向量的几何意义.

设空间曲线\(\Gamma\)是向量值函数\(\vb{r}=\vb{f}(t)\ (t \in D)\)的终端曲线，
向量\(\vec{OM}=\vb{f}(t_0)\)，\(\vec{ON}=\vb{f}(t_0+\increment t)\).
又设导向量\(\vb{f}'(t_0)\)不是零向量.

当\(\increment t>0\)时，
向量\(\increment\vb{r}=\vb{f}(t_0+\increment t)-\vb{f}(t_0)\)的
指向与\(t\)增大时点\(M\)移动的走向（以下简称\(t\)的增长方向）一致；
当\(\increment t<0\)时，
向量\(\increment\vb{r}=\vb{f}(t_0+\increment t)-\vb{f}(t_0)\)的
指向与\(t\)的增长方向相反.
但不论\(\increment t>0\)或\(\increment t<0\)，
向量\(\frac{\increment\vb{r}}{\increment t}\)的增长方向总与\(t\)的增长方向一致.
于是，导向量\(\vb{f}'(t_0)=\lim_{\increment t\to0} \frac{\increment\vb{r}}{\increment t}\)
是向量值函数\(\vb{r}=\vb{f}(t)\)的终端曲线\(\Gamma\)在点\(M\)处的一个切向量，
其指向与\(t\)的增长方向一致.

设向量值函数\(\vb{r}=\vb{f}(x)\)是沿空间光滑曲线运动的质点\(M\)的位置向量，
则向量值函数\(\vb{r}=\vb{f}(t)\)的导向量有以下的物理意义：
\(\vb{v}(t)=\dv{\vb{r}}{t}\)是质点\(M\)的速度向量，其方向与曲线相切；
\(\vb{a}(t)=\dv{\vb{v}}{t}=\dv[2]{\vb{r}}{t}\)是质点\(M\)的加速度向量.
