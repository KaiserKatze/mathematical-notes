\section{对坐标的曲线积分}
\subsection{对坐标的曲线积分的概念}
\begin{definition}
设\(L\)为\(xOy\)面内从点\(A\)到点\(B\)的一条有向光滑曲线弧，
函数\(P(x,y)\)和\(Q(x,y)\)在\(L\)上有界.
在\(L\)上沿\(L\)的方向任意插入一点列\[
	M_1(x_1,y_1),
	M_2(x_2,y_2),
	\dotsc,
	M_{n-1}(x_{n-1},y_{n-1}),
\]
把\(L\)分成\(n\)个有向小弧段\[
	\Arc{M_{i-1} M_i} \quad (i=1,2,\dotsc,n; M_0 = A, M_n = B).
\]
设\(\increment x_i = x_i - x_{i-1}\)，
\(\increment y_i = y_i - y_{i-1}\)，
点\(\opair{\xi_i,\eta_i}\)为\(\Arc{M_{i-1} M_i}\)上任意取定的点.
如果当各小弧段长度的最大值\(\lambda\to0\)时，\[
	\sum_{i=1}^n P(\xi_i,\eta_i) \increment x_i
\]的极限总存在，
则称此极限为
“函数\(P(x,y)\)在有向曲线弧\(L\)上对坐标\(x\)的\DefineConcept{曲线积分}”，
记作\[
	\int_L P(x,y) \dd{x}.
\]
类似地，如果\[
	\lim_{\lambda\to0} \sum_{i=1}^n Q(\xi_i,\eta_i) \increment y_i
\]总存在，
则称此极限为“函数\(Q(x,y)\)在有向曲线弧\(L\)上对坐标\(y\)的\DefineConcept{曲线积分}”，
记作\[
	\int_L Q(x,y) \dd{y}.
\]
这里，\(P(x,y)\)、\(Q(x,y)\)叫做\DefineConcept{被积函数}，
\(L\)叫做\DefineConcept{积分弧段}.
\end{definition}
以上两个积分也称为\DefineConcept{第二类曲线积分}.

上述定义可以类似地推广到积分弧段为空间有向曲线弧\(\Gamma\)的情形.

如果平面曲线\(L\)或空间曲线\(\Gamma\)是分段光滑的，
我们规定函数在函数在有向曲线弧\(L\)或\(\Gamma\)上对坐标的曲线积分
等于在光滑的各段上对坐标的曲线积分之和.

指向与有向曲线弧的方向一致的切向量称为\DefineConcept{有向曲线弧的切向量}.

一般地，可以将\[
	\int_L P(x,y) \dd{x} + \int_L Q(x,y) \dd{y}
\]合并写作\[
	\int_L P(x,y) \dd{x} + Q(x,y) \dd{y}.
\]
也可将其写作向量形式\[
	\int_L \vb{F}(x,y) \cdot \dd{\vb{r}},
\]
其中\(\vb{F}(x,y) = P(x,y) \vb{i} + Q(x,y) \vb{j}\)是变换，
\(\dd{\vb{r}} = \vb{i} \dd{x} + \vb{j} \dd{y}\).

类似地，把\[
	\int_L P(x,y,z) \dd{x} + \int_L Q(x,y,z) \dd{y} + \int_L R(x,y,z) \dd{z}
\]合并写作\[
	\int_L P(x,y,z) \dd{x} + Q(x,y,z) \dd{y} + R(x,y,z) \dd{z},
\]
也可写作向量形式\[
	\int_L \vb{F}(x,y,z) \cdot \dd{\vb{r}},
\]
其中\(\vb{F}(x,y,z) = P(x,y,z)\vb{i} + Q(x,y,z)\vb{j} + R(x,y,z)\vb{k}\)是变换，
\(\dd{\vb{r}} = \vb{i} \dd{x} + \vb{j} \dd{y} + \vb{k} \dd{z}\).

如果\(L\)（或\(\Gamma\)）是分段光滑的，
我们规定函数在有向曲线弧\(L\)
（或\(\Gamma\)）上对坐标的曲线积分等于在光滑的各段上对坐标的曲线积分之和.

\subsection{对坐标的曲线积分的性质}
根据上述曲线积分的定义，可以导出对坐标的曲线积分的一些性质.
为了表达简便起见，我们用向量形式表达，并假定其中的变换在曲线\(L\)上连续.

\begin{property}\label{theorem:线积分与面积分.第二类曲线积分性质1}
设\(\alpha\)、\(\beta\)为常数，
则\[
	\int_L [\alpha \vb{F}_1(x,y) + \beta \vb{F}_2(x,y)] \cdot \dd{\vb{r}}
	= \alpha \int_L \vb{F}_1(x,y) \cdot \dd{\vb{r}}
	+ \beta \int_L \vb{F}_2(x,y) \cdot \dd{\vb{r}}.
\]
\end{property}

\begin{property}\label{theorem:线积分与面积分.第二类曲线积分性质2}
若有向曲线弧\(L\)可分为两段光滑有向曲线弧\(L_1\)和\(L_2\)，则\[
	\int_L \vb{F}(x,y) \cdot \dd{\vb{r}}
	= \int_{L_1} \vb{F}(x,y) \cdot \dd{\vb{r}}
	+ \int_{L_2} \vb{F}(x,y) \cdot \dd{\vb{r}}.
\]
\end{property}

\begin{property}\label{theorem:线积分与面积分.第二类曲线积分性质3}
设\(L\)是有向光滑曲线弧，
\(L^-\)是\(L\)的反向曲线弧，则\[
	\int_{L^-} \vb{F}(x,y) \cdot \dd{\vb{r}}
	= - \int_L \vb{F}(x,y) \cdot \dd{\vb{r}}.
\]
\end{property}
\cref{theorem:线积分与面积分.第二类曲线积分性质3} 表明，
当积分弧段的方向改变时，对坐标的曲线积分要改变符号.
因此关于对坐标的曲线积分，我们必须注意积分弧段的方向.

这一性质是对坐标的曲线积分所特有的，
对弧长的曲线积分不具有这一性质.
同时，对坐标的曲线积分也不具有
对弧长的曲线积分所具有的\cref{theorem:线积分与面积分.第一类曲线积分性质3}.

\subsection{对坐标的曲线积分的计算法}
\begin{theorem}
设\(P(x,y)\)、\(Q(x,y)\)在有向曲线弧\(L\)上有定义且连续，
\(L\)的参数方程为\[
	\left\{ \begin{array}{l}
		x = \phi(t), \\
		y = \psi(t), \\
	\end{array} \right.
\]
当参数\(t\)单调地由\(\alpha\)变到\(\beta\)时，
点\(M(x,y)\)从\(L\)的起点\(A\)沿\(L\)运动到终点\(B\)，
\(\phi(t)\)、\(\psi(t)\)在以\(\alpha\)及\(\beta\)为端点的闭区间上具有一阶连续导数，
且\[
	[\phi'(t)]^2+[\psi'(t)]^2 \neq 0,
\]
则曲线积分\(\int_L{P(x,y)\dd{x} + Q(x,y)\dd{y}}\)存在，
且\begin{equation}\label{equation:线积分与面积分.第二类曲线积分的计算式1}
	\int_L P(x,y) \dd{x} + Q(x,y) \dd{y}
	= \int_\alpha^\beta
		\left\{ \def\arraystretch{.7}\begin{array}{l}
			P[\phi(t),\psi(t)] \phi'(t) \\
			\hspace{5pt}+ Q[\phi(t),\psi(t)] \psi'(t)
		\end{array} \right\} \dd{t}.
\end{equation}
\end{theorem}
\cref{equation:线积分与面积分.第二类曲线积分的计算式1} 表明，
计算对坐标的曲线积分\[
	\int_L P(x,y) \dd{x} + Q(x,y) \dd{y}
\]时，
只要把\(x\)、\(y\)、\(\dd{x}\)、\(\dd{y}\)
依次换为\(\phi(t)\)、\(\psi(t)\)、\(\phi'(t) \dd{t}\)、\(\psi'(t) \dd{t}\)，
然后从\(L\)的起点所对应的参数值\(\alpha\)到\(L\)的终点所对应的参数值\(\beta\)作定积分就行了.
这里必须注意，下限\(\alpha\)对应于\(L\)的起点，
上限\(\beta\)对应于\(L\)的终点，
\(\alpha\)不一定小于\(\beta\).

如果\(L\)由方程\(y = \psi(x)\)或\(x = \phi(y)\)给出，
可以看作参数方程的特殊情形.
例如，当\(L\)由\(y = \psi(x)\)给出时，
\cref{equation:线积分与面积分.第二类曲线积分的计算式1} 成为\[
	\int_L P(x,y) \dd{x} + Q(x,y) \dd{y}
	= \int_\alpha^\beta \left\{
		P[x,\psi(x)] + Q[x,\psi(x)] \psi'(x)
	\right\} \dd{x}.
\]

\cref{equation:线积分与面积分.第二类曲线积分的计算式1} 可以推广到空间曲线\(\Gamma\)由参数方程\[
	x=\phi(t), \qquad
	y=\psi(t), \qquad
	z=\omega(t)
\]给出的情形，
这一便得到
\begin{equation}\label{equation:线积分与面积分.第二类曲线积分的计算式2}
	\int_L \left[ \def\arraystretch{.7}\begin{array}{l}
		P(x,y,z)\dd{x} \\
		\hspace{5pt}+ Q(x,y,z)\dd{y} \\
		\hspace{10pt}+ R(x,y,z)\dd{z}
	\end{array} \right]
	= \int_\alpha^\beta \left\{\def\arraystretch{.7}\begin{array}{l}
	P[\phi(t),\psi(t),\omega(t)] \phi'(t) \\
	\hspace{5pt}+ Q[\phi(t),\psi(t),\omega(t)] \psi'(t) \\
	\hspace{10pt}+ R[\phi(t),\psi(t),\omega(t)] \omega'(t)
	\end{array} \right\} \dd{t}.
\end{equation}
这里下限\(\alpha\)对应\(\Gamma\)的起点，
上限\(\beta\)对应\(\Gamma\)的终点.

\begin{example}
%@see: 《高等数学（第六版 下册）》 P196 例1
设\(L\)为抛物线\(y^2 = x\)上从点\(A(1,-1)\)到点\(B(1,1)\)的一段弧.
计算\(\int_L xy \dd{x}\).
\begin{solution}\let\qed\relax
\begin{proof}[解法一]
将所给积分化为对\(x\)的定积分来计算.
由于\(y = \pm\sqrt{x}\)不是单值函数，所以要把\(L\)分成\(AO\)和\(OB\)两部分.
在\(AO\)上，\(y=-\sqrt{x}\)，\(x\)从1变到0；
在\(OB\)上，\(y=\sqrt{x}\)，\(x\)从0变到1.
因此\begin{align*}
	\int_L xy \dd{x} &= \int_{AO} xy \dd{x} + \int_{OB} xy \dd{x} \\
	&= \int_1^0 x(-\sqrt{x}) \dd{x} + \int_0^1 x\sqrt{x} \dd{x} \\
	&= 2\int_0^1 x^{3/2} \dd{x} = 4/5.
\end{align*}
\end{proof}
\begin{proof}[解法二]
将所给积分化为对\(y\)的定积分来计算，现在\(x=y^2\)，\(y\)从\(-1\)变到\(1\).
因此\[
	\int_L xy \dd{x}
	= \int_{-1}^1 y^2 \cdot y \cdot 2y \dd{y}
	= 2\int_{-1}^1 y^4 \dd{y}
	= \frac{2}{5} \eval{y^5}_{-1}^1
	= \frac{4}{5}.
\]
\end{proof}
\end{solution}
\end{example}

\begin{example}
设\(L_1\)是以原点为圆心、以\(a\)为半径、
按逆时针方向从\(A(a,0)\)到\(B(-a,0)\)的上半圆周，
\(L_2\)是从点\(A\)到点\(B\)的线段，
计算\(\int_{L_1} y^2 \dd{x}\)和\(\int_{L_2} y^2 \dd{x}\).
\begin{solution}
\(L_1\)可由参数方程\[
	x = a \cos\theta,
	\qquad
	y = a \sin\theta
\]表出，
当参数\(\theta\)从\(0\)变到\(\pi\)，
有\[
	\int_{L_1} y^2 \dd{x}
	= \int_0^\pi a^2 \sin^2 \theta \cdot (-a \sin\theta) \dd{\theta}
	= -\frac{4}{3} a^3.
\]

而\(L_2\)的方程为\(y=0\)，\(x\)从\(a\)变到\(-a\)，有\[
	\int_{L_2} y^2 \dd{x} = \int_a^{-a} 0 \dd{x} = 0.
\]
\end{solution}
\end{example}
从上例可以看出，在第二类曲线积分中，
虽然被积函数相同，起点和终点也相同，
但沿着不同路径得出的积分值并不相等.

\begin{example}
设\(L_1\)是抛物线\(y=x^2\)上从\(O(0,0)\)到\(B(1,1)\)的一段弧；
\(L_2\)是抛物线\(x=y^2\)上从\(O(0,0)\)到\(B(1,1)\)的一段弧；
\(L_3\)是有向折线\(OAB\)，其中\(O,A,B\)依次是点\((0,0),(1,0),(1,1)\).
计算\(\int_L 2xy\dd{x}+x^2\dd{y}\).
\begin{solution}
将\(\int_{L_1} 2xy\dd{x}+x^2\dd{y}\)化为对\(x\)的定积分，
\(y=x^2, \dd{y}=2x\dd{x}\)，\(x\)从0变到1，
所以\[
	\int_{L_1} 2xy\dd{x}+x^2\dd{y}
	= \int_0^1 (2x \cdot x^2 + x^2) \dd{x}
	= 4 \int_0^1 x^3 \dd{x} = 1.
\]

将\(\int_{L_2} 2xy\dd{x}+x^2\dd{y}\)化为对\(y\)的定积分，
\(x=y^2, \dd{x}=2y\dd{y}\)，\(y\)从0变到1，
所以\[
	\int_{L_2} 2xy\dd{x}+x^2\dd{y}
	= \int_0^1 (2y^2 \cdot y \cdot 2y + y^4) \dd{y}
	= 5 \int_0^1 y^4 \dd{y} = 1.
\]

显然\(\int_{L_3} 2xy\dd{x}+x^2\dd{y}
= \int_{OA} 2xy\dd{x}+x^2\dd{y}
+ \int_{AB} 2xy\dd{x}+x^2\dd{y}\).
在\(OA\)上，\(y=0\)，\(x\)从0变到1，所以\[
	\int_{OA} 2xy\dd{x}+x^2\dd{y}
	= \int_0^1 (2x\cdot0+x^2\cdot0) \dd{x} = 0.
\]
在\(AB\)上，\(x=1, \dd{x}=0\)，\(y\)从0变到1，所以\[
	\int_{AB} 2xy\dd{x}+x^2\dd{y}
	= \int_0^1 (2y\cdot0+1) \dd{y} = 1.
\]
从而\[
	\int_{L_3} 2xy\dd{x}+x^2\dd{y} = 0 + 1 = 1.
\]
\end{solution}
\end{example}
从上例可以看出，虽然沿不同路径，曲线积分的值可以相等.

\begin{example}
设一个质点在点\(M(x,y)\)处受到力\(\vb{F}\)的作用，
\(\vb{F}\)的大小与点\(M\)到原点\(O\)的距离成正比，
\(\vb{F}\)的方向恒指向原点.
此质点由点\(A(a,0)\)
沿椭圆\(\frac{x^2}{a^2}+\frac{y^2}{b^2}=1\)
按逆时针方向移动到点\(B(0,b)\)，
求力\(\vb{F}\)所作的功\(W\).
\begin{solution}
记\(\vec{OM} = x\vb{i}+y\vb{j}\)，那么\(\abs{\vec{OM}} = \sqrt{x^2+y^2}\).
由假设有\[
	\vb{F} = -k(x\vb{i}+y\vb{j}) \quad (k>0),
\]
于是\[
	W = \int_{AB} \vb{F} \cdot \dd{\vb{r}}
	= \int_{AB} -kx\dd{x}-ky\dd{y}
	= -k \int_{AB} x\dd{x}+y\dd{y}.
\]
利用椭圆的参数方程\[
	\begin{cases}
		x = a \cos t, \\
		y = b \sin t,
	\end{cases}
\]
起点\(A\)、终点\(B\)分别对应参数\(t = 0,\frac{\pi}{2}\).
于是\begin{align*}
	W &= -k \int_0^{\pi/2} (-a^2 \cos t \sin t + b^2 \sin t \cos t) \dd{t} \\
	&= \frac{k}{2}(a^2-b^2) \int_0^{\pi/2} \sin 2t \dd{t}
	= \frac{k}{2}(a^2-b^2).
\end{align*}
\end{solution}
\end{example}
