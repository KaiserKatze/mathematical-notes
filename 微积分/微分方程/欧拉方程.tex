\section{欧拉方程}
%@see: 《高等数学（第六版 上册）》 P348
变系数的线性微分方程一般来说都是不容易求解的.
但是有些特殊的变系数线性微分方程则可以通过变量代换化为常系数线性微分方程，因而容易求解，欧拉方程就是其中的一种.

形如\begin{equation}\label{equation:微分方程.欧拉方程的一般形式}
%@see: 《高等数学（第六版 上册）》 P348 (1)
	x^n y^{(n)} + p_1 x^{n-1} y^{(n-1)} + \dotsb + p_{n-1} x y' + p_n y = f(x)
\end{equation}的方程（其中\(p_1,p_2,\dotsc,p_n\)为常数），
叫做\DefineConcept{欧拉方程}.

作变换\begin{equation*}
	x = e^t \quad\text{或}\quad t = \ln x,
\end{equation*}
将自变量\(x\)换成\(t\)\footnote{这里仅在\(x>0\)范围内求解.
如果要在\(x<0\)内求解，则可作变换\(x=-e^t\)或\(t=\ln(-x)\)，所得结果与\(x>0\)内的结果相类似.}，
我们有\begin{align*}
	\dv{y}{x}
	&= \dv{y}{t} \cdot \dv{t}{x} = \frac{1}{x} \dv{y}{t}, \\
	\dv[2]{y}{x}
	&= \frac{1}{x^2} \left( \dv[2]{y}{t} - \dv{y}{t} \right), \\
	\dv[3]{y}{x}
	&= \frac{1}{x^3} \left( \dv[3]{y}{t} - 3 \dv[2]{y}{t} + 2 \dv{y}{t} \right).
\end{align*}

如果采用记号\(D\)表示对\(t\)求导的运算\(\dv{t}\)，
那么上述计算结果可以写成\begin{align*}
	x y' &= Dy, \\
	x^2 y'' &= \dv[2]{y}{t} - \dv{y}{t}
		= \left(\dv[2]{t} - \dv{t}\right)y \\
		&= (D^2 - D)y = D(D-1)y, \\
	x^3 y''' &= \dv[3]{y}{t} - 3 \dv[2]{y}{t} + 2 \dv{y}{t} \\
		&= (D^3-3D^2+2D)y = D(D-1)(D-2)y.
\end{align*}
一般地，有\(x^k y^{(k)} = D(D-1)\dotsm(D-k+1)y\).

把它代入欧拉方程 \labelcref{equation:微分方程.欧拉方程的一般形式}，
便得一个以\(t\)为自变量的常系数线性微分方程.
在求出这个方程的解后，把\(t\)换成\(\ln x\)，即得原方程的解.

\begin{example}
%@see: 《高等数学（第六版 上册）》 P349 例
求欧拉方程\(x^3 y''' + x^2 y'' - 4 x y' = 3 x^2\)的通解.
\begin{solution}
作变换\(x = e^t\)，原方程化为\begin{equation*}
	D(D-1)(D-2)y + D(D-1)y - 4 Dy = 3 e^{2t},
\end{equation*}
即\begin{equation*}
	D^3 y - 2 D^2 y - 3 Dy = 3 e^{2t}.
	\eqno(1)
\end{equation*}
方程(1)对应的齐次方程为\begin{equation*}
	\dv[3]{y}{t} - 2 \dv[2]{y}{t} - 3 \dv{y}{t} = 0,
	\eqno(2)
\end{equation*}
其特征方程为\begin{equation*}
	r^3 - 2 r^2 - 3 r = 0,
\end{equation*}
它有三个根，分别为\begin{equation*}
	r_1 = 0,
	\qquad
	r_2 = -1,
	\qquad
	r_3 = 3.
\end{equation*}
于是方程(2)的通解为\begin{equation*}
	Y = C_1 + C_2 e^{-t} + C_3 e^{3t}.
\end{equation*}
假设方程(1)的特解为\begin{equation*}
	y^* = b e^{2t}
	= b x^2,
\end{equation*}
代入原方程，求得\(b = -\frac12\)，
即\begin{equation*}
	y^* = -\frac12 x^2.
\end{equation*}
于是，所给欧拉方程的通解为\begin{equation*}
	y = C_1 + C_2 e^{-t} + C_3 e^{3t} - \frac12 x^2.
\end{equation*}
\end{solution}
%@Mathematica: DSolve[x^3 y'''[x] + x^2 y''[x] - 4 x y'[x] == 3 x^2, y[x], x]
\end{example}

\begin{example}
%@see: 《2004年全国硕士研究生入学统一考试（数学一）》一填空题/第4题
求欧拉方程\(x^2 y'' + 4 x y' + 2 y = 0\ (x>0)\)的通解.
\begin{solution}
作变换\(x = e^t\)，原方程化为\begin{equation*}
	D(D-1)y + 4 Dy + 2y = 0,
\end{equation*}
即\(D^2y + 3 Dy + 2y = 0\)，
其特征方程为\begin{equation*}
	r^2 + 3r + 2 = 0,
\end{equation*}
它有两个根，分别是\(r_1 = -2,r_2 = -1\).
于是变换后的微分方程的通解为\(y(t) = C_1 e^{-2t} + C_2 e^{-t}\).
把\(t\)换回\(\ln x\)，得\begin{equation*}
	y(x) = \frac{C_1}{x^2} + \frac{C_2}{x}.
\end{equation*}
\end{solution}
%@Mathematica: DSolve[x^2 y''[x] + 4 x y'[x] + 2 y[x] == 0, y[x], x]
\end{example}
\begin{example}
%@see: 《2021年全国硕士研究生入学统一考试（数学一）》二填空题/第13题
求欧拉方程\(x^2 y'' + x y' - 4 y = 0\)
满足条件\(y(1) = 1,y'(1) = 2\)的解.
\begin{solution}
作变换\(x = e^t\)，原方程化为\begin{equation*}
	D(D-1)y + Dy - 4y = 0,
\end{equation*}
即\begin{equation*}
	D^2y - 4y = 0,
\end{equation*}
其特征方程为\begin{equation*}
	r^2 - 4 = 0,
\end{equation*}
它有两个根，分别为\(r_1 = -2,r_2 = 2\).
于是变换后的微分方程的通解为\(y(t) = C_1 e^{-2t} + C_2 e^{2t}\).
把\(t\)换回\(\ln x\)，得\begin{equation*}
	y(x) = C_1 x^{-2} + C_2 x^2.
\end{equation*}
代入条件\(y(1) = 1,y'(1) = 2\)得\begin{equation*}
	C_1 + C_2 = 1,
	\qquad
	-2 C_1 + 2 C_2 = 2,
\end{equation*}
解得\(C_1 = 0,C_2 = 1\)，
故所求欧拉方程的解为\(y(x) = x^2\).
\end{solution}
%@Mathematica: DSolve[x^2 y''[x] + x y'[x] - 4 y[x] == 0 && y[1] == 1 && y'[1] == 2, y[x], x]
\end{example}
