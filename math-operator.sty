\ProvidesPackage{math-operator}  % 自定义函数

\usepackage{centernot}
\def\notimplies{\centernot\implies}
\def\notiff{\centernot\iff}
\def\napprox{\not\approx}

\newcommand{\rel}[1]{ \mathcal{#1} }  % 关系

\NewDocumentCommand\SetComplementaryL{mo}{\overline{#1}}  % 一元运算符，表示一个集合的补集（第1种形式：上划线）
\NewDocumentCommand\SetComplementaryC{mo}{\complement\IfValueTF{#2}{_{#2}}{} #1}  % 一元运算符，表示一个集合的补集（第2种形式：

\def\symdiff{\triangle} % 对称差
\def\ineq{\underset{\scalebox{.9}{\raisebox{.6ex}{$\smash[t]{-}$}}}{\in}}  % 表示“前者属于后者，或前者等于后者”

\RequirePackage{amsmath}

\DeclareMathOperator\sgn{sgn} % 符号函数
\DeclareMathOperator\arsinh{arsinh}  % 反双曲正弦
\DeclareMathOperator\arcosh{arcosh}  % 反双曲余弦
\DeclareMathOperator\artanh{artanh}  % 反双曲正切
\DeclareMathOperator\arcoth{arcoth}  % 反双曲余切
\DeclareMathOperator\arsech{arsech}  % 反双曲正割
\DeclareMathOperator\arcsch{arcsch}  % 反双曲余割

\DeclareMathOperator\amp{amp}% 振幅（函数在集合上的振幅）；后面跟由一个括号括起来的三个参数，用分号间隔，三个参数依次是函数、集合、半径
\DeclareMathOperator*\ord{ord}% 阶（无穷小或无穷大的阶）；后面跟一个实值函数

\DeclareMathOperator*\Accumulate{acc} % 累积（用来定义连加、连乘）

\DeclareMathOperator\Prj{Prj} % 《解析几何》向量的投影

\DeclareMathOperator\diag{diag}  % 对角矩阵
\DeclareMathOperator\Circ{Circ}  % 循环矩阵

\NewDocumentCommand\EquivalenceClassO{mo}{\overline{#1}}  % 等价类（第1种形式：给代表加上划线，省略关系）
\NewDocumentCommand\EquivalenceClassBH{mo}{#2[#1]}  % 等价类（第2种形式：把代表放在方括号里，关系放在括号前面）
\NewDocumentCommand\EquivalenceClassBT{mo}{[#1]_{#2}}  % 等价类（第3种形式：把代表放在方括号里，关系作为下标）
\NewDocumentCommand\EquivalenceClassB{mo}{[#1]}  % 等价类（第4种形式：把代表放在方括号里，省略关系）

% 复变函数
\DeclareMathOperator\Arg{Arg}  % 复数 辐角
\DeclareMathOperator\Cov{Cov}  % 协方差
\DeclareMathOperator\Ln{Ln}  % 复对数函数
\DeclareMathOperator\Arcsin{Arcsin}  % 复反正弦函数
\DeclareMathOperator\Arccos{Arccos}  % 复反余弦函数
\DeclareMathOperator*\Res{Res} % 留数

% 逻辑二元运算符
\def\lxor{\oplus}
\def\lnand{\uparrow}
\def\lnor{\downarrow}
\def\limp{\rightarrow}
\def\liff{\leftrightarrow}
\def\lnimp{\not\limp}

\ifdefined\dualmodels
	\PackageWarning{math-operator}{Command `\string\dualmodels' already defined!}
\fi
\def\dualmodels{\raisebox{-.5834em}{\begin{tikzpicture}
\draw(0,0)node{$\models$};
\draw(1em,0)node{\rotatebox{180}{$\models$}};
\end{tikzpicture}}}

% 集合一元运算符
\DeclareMathOperator\card{card}  % 集合基数
\DeclareMathOperator\dom{dom} % 关系 定义域
\DeclareMathOperator\ran{ran} % 关系 值域
\DeclareMathOperator\fld{fld} % 关系 域
% \DeclareMathOperator*{\BigTimes}{\scalebox{1.5}[2.25]{\raisebox{-1.2pt}{\(\times\)}}}  % 无穷直积
\let\BigTimes\prod  % 无穷直积
\DeclareMathOperator\diam{diam} % （度量空间中的）集合直径

% 集合二元运算符
\def\SetRestrict{\upharpoonright}  % 二元运算符，映射在集合上的限制

% 线性代数
\DeclareMathOperator\FieldChar{char}  % 域的特征

\DeclareMathOperator\Span{span} % 子空间
\def\SpanR{\Span_{\mathrm{R}}} % 矩阵的行空间
\def\SpanC{\Span_{\mathrm{C}}} % 矩阵的列空间
\def\RankR{\rank_{\mathrm{R}}} % 矩阵的行秩
\def\RankC{\rank_{\mathrm{C}}} % 矩阵的列秩

\DeclareMathOperator\codim{codim}  % 子空间的余维数
\DeclareMathOperator\pdim{pdim}  % 子空间的射影维数

\DeclareMathOperator\Hom{Hom}  % 线性映射空间
\DeclareMathOperator\Ker{Ker}  % 线性映射的核空间
\DeclareMathOperator\Img{Im}  % 线性映射的像空间（这里不直接用 \Im 是为了和复数的虚部相区别）

\def\mod{~\mathrm{mod}~} % 二元算数运算：求余数，取模

\def\DirectSum{\oplus}  % 二元运算符，同一个线性空间的两个子空间的直和
\def\CartesianSum{\times}  % 二元运算符，两个线性空间的笛卡尔和
\def\BigDirectSum{\bigoplus}  % 若干个子空间组成的序列的直和

\def\AlgebraSubstructure{\leq}  % 二元关系符，左边的代数结构是右边的代数结构的子结构
\def\Isomorphism{\simeq}  % 二元关系符，两个代数结构同构
\def\Homomorphism{\sim}  % 二元关系符，两个代数结构同态

\def\LinearMapMatrix{\mathcal{M}}  % 线性映射的矩阵表示
\def\VectorMatrix{\LinearMapMatrix}  % 线性空间元素的矩阵表示（坐标）
\def\BilinearMatrix{\LinearMapMatrix}  % 双线性函数（双线性型、二次型）的矩阵表示（度量矩阵）

\DeclareMathOperator\Rad{rad}  % 双线性函数在线性空间中的根

\NewDocumentCommand\VectorInnerProductDot{mm}{#1\cdot#2}  % 向量内积（第1种形式：点乘）
\NewDocumentCommand\VectorOuterProduct{mm}{#1\times#2}  % 向量外积（叉乘）
\NewDocumentCommand\VectorMixedProductCD{mmm}{(#1\times#2)\cdot#3}  % 向量混合积（第1种形式：先叉乘，再点乘）
\NewDocumentCommand\VectorMixedProductDC{mmm}{#1\cdot(#2\times#3)}  % 向量混合积（第2种形式：先点乘，后叉乘）

\NewDocumentCommand\VectorLengthA{m}{\abs{#1}}  % 实内积空间中的向量长度（第1种形式：绝对值符号）
\NewDocumentCommand\VectorLengthN{m}{\norm{#1}}  % 实内积空间中的向量长度（第1种形式：绝对值符号）
\NewDocumentCommand\VectorAngleA{mm}{\angle(#1,#2)}  % 实内积空间中的向量夹角（第1种形式：角）
\NewDocumentCommand\VectorAngleP{mm}{\opair{#1,#2}}  % 实内积空间中的向量夹角（第2种形式：尖括号）

\NewDocumentCommand\DeterminantA{m}{\abs{#1}}  % 行列式（第1种形式：绝对值符号）
\NewDocumentCommand\ComplexConjugate{m}{\overline{#1}}  % 共轭复数（上划线）
\NewDocumentCommand\ComplexLengthA{m}{\abs{#1}}  % 复数的模（第1种形式：绝对值符号）

\NewDocumentCommand\MatrixNorm{m}{\norm{#1}}  % 矩阵的模
\NewDocumentCommand\MatrixKroneckerTensorProduct{mm}{#1\otimes#2}  % 矩阵的克罗内克积
\NewDocumentCommand\MatrixHadamardProduct{mm}{#1\circ#2}  % 矩阵的阿达玛积
\NewDocumentCommand\MatrixConcatColumn{m}{\operatorname{vec}#1}  % 将矩阵的列向量按照从上到下的顺序依次连接

\DeclareMathOperator\Spec{Spec}  % 矩阵的谱（矩阵的全体特征值）

\def\TopoRestrict{\SetRestrict}  % 二元运算符，拓扑空间中一个集族在一个集合上的限制（含义完全不同于关系在集合上的限制）
\NewDocumentCommand\TopoInterior{m}{#1^\circ}  % 拓扑空间中点集的内部
\NewDocumentCommand\TopoDerived{m}{#1'}  % 拓扑空间中点集的导集
\NewDocumentCommand\TopoClosureL{m}{\overline{#1}}  % 拓扑空间中点集的闭包（第1种形式：上划线）
\NewDocumentCommand\TopoClosureM{m}{#1^-}  % 拓扑空间中点集的闭包（第2种形式：上标减号）
\NewDocumentCommand\TopoBoundary{m}{\partial #1}  % 拓扑空间中点集的边界
\def\Homeomorphism{\cong}  % 二元关系符，两个拓扑空间同胚

\NewDocumentCommand\LineSegmentLength{m}{\abs{#1}}  % 线段长度
\def\MatrixElementaryOperation{\to}  % 矩阵的初等变换（包括初等行变换、初等列变换）

\DeclareMathOperator*\argmax{argmax}  % 求最大值点
\DeclareMathOperator*\argmin{argmin}  % 求最小值点
