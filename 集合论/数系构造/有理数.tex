\section{有理数}
我们现在把整数集\(\mathbb{Z}\)扩张为有理数集\(\mathbb{Q}\).
这个过程正如我们在上一节将\(\omega\)扩张为\(\mathbb{Z}\)时一样.
实际上，从\(\mathbb{Z}\)到\(\mathbb{Q}\)的拓展体现在乘法上，
这就类似于，从\(\omega\)到\(\mathbb{Z}\)的拓展体现在加法上.
在整数集中，我们得到了加法的逆；
在有理数集中，我们希望得到乘法的逆.

\subsection{有理数集}
\begin{definition}
%@see: 《Elements of Set Theory》 P102 Definition
设\(\mathbb{Z}^* \defeq \mathbb{Z}-\{0\}\).
我们定义\(\mathbb{Z}\times\mathbb{Z}^*\)上的关系\(\sim\)如下：
\begin{equation*}
	(\forall a,c\in\mathbb{Z})
	(\forall b,d\in\mathbb{Z}^*)
	[
		\opair{a,b} \sim \opair{c,d}
		\defiff
		a \cdot d = c \cdot b
	].
\end{equation*}

把任意一个整数\(a\)和一个非零整数\(b\)的比\(\opair{a,b}\)在关系\(\sim\)下的等价类\begin{equation*}
	\EquivalenceClassB{\opair{a,b}}[\sim]
\end{equation*}叫做一个\DefineConcept{分数}（fraction），
%@see: https://mathworld.wolfram.com/Fraction.html
把\(a\)称为\DefineConcept{分子}（numerator），
%@see: https://mathworld.wolfram.com/Numerator.html
把\(b\)称为\DefineConcept{分母}（denominator）.
%@see: https://mathworld.wolfram.com/Denominator.html

称“\(\mathbb{Z}\times\mathbb{Z}^*\)对\(\sim\)的商集”为%
\DefineConcept{有理数集}（the set of rational numbers），
记作\(\mathbb{Q}\)，即\begin{equation*}
	\mathbb{Q} \defeq \RationalQuotient.
\end{equation*}
\end{definition}

\begin{theorem}
%@see: 《Elements of Set Theory》 P102 Theorem 5QA
关系\(\sim\)是\(\mathbb{Z}\times\mathbb{Z}^*\)上的等价关系.
\end{theorem}

\begin{figure}[htb]
	%@see: 《Elements of Set Theory》 P103Fig. 22. Rational numbers are nonhorizontal lines
	\centering
	\begin{tikzpicture}[scale=.5]
		\draw[help lines, color=gray!30, dashed] (-9,-9)grid(9,9);
		\begin{scope}[>=Stealth,->]
			\draw(0,-10)--(0,10);
			\draw(-10,0)--(10,0);
		\end{scope}
		\foreach \i in {-9,...,9} {
			\foreach \j in {-9,...,9} {
				\fill (\i,\j)circle(2pt);
			}
		}
		\draw(-3,-9)--(3,9)node[above right]{\(\tfrac{1}{3}\)};
		\draw(-5,-9)--(5,9)node[above right]{\(\tfrac{5}{9}\)};
		\draw(-9,-9)--(9,9)node[above right]{\(1\)};
		\draw(-9,-3)--(9,3)node[above right]{\(3\)};
	\end{tikzpicture}
	\caption{有理数是\(\mathbb{Z}\times\mathbb{Z}^*\)上的“直线”}
\end{figure}

\subsection{有理数集上的加法运算}
我们定义有理数集上的加法运算：
\begin{equation}\label{equation:集合论.有理数集上的加法运算}
	\EquivalenceClassB{\opair{a,b}}[\sim]
	+ \EquivalenceClassB{\opair{c,d}}[\sim]
	= \EquivalenceClassB{\opair{ad+cb,bd}}[\sim].
\end{equation}

\begin{lemma}\label{theorem:集合论.有理数集上的加法运算是良定的}
%@see: 《Elements of Set Theory》 P104 Lemma 5QB
如果\(\opair{a,b}\sim\opair{a',b'}\)且\(\opair{c,d}\sim\opair{c',d'}\)，那么\begin{equation*}
	\opair{ad+cb,bd}\sim\opair{a'd'+c'b',b'd'}.
\end{equation*}
\end{lemma}

\begin{theorem}\label{theorem:集合论.有理数加法的运算法则}
%@see: 《Elements of Set Theory》 P104 Theorem 5QC
以下命题恒成立：
\begin{enumerate}
	\item 加法交换律
	\begin{equation}\label{equation:集合论.有理数加法交换律}
		(\forall a,b\in\mathbb{Q})[a+b=b+a].
	\end{equation}
	\item 加法结合律
	\begin{equation}\label{equation:集合论.有理数加法结合律}
		(\forall a,b,c\in\mathbb{Q})[(a+b)+c=a+(b+c)].
	\end{equation}
	\item 任意有理数加上有理数\(0\defeq\EquivalenceClassB{\opair{0,1}}[\sim]\)不变
	\begin{equation}\label{equation:集合论.任意有理数加上零不变}
		(\forall a\in\mathbb{Q})[a+0=a].
	\end{equation}
	\item 加法可逆
	\begin{equation}\label{equation:集合论.有理数加法可逆}
		(\forall a\in\mathbb{Q})(\exists!b\in\mathbb{Q})[a+b=0].
	\end{equation}
\end{enumerate}
\end{theorem}

\subsection{有理数集上的乘法运算}
我们定义有理数集上的乘法运算：
\begin{equation}\label{equation:集合论.有理数集上的乘法运算}
	\EquivalenceClassB{\opair{a,b}}[\sim]
	\cdot \EquivalenceClassB{\opair{c,d}}[\sim]
	= \EquivalenceClassB{\opair{ac,bd}}[\sim].
\end{equation}

\begin{lemma}\label{theorem:集合论.有理数集上的乘法运算是良定的}
%@see: 《Elements of Set Theory》 P106 Lemma 5QD
如果\(\opair{a,b}\sim\opair{a',b'}\)且\(\opair{c,d}\sim\opair{c',d'}\)，那么\begin{equation*}
	\opair{ac,bd}\sim\opair{a'c',b'd'}.
\end{equation*}
\end{lemma}

\begin{theorem}\label{theorem:集合论.有理数乘法的运算法则}
%@see: 《Elements of Set Theory》 P106 Theorem 5QE
%@see: 《Elements of Set Theory》 P107 Theorem 5QF
%@see: 《Elements of Set Theory》 P107 Corollary 5QG
以下命题恒成立：
\begin{enumerate}
	\item 乘法交换律
	\begin{equation}\label{equation:集合论.有理数乘法交换律}
		(\forall a,b\in\mathbb{Q})[a \cdot b = b \cdot a].
	\end{equation}
	\item 乘法结合律
	\begin{equation}\label{equation:集合论.有理数乘法结合律}
		(\forall a,b,c\in\mathbb{Q})[(a \cdot b) \cdot c = a \cdot (b \cdot c)].
	\end{equation}
	\item 乘法分配律
	\begin{equation}\label{equation:集合论.有理数乘法分配律}
		(\forall a,b,c\in\mathbb{Q})[a \cdot (b + c) = (a \cdot b) + (a \cdot c)].
	\end{equation}
	\item 对\(\forall r\in\mathbb{Q}^*\)，\(\exists! q\in\mathbb{Q}\)，使得\begin{equation*}
		r \cdot q = 1.
	\end{equation*}
	\item 对\(\forall r,s\in\mathbb{Q}^*\)，\begin{equation*}
		r \cdot s \neq 0.
	\end{equation*}
	\item 任意有理数乘上有理数\(1\defeq\EquivalenceClassB{\opair{1,1}}[\sim]\)不变，即
	\begin{equation}\label{equation:集合论.任意有理数乘上一不变}
		(\forall a\in\mathbb{Z})[a \cdot 1 = a].
	\end{equation}
	\item 有理数\(1\)与有理数\(0\)不相等，即\(1\neq0\).
	\item 如果\(a \cdot b = 0\)，那么\(a = 0 \lor b = 0\).
\end{enumerate}
\end{theorem}

由于对于任意给定的一个非零有理数\(a\)，满足\(a \cdot b = 1\)的有理数\(b\)存在且唯一.
于是，我们可以把\(b\)叫做“\(a\)的逆”，记作\(a^{-1}\).
那么有\begin{equation}
	\EquivalenceClassB{\opair{a,b}}[\sim]^{-1}
	= \EquivalenceClassB{\opair{b,a}}[\sim].
\end{equation}
有理数的逆为我们提供了\DefineConcept{除法运算}（division operation）：
\begin{equation}
	s/r \defeq s \cdot (r^{-1}).
\end{equation}

我们可以说\(\opair{\mathbb{Q},+,\cdot}\)构成了\DefineConcept{有理数域}（rational field）.

\subsection{有理数的序}
定义有理数集上的序：
\begin{equation}
	\EquivalenceClassB{\opair{a,b}}[\sim]<\EquivalenceClassB{\opair{c,d}}[\sim]
	\iff
	ad<cb.
\end{equation}

\begin{lemma}\label{theorem:集合论.有理数集上的序是良定的}
%@see: 《Elements of Set Theory》 P108 Lemma 5QH
如果\(\opair{a,b}\sim\opair{a',b'}\)，
\(\opair{c,d}\sim\opair{c',d'}\)，
\(b,b',d,d'\in\mathbb{Z}^+\)，
那么\begin{equation*}
	ad<cb \iff a'd'<c'b'.
\end{equation*}
\end{lemma}

\begin{theorem}\label{theorem:集合论.有理数集上的序是线性序}
%@see: 《Elements of Set Theory》 P108 Lemma 5QI
关系\(<\)是有理数集\(\mathbb{Q}\)上的线性序.
\end{theorem}

\begin{definition}
设\(r\)是有理数.
如果\begin{equation*}
	0<r,
\end{equation*}
那么称“\(r\)是\DefineConcept{正的}”，
或称“\(r\)是\DefineConcept{正有理数}”.
反之，如果\begin{equation*}
	r<0,
\end{equation*}
那么称“\(r\)是\DefineConcept{负的}”，
或称“\(r\)是\DefineConcept{负有理数}”.
\end{definition}

任给一个有理数\(q\)，容易验证\begin{equation*}
	q < 0
	\iff
	0 < -q.
\end{equation*}
于是我们有三一律：\begin{equation*}
	\text{\(q\)是正的}, \qquad
	\text{\(q\)是零}, \qquad
	\text{\(-q\)是正的}
\end{equation*}这三个命题有且仅有一个成立.

我们可以定义任意有理数\(r\)的\DefineConcept{绝对值}（absolute value）为：
\begin{equation}
	\abs{r} \defeq \left\{ \begin{array}{rl}
		-r, & \text{\(-r\)是正的}, \\
		r, & \text{其他}.
	\end{array} \right.
\end{equation}

\begin{theorem}\label{theorem:集合论.有理数的加法与乘法的保序性}
%@see: 《Elements of Set Theory》 P109 Theorem 5QJ
设\(r,s,t\in\mathbb{Q}\).
\begin{gather}
	r<s \iff r+t<s+t,
	\label{equation:集合论.有理数的加法的保序性} \\
	0<t \implies \bigl(
		r<s \iff r \cdot t < s \cdot t
	\bigr).
	\label{equation:集合论.有理数的乘法的保序性}
\end{gather}
\end{theorem}

\begin{theorem}\label{theorem:集合论.有理数的消去律}
%@see: 《Elements of Set Theory》 P110 Theorem 5QK
设\(r,s,t\in\mathbb{Q}\).
那么\begin{gather*}
	r+t=s+t \implies r=s, \\
	r \cdot t = s \cdot t \land t \neq 0 \implies r=s.
\end{gather*}
\end{theorem}
